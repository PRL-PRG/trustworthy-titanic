<!DOCTYPE html>
<html lang="en">
<head>
    <title>titanicScript | Kaggle</title>
    <meta charset="utf-8" />
    <meta name="robots" content="index, follow" />
    <meta name="turbolinks-cache-control" content="no-cache" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">    <meta name="theme-color" content="#008ABC" />
    <script type="text/javascript">
        window["initialPageLoadStartTime"] = new Date().getTime();
    </script>
    <link rel="dns-prefetch" href="https://www.google-analytics.com" /><link rel="dns-prefetch" href="https://stats.g.doubleclick.net" /><link rel="dns-prefetch" href="https://js.intercomcdn.com" /><link rel="dns-prefetch" href="https://storage.googleapis.com/" />
    <link href="/static/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link rel="manifest" href="/static/json/manifest.json">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic" rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Google+Material+Icons" rel="stylesheet" type='text/css'/>
        <link rel="canonical" href="/lstnr1/titanicscript" />                    <link rel="stylesheet" type="text/css" href="/static/assets/vendor.css?v=7ea4d33f7a18" />
        <link rel="stylesheet" type="text/css" href="/static/assets/app.css?v=f2d0c2b259f9" />
    
    
 
        <script>
        try{(function(a,s,y,n,c,h,i,d,e){d=s.createElement("style");
        d.appendChild(s.createTextNode(""));s.head.appendChild(d);d=d.sheet;
        y=y.map(x => d.insertRule(x + "{ opacity: 0 !important }"));
        h.start=1*new Date;h.end=i=function(){y.forEach(x => x<d.cssRules.length ? d.deleteRule(x) : {})};
        (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
        })(window,document,['.site-header-react__nav'],'dataLayer',2000,{'GTM-52LNT9S':true});}catch{}
    </script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-12629138-1', {
            'optimize_id': 'GTM-52LNT9S',
            'displayFeaturesTask': null,
            'send_page_view': false
        });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12629138-1"></script>

    
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
            n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq("set", "autoConfig", "false", "136809193586742");
    fbq('init', '136809193586742'); 
    fbq('track', 'PageView');
</script>
<noscript>
    <img height="1" width="1" src="https://www.facebook.com/tr?id=136809193586742&ev=PageView&noscript=1"/>
</noscript>

<script>window.intercomSettings = {"app_id":"koj6gxx6"};</script>        <script>(function () { var w = window; var ic = w.Intercom; if (typeof ic === "function") { ic('reattach_activator'); ic('update', intercomSettings); } else { var d = document; var i = function () { i.c(arguments) }; i.q = []; i.c = function (args) { i.q.push(args) }; w.Intercom = i; function l() { var s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'https://widget.intercom.io/widget/koj6gxx6'; var x = d.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); } if (w.attachEvent) { w.attachEvent('onload', l); } else { w.addEventListener('load', l, false); } } })()</script>
    
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@kaggledatasets" />
    <meta name="og:url" content="https://kaggle.com/lstnr1/titanicscript" />
    <meta name="og:title" content="titanicScript" />
    <meta name="og:description" content="Using data from Titanic: Machine Learning from Disaster" />
    <meta name="og:image" content="https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png" />


    
    

    
    
    
<script type="text/javascript">
    var Kaggle = Kaggle || {};

    Kaggle.Current = {
        antiForgeryToken: 'CfDJ8LdUzqlsSWBPr4Ce3rb9VL_tQc7iuoSYYPyLx2n0B8JEoIOWK6ODvnX6HnnxMbp3lowP_TwHH7pkNNMVvfKK1CYEnUM-md8j_NjAsH2eKdjQ2IOl4D-3YMmuMKN7go7rQoO_oRxBO20_PgYXRDDaOXo',
        isAnonymous: true,
        analyticsToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjM2Mzc2MzksIlVzZXJJZCI6MH0.vylCB0Gb4cQXSLV9ygbofHOiolt5LJQLPrWZ_Fjz088',
        analyticsTokenExpiry: 15,
        internetKernelsEnabled: false,
        
        
        
        
        
        
        
        
        mdeImageUploader: true,
        
        
        
    }
        Kaggle.Current.log = function(){};
        Kaggle.Current.warn = function(){};

    var decodeUserDisplayName = function () {
        var escapedUserDisplayName = Kaggle.Current.userDisplayNameEscaped || "";
        try {
            var textVersion = new DOMParser().parseFromString(escapedUserDisplayName, "text/html").documentElement.textContent;
            if (textVersion) {
                return textVersion;
            }
        } catch(ex) {}
        return escapedUserDisplayName;
    }
    Kaggle.Current.userDisplayName = decodeUserDisplayName();
</script>

    

<script type="text/javascript">
    var Kaggle = Kaggle || {};
    Kaggle.PageMessages = [];
</script>

    
<script type="text/javascript">
/* <![CDATA[ */
goog_snippet_vars = function() {
    var w = window;
    w.google_conversion_id = 955616553;
    w.google_conversion_label = "QSjvCKDksHMQqZrWxwM";
    w.google_conversion_value = 0.00;
    w.google_conversion_currency = "USD";
    w.google_remarketing_only = false;
    w.google_conversion_language = "en";
    w.google_conversion_format = "3";
    w.google_conversion_color = "ffffff";
}
// DO NOT CHANGE THE CODE BELOW.
goog_report_conversion = function(url) {
    goog_snippet_vars();
    window.google_conversion_format = "3";
    var opt = new Object();
    opt.onload_callback = function() {
        if (typeof(url) != 'undefined') {
            window.location = url;
        }
    }
    var conv_handler = window['google_trackConversion'];
    if (typeof(conv_handler) == 'function') {
        conv_handler(opt);
    }
}
/* ]]> */
</script>
<script type="text/javascript"
src="//www.googleadservices.com/pagead/conversion_async.js">
</script>



        <script>window['useKaggleAnalytics'] = true;</script>

    <script src="/static/assets/vendor.js?v=7f1b67b62508" data-turbolinks-track="reload"></script>
    <script src="/static/assets/app.js?v=c7ce3d5abb3d" data-turbolinks-track="reload"></script>
        <script>
            (function() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register("/static/assets/service-worker.js").then(function(reg) {
                        reg.onupdatefound = function() {
                            var installingWorker = reg.installing;
                            installingWorker.onstatechange = function() {
                                switch (installingWorker.state) {
                                case 'installed':
                                    if (navigator.serviceWorker.controller) {
                                        console.log('New or updated content is available.');
                                    } else {
                                        console.log('Content is now available offline!');
                                    }
                                    break;
                                case 'redundant':
                                    console.error('The installing service worker became redundant.');
                                    break;
                                }
                            };
                        };
                    }).catch(function(e) {
                      console.error('Error during service worker registration:', e);
                    });
                }
            })();
        </script>
    <script>
        function handleClientLoad() {
            try {
                gapi.load('client:auth2');
            } catch (e) {
                // In Opera, readystatechange is an unreliable detection of script load, causing
                // this function to be called before gapi exists on the window. The onload callback
                // is still called at the correct time, so the feature works as expected - it's
                // just generating noisy errors.
            }
        }
    </script>
    <script async defer src="https://apis.google.com/js/api.js"
            onload="this.googleApiOnLoad=function(){};handleClientLoad()"
            onreadystatechange="if (this.readyState === 'complete') this.googleApiOnLoad()">
    </script>
            <script defer src="https://cdn.jsdelivr.net/npm/stackdriver-errors-js@0.7.0/dist/stackdriver-errors-concat.min.js"></script>
        <script type="text/javascript">
            window.addEventListener('DOMContentLoaded', function () {
                var errorHandler = new StackdriverErrorReporter();
                errorHandler.start({
                    key: 'AIzaSyDANGXFHtSIVc51MIdGwg4mQFgm3oNrKoo',
                    projectId: 'kaggle-161607',
                    service: 'web-fe',
                    version: 'ed96997455c95c047613615ceeeb0d4d542b4997',
                    context: { user: '0' }
                });
            });
        </script>
</head>
<body data-turbolinks="true">
    <main>
        






<div class="site-layout">
        <div class="site-layout__header">
            <div data-component-name="SiteHeaderContainer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({});performance && performance.mark && performance.mark("SiteHeaderContainer.componentCouldBootstrap");</script>
        </div>

    <div class="site-layout__main-content">
        

<div data-component-name="KernelViewer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({"kernel":{"id":74951,"title":"titanicScript","forkParent":null,"currentRunId":282747,"mostRecentRunId":282747,"url":"/lstnr1/titanicscript","tags":[],"commentCount":0,"upvoteCount":0,"viewCount":137,"forkCount":0,"bestPublicScore":null,"author":{"id":649017,"displayName":"lstnr1","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"lstnr1","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","profileUrl":"/lstnr1","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":1,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"isPrivate":false,"updatedTime":"2016-07-01T17:05:42.2366667Z","selfLink":"/kernels/74951","pinnedDockerImageVersionId":null,"isLanguageTemplate":false,"medal":null,"topicId":null,"readGroupId":null,"writeGroupId":null,"slug":"titanicscript"},"kernelBlob":{"id":7063978,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"Competition","sourceId":3136,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\r\noutput:\r\n  html_document:\r\n    toc: true\r\n    number_sections: true\r\n    theme: readable\r\ntitle: \u0022Predicting Survival on the Titanic\u0022\r\nauthor: \u0022Zachary Gallegos\u0022\r\n---\r\n\r\n\r\n```{r preliminaries}\r\n\r\nlibrary(caret)\r\nlibrary(party)\r\nlibrary(ggplot2)\r\nlibrary(mice)\r\nlibrary(knitr)\r\n\r\n# setwd(\u0022E:\\\\kaggle\\\\titanic\u0022)\r\n# setwd(\u0022/volumes/hp c350b/kaggle/titanic\u0022)\r\n\r\nread_titanic \u003c- function(x, ...) \r\n{\r\n\td \u003c- read.csv(x, na.strings = \u0022\u0022, ...)\r\n\tnames(d) \u003c- tolower(names(d))\r\n\r\n\td[[\u0022pclass\u0022]] \u003c- factor(d[[\u0022pclass\u0022]], levels = c(\u00223\u0022, \u00222\u0022, \u00221\u0022), ordered = TRUE)\r\n\td[[\u0022sex\u0022]] \u003c- factor(d[[\u0022sex\u0022]])\r\n\tif(sum(grepl(pattern = \u0022^surv\u0022, names(d))) \u003e 0) {\r\n        d[[\u0022survived\u0022]] \u003c- factor(d[[\u0022survived\u0022]], \r\n                                    levels = c(\u00220\u0022, \u00221\u0022), \r\n                                    labels = c(\u0022Died\u0022, \u0022Survived\u0022))\r\n        }\r\n\td\r\n}\r\n\r\ntr \u003c- read_titanic(\u0022../input/train.csv\u0022)\r\ntst \u003c- read_titanic(\u0022../input/test.csv\u0022)\r\n\r\n#tr \u003c- read_titanic(\u0022train.csv\u0022)\r\n#tst \u003c- read_titanic(\u0022test.csv\u0022)\r\n\r\nall \u003c- rbind(cbind(dataset = \u0022training\u0022, tr), \r\n                cbind(dataset = \u0022testing\u0022, survived = NA, tst))\r\n\r\n# count missing values\r\n\r\nmiss \u003c- function(x) unlist(lapply(x, function(k) sum(is.na(k))))\r\n\r\nmiss(tr)\r\nmiss(tst)\r\n\r\n# age has many and that\u0027s probably an important predictor, will need to fix those\r\n# the testing dataset has a missing fare and the training set has a couple missing embark locations\r\n\r\nmosaicplot(tr$pclass ~ tr$survived, col = c(\u0022red\u0022, \u0022green\u0022))\r\n\r\n```\r\n\r\n```{r}\r\n\r\nmosaicplot(tr$sex ~ tr$survived, col = c(\u0022red\u0022, \u0022green\u0022))\r\n\r\n```\r\n\r\n# Clean/Feature\r\n\r\n```{r, fig.width = 7, fig.height = 7}\r\n\r\nextract_text \u003c- function(x, type = c(\u0022lastname\u0022, \u0022title\u0022))\r\n{\r\n    type \u003c- match.arg(type)\r\n    if(type == \u0022lastname\u0022) {\r\n        m \u003c- regexpr(pattern = \u0022^[^,]+\u0022, text = x)\r\n    } else if(type == \u0022title\u0022) {\r\n        m \u003c- regexpr(pattern = \u0022(?\u003c=,\\\\s)[^\\\\.]+\u0022, text = x, perl = TRUE)\r\n    }\r\n    substr(x, start = m, stop = m + attr(m, \u0022match.length\u0022) - 1)\r\n}\r\n\r\nall$lastname \u003c- vapply(all[[\u0022name\u0022]], function(k) extract_text(k, type = \u0022lastname\u0022), character(1))\r\nall$title \u003c- vapply(all[[\u0022name\u0022]], function(k) extract_text(k, type = \u0022title\u0022), character(1))\r\n\r\nkable(data.frame(table(all$title)))\r\n\r\n# I have to know if the captain went down with the ship...\r\n\r\nDOWN_WITH_SHIP \u003c- all[all$title == \u0022Capt\u0022, \u0022survived\u0022] == \u0022Died\u0022\r\nDOWN_WITH_SHIP # HARDMAN\r\n\r\n# let\u0027s recode some of these titles\r\n\r\ntitle_recodes \u003c- list(list(old = c(\u0022Mlle\u0022, \u0022Mme\u0022, \u0022Ms\u0022), new = \u0022Miss\u0022),\r\n                      list(old = c(\u0022Dona\u0022), new = \u0022Mrs\u0022),\r\n                      list(old = c(\u0022Don\u0022), new = \u0022Mr\u0022),\r\n                      list(old = c(\u0022Capt\u0022, \u0022Major\u0022, \u0022Col\u0022), new = \u0022Mil\u0022),\r\n                      list(old = c(\u0022Dr\u0022, \u0022Rev\u0022, \u0022Sir\u0022), new = \u0022Hon\u0022),\r\n                      list(old = c(\u0022Jonkheer\u0022, \u0022Lady\u0022, \u0022the Countess\u0022), new = \u0022HonF\u0022))\r\n\r\nrecode_titles \u003c- function(recodes, df)\r\n{   \r\n    stopifnot(is.list(recodes))\r\n    for(j in seq(length(recodes))) {\r\n        df[df[[\u0022title\u0022]] %in% recodes[[j]][[\u0022old\u0022]], \u0022title\u0022] \u003c- recodes[[j]][[\u0022new\u0022]]\r\n        }\r\n    df\r\n}\r\n\r\nall \u003c- recode_titles(title_recodes, all)\r\nall$title \u003c- factor(all$title)\r\n\r\nkable(data.frame(table(all$title))) # these should work better for classification\r\n\r\n# what titles do the children get?\r\n\r\ntable(all[all$sex == \u0022male\u0022 \u0026 all$age \u003c= 16, \u0022title\u0022])\r\ntable(all[all$sex == \u0022female\u0022 \u0026 all$age \u003c= 16, \u0022title\u0022]) # there are two married 16 year olds...\r\n\r\n# now we need to find some way of imputing the missing age values\r\n\r\nprop.table(table(tr[,\u0022survived\u0022]))\r\nprop.table(table(tr[is.na(tr$age), \u0022survived\u0022]))\r\n\r\n# the proportions of survival between those with missing age values\r\n# and the whole population are fairly different, so the values\r\n# are probably not missing at random\r\n\r\n# what are the titles of the passengers with missing age values?\r\n\r\ntable(all[is.na(all$age), \u0022title\u0022]) \r\n\r\n# that\u0027s uninformative, I was hoping a big chunk would be from some obvious age group\r\n# let\u0027s just impute them then\r\n\r\n```\r\n\r\n```{r}\r\n\r\n# remove the factor variables and survival in the imputation call\r\npmms \u003c- mice(all[, c(\u0022age\u0022, \u0022sex\u0022, \u0022sibsp\u0022, \u0022parch\u0022, \u0022fare\u0022)], \r\n                    method = \u0022pmm\u0022, printFlag = F)\r\n\r\nout \u003c- complete(pmms)\r\n\r\n# validate the results of the imputation\r\nsummary(all$age)\r\nsummary(out$age) # imputation didn\u0027t change the age distribution significantly\r\n\r\nplot_data \u003c- rbind(data.frame(dataset = \u0022original\u0022, age = all[!is.na(all$age), \u0022age\u0022]),\r\n                    data.frame(dataset = \u0022imputed\u0022, age = out[[\u0022age\u0022]]))\r\n\r\ng \u003c- ggplot(data = plot_data, aes(x = age))\r\ng \u003c- g + geom_histogram(aes(y = ..density..), binwidth = 5)\r\ng \u003c- g + facet_grid(. ~ dataset)\r\ng # looks fine\r\n\r\nall$age \u003c- out$age\r\n\r\ntr \u003c- all[all$dataset == \u0022training\u0022,]\r\n\r\n```\r\n\r\n```{r}\r\n\r\n## let\u0027s also fix the missing \u0022embarks\u0022 while we\u0027re at it\r\n\r\nall[is.na(all$embarked),]\r\n\r\n# they\u0027re first class and they paid $80\r\n\r\nwith(all[all$pclass == 1,], tapply(fare, embarked, summary))\r\n\r\n# every first class passenger from \u0022Q\u0022 paid $90, so it\u0027s not there\r\n# \u003e 50% of the passengers paid less than $80 from C, compared to\r\n# about 20% in S. seems C is most likely. boxplot it\r\n\r\nwith(all[all$pclass == 1,], \r\n        boxplot(fare ~ embarked, \r\n                    main = \u0022First-Class Fares by Embark Point\u0022))\r\nabline(h = unique(all[is.na(all$embarked), \u0022fare\u0022]), col = \u0022red\u0022)\r\n# they\u0027re right at the median for C, so that\u0027s most likely\r\n# we\u0027ll go with that\r\n\r\nall[is.na(all$embarked), \u0022embarked\u0022] \u003c- \u0022C\u0022\r\n\r\n# in the testing set, there\u0027s a missing fare\r\n# where did they come from?\r\n\r\nall[is.na(all$fare),] # 3rd class passenger embarking from \u0022S\u0022\r\n\r\nboxplot(all[all$pclass == 3 \u0026 all$embarked == \u0022S\u0022, \u0022fare\u0022]) # fairly well concentrated, we\u0027ll use the median\r\n\r\nall[is.na(all$fare), \u0022fare\u0022] \u003c- median(all[all$pclass == 3 \u0026 all$embarked == \u0022S\u0022, \u0022fare\u0022], na.rm = TRUE)\r\n\r\n\r\n```\r\n\r\n```{r}\r\n\r\n# in 1912, being 16 was a big deal and life expectancy was 50-55\r\n\r\ncategorize_age \u003c- function(x, baby_age, child_age, adult_age) \r\n{\r\n    if(x \u003c= baby_age) {\r\n        \u0022Baby\u0022\r\n    } else if(x \u003c= child_age) {\r\n        \u0022Child\u0022\r\n    } else if(x \u003c= adult_age) {\r\n        \u0022Adult\u0022\r\n    } else {\r\n        \u0022Elderly\u0022\r\n    }\r\n}\r\n\r\ntr$age_cat \u003c- factor(vapply(tr$age, function(j) categorize_age(j, 4, 16, 55), character(1)))\r\n\r\n# how informative is that on its own?\r\nprop.table(table(tr$age_cat, tr$survived), margin = 1) # somewhat\r\n\r\n# can we set more informative breakpoints for the age categories?\r\n# suppose we want to pick the three values in the function above that make the most\r\n# heterogenous groups in the above table call\r\n# that is, we want to maximize absolute distance in each row\r\n# so dig it\r\n\r\nhetero_measure \u003c- function(ages)\r\n{\r\n    stopifnot(length(ages) == 3)\r\n    baby \u003c- ages[1]\r\n    chld \u003c- ages[2]\r\n    adlt \u003c- ages[3]\r\n\r\n    if(baby \u003c 1) return(NA)\r\n\r\n    cats \u003c- factor(vapply(tr$age, function(j) \r\n                    categorize_age(j, baby, chld, adlt), character(1)))\r\n    \r\n    tbl \u003c- prop.table(table(cats, tr$survived), margin = 1)\r\n    -sum(abs(tbl[,1] - tbl[,2]))\r\n}\r\n\r\nbest_ages \u003c- optim(par = c(4, 16, 55), fn = hetero_measure)$par\r\nbest_ages # optim thinks we\u0027re better off with these\r\n\r\n# let\u0027s see\r\n\r\nbest_ages \u003c- round(best_ages)\r\n\r\ntr$age_cat \u003c- factor(vapply(tr$age, function(j) \r\n                        categorize_age(j, best_ages[1], best_ages[2], best_ages[3]), character(1)))\r\n\r\nprop.table(table(tr$age_cat, tr$survived), margin = 1) # old people basically getting pushed into the water \r\n\r\n# those ages spread out the child and adult numbers substantially\r\n# that could be a bit of an overfit, but let\u0027s stick with those\r\n\r\nall$age_cat \u003c- factor(vapply(all$age, function(j) \r\n                        categorize_age(j, best_ages[1], best_ages[2], best_ages[3]), character(1)))\r\n\r\n\r\n```\r\n\r\n\r\n```{r}\r\n\r\n# so let\u0027s create some more informative family features\r\n# but first, let\u0027s explore how important family really is\r\n\r\n# how much does having a surviving child affect your likelihood to survive?\r\n\r\nsurv_child \u003c- function(nm, age, par_embrk, prch, titl, dta, no_surv_check = FALSE)\r\n{\r\n\r\n    if(age \u003c= 16 || prch == 0 || titl %in% c(\u0022Miss\u0022)) return(0)\r\n\r\n    flt \u003c- dta[dta[[\u0022lastname\u0022]] == nm \u0026\r\n                dta[[\u0022embarked\u0022]] == par_embrk \u0026\r\n                dta[[\u0022parch\u0022]] \u003e 0 \u0026\r\n                dta[[\u0022age_cat\u0022]] %in% c(\u0022Baby\u0022, \u0022Child\u0022),]\r\n\r\n    if(nrow(flt) == 0) {\r\n        0\r\n    } else {\r\n        if(no_surv_check) return(1)\r\n        if(any(flt[[\u0022survived\u0022]] == \u0022Survived\u0022)) {\r\n            2\r\n        } else {\r\n            1\r\n        }\r\n    }\r\n\r\n}\r\n\r\ntr$child_survived \u003c- unlist(Map(f = function(a, b, c, d, e) \r\n                                    surv_child(a, b, c, d, e, dta = tr),\r\n                                         tr$lastname,\r\n                                         tr$age,\r\n                                         tr$embarked,\r\n                                         tr$parch,\r\n                                         tr$title))\r\n\r\ntr$child_survived \u003c- factor(tr$child_survived, levels = c(0, 1, 2),\r\n                                labels = c(\u0022No Children Aboard\u0022,\r\n                                            \u0022Children Died\u0022,\r\n                                            \u0022Children Survived\u0022))\r\n\r\nmosaicplot(tr$child_survived ~ tr$survived)\r\n\r\n# information! people with no children died with about same proportion as whole population\r\n# but people whose children died disproportionately also died\r\n# and vice versa\r\n\r\n# is it different for mothers and fathers?\r\n\r\ntbl \u003c- table(tr$child_survived, tr$survived, tr$sex)\r\ntbl\r\n\r\n# mothers overwhelmingly die or survive with their children\r\n# being a father doesn\u0027t seem to help you\r\n# let\u0027s flag mothers then. I\u0027m going to use the stricter criteria for determining\r\n# a mother that\u0027s set forth in my function, as opposed to using the parch variable\r\n\r\nall$mother \u003c- factor(unlist(Map(f = function(a, b, c, d, e) \r\n                                    surv_child(a, b, c, d, e, dta = all, no_surv_check = TRUE),\r\n                                         all$lastname,\r\n                                         all$age,\r\n                                         all$embarked,\r\n                                         all$parch,\r\n                                         all$title)))\r\n\r\n```\r\n\r\n```{r}\r\n\r\n# how bout if you had a surviving spouse?\r\n\r\nsurv_spouse \u003c- function(nm, age, sps_embrk, sbsp, sx, titl, dta)\r\n{\r\n    if(age \u003c= 16 || sbsp == 0 || titl %in% c(\u0022Miss\u0022)) return(0)\r\n\r\n    mtch.sex \u003c- ifelse(sx == \u0022male\u0022, \u0022female\u0022, \u0022male\u0022)\r\n\r\n        flt \u003c- dta[dta[[\u0022lastname\u0022]] == nm \u0026\r\n                dta[[\u0022embarked\u0022]] == sps_embrk \u0026\r\n                dta[[\u0022sibsp\u0022]] \u003e 0 \u0026\r\n                dta[[\u0022sex\u0022]] == mtch.sex \u0026\r\n                !(dta[[\u0022age_cat\u0022]] %in% c(\u0022Baby\u0022, \u0022Child\u0022)),]\r\n\r\n    if(nrow(flt) == 0) {\r\n        0\r\n    } else {\r\n        if(any(flt[[\u0022survived\u0022]] == \u0022Survived\u0022)) {\r\n            2 # hopefully that \u0022any\u0022 isn\u0027t necessary but who knows\r\n        } else {\r\n            1\r\n        }\r\n    }\r\n\r\n}\r\n\r\ntr$spouse_survived \u003c- unlist(Map(f = function(a, b, c, d, e, f) \r\n                                    surv_spouse(a, b, c, d, e, f, dta = tr),\r\n                                         tr$lastname,\r\n                                         tr$age,\r\n                                         tr$embarked,\r\n                                         tr$sibsp,\r\n                                         tr$sex,\r\n                                         tr$title))\r\n\r\ntr$spouse_survived \u003c- factor(tr$spouse_survived, levels = c(0, 1, 2),\r\n                                labels = c(\u0022No Spouse Aboard\u0022,\r\n                                            \u0022Spouse Died\u0022,\r\n                                            \u0022Spouse Survived\u0022))\r\n\r\nmosaicplot(tr$spouse_survived ~ tr$survived)\r\n# this one looks less helpful\r\n# jack did die even though rose lived\r\n\r\nwith(tr[tr$sex == \u0022female\u0022,], prop.table(table(tr$spouse_survived, tr$survived), margin = 1))\r\nwith(tr[tr$sex == \u0022male\u0022,], prop.table(table(tr$spouse_survived, tr$survived), margin = 1))\r\n\r\n# yeah, not doing us much good. we\u0027ll leave it off\r\n\r\n\r\n```\r\n\r\n```{r}\r\n\r\n# lastly let\u0027s see if we can squeeze anything out of this cabin business\r\n# it looks like the first letter corresponds to some part of the ship\r\n# that might be important\r\n# we\u0027ll treat the missing values as a factor level, since we don\u0027t have info to impute them\r\n\r\nall$ship_part \u003c- substr(all$cabin, start = 1, stop = 1)\r\n\r\ntable(all$pclass, all$ship_part, useNA = \u0022ifany\u0022) \r\n\r\n# it looks like this is only filled out for 1st class passengers?\r\n# so this is going to carry lots of the same information as the pclass variable\r\n\r\nall[is.na(all$ship_part) | all$ship_part %in% c(\u0022T\u0022), \u0022ship_part\u0022] \u003c- \u0022Unknown\u0022\r\n\r\nall$ship_part \u003c- factor(all$ship_part)\r\n\r\n```\r\n\r\n# fit\r\n\r\n\r\n```{r}\r\n\r\nkeep_vars \u003c- setdiff(names(all), c(\u0022dataset\u0022, \u0022ticket\u0022, \u0022cabin\u0022, \u0022name\u0022, \u0022lastname\u0022))\r\n\r\ntesting \u003c- all[all$dataset == \u0022testing\u0022, keep_vars]\r\ntraining \u003c- all[all$dataset == \u0022training\u0022, setdiff(keep_vars, \u0022passengerid\u0022)]\r\n\r\n```\r\n\r\n```{r}\r\n\r\n# fit \u003c- train(survived ~ ., data = training, method = \u0022rf\u0022)\r\n\r\n# plot(fit$finalModel)\r\n\r\n# varImpPlot(fit$finalModel)\r\n\r\n# testing$survived \u003c- ifelse(predict(fit, testing) == \u0022Survived\u0022, 1, 0)\r\n\r\n# submission \u003c- testing[, c(\u0022passengerid\u0022, \u0022survived\u0022)]\r\n\r\n#write.csv(submission, file = \u0022submission.csv\u0022, row.names = FALSE)\r\n\r\n\r\n```\r\n\r\n```{r}\r\n\r\nfit \u003c- cforest(survived ~ ., data = training, controls = cforest_unbiased(ntree = 2000, mtry = 3))\r\n\r\ntesting$survived \u003c- ifelse(predict(fit, testing, OOB = TRUE, type = \u0022response\u0022) == \u0022Survived\u0022, 1, 0)\r\n\r\nsubmission \u003c- testing[, c(\u0022passengerid\u0022, \u0022survived\u0022)]\r\n\r\nwrite.csv(submission, file = \u0022submission.csv\u0022, row.names = FALSE)\r\n\r\n```","dateCreated":"2016-07-01T17:05:41.897Z"},"kernelRun":{"id":282747,"kernelId":74951,"status":"complete","type":"batch","sourceType":"script","language":"rmarkdown","title":"titanicScript","dateCreated":"2016-07-01T17:05:41.897Z","dateEvaluated":"2016-07-01T17:05:42.237Z","workerContainerPort":null,"workerUptimeSeconds":418224,"workerIPAddress":"10.0.0.6       ","scriptLanguageId":5,"scriptLanguageName":"RMarkdown","renderedOutputUrl":"https://www.kaggleusercontent.com/kf/282747/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..AHidz6L8n5JLKw6F7U9vDw.rjR7CfOhEyLB5u7sviq-Cms_rQewwhNAq6aU5EyTx0ge8JxF2s5nqp-WRBiNG-ZYdS2XYiPeyGhUEpd8JcjaHvOsyL03V_q6bBVZnwyTBR8qUsmuUT64QLgioVSqFsAg.T3_x9j72MfNLt4ojB6jR9g/__results__.html","commit":{"id":7063978,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"Competition","sourceId":3136,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\r\noutput:\r\n  html_document:\r\n    toc: true\r\n    number_sections: true\r\n    theme: readable\r\ntitle: \u0022Predicting Survival on the Titanic\u0022\r\nauthor: \u0022Zachary Gallegos\u0022\r\n---\r\n\r\n\r\n```{r preliminaries}\r\n\r\nlibrary(caret)\r\nlibrary(party)\r\nlibrary(ggplot2)\r\nlibrary(mice)\r\nlibrary(knitr)\r\n\r\n# setwd(\u0022E:\\\\kaggle\\\\titanic\u0022)\r\n# setwd(\u0022/volumes/hp c350b/kaggle/titanic\u0022)\r\n\r\nread_titanic \u003c- function(x, ...) \r\n{\r\n\td \u003c- read.csv(x, na.strings = \u0022\u0022, ...)\r\n\tnames(d) \u003c- tolower(names(d))\r\n\r\n\td[[\u0022pclass\u0022]] \u003c- factor(d[[\u0022pclass\u0022]], levels = c(\u00223\u0022, \u00222\u0022, \u00221\u0022), ordered = TRUE)\r\n\td[[\u0022sex\u0022]] \u003c- factor(d[[\u0022sex\u0022]])\r\n\tif(sum(grepl(pattern = \u0022^surv\u0022, names(d))) \u003e 0) {\r\n        d[[\u0022survived\u0022]] \u003c- factor(d[[\u0022survived\u0022]], \r\n                                    levels = c(\u00220\u0022, \u00221\u0022), \r\n                                    labels = c(\u0022Died\u0022, \u0022Survived\u0022))\r\n        }\r\n\td\r\n}\r\n\r\ntr \u003c- read_titanic(\u0022../input/train.csv\u0022)\r\ntst \u003c- read_titanic(\u0022../input/test.csv\u0022)\r\n\r\n#tr \u003c- read_titanic(\u0022train.csv\u0022)\r\n#tst \u003c- read_titanic(\u0022test.csv\u0022)\r\n\r\nall \u003c- rbind(cbind(dataset = \u0022training\u0022, tr), \r\n                cbind(dataset = \u0022testing\u0022, survived = NA, tst))\r\n\r\n# count missing values\r\n\r\nmiss \u003c- function(x) unlist(lapply(x, function(k) sum(is.na(k))))\r\n\r\nmiss(tr)\r\nmiss(tst)\r\n\r\n# age has many and that\u0027s probably an important predictor, will need to fix those\r\n# the testing dataset has a missing fare and the training set has a couple missing embark locations\r\n\r\nmosaicplot(tr$pclass ~ tr$survived, col = c(\u0022red\u0022, \u0022green\u0022))\r\n\r\n```\r\n\r\n```{r}\r\n\r\nmosaicplot(tr$sex ~ tr$survived, col = c(\u0022red\u0022, \u0022green\u0022))\r\n\r\n```\r\n\r\n# Clean/Feature\r\n\r\n```{r, fig.width = 7, fig.height = 7}\r\n\r\nextract_text \u003c- function(x, type = c(\u0022lastname\u0022, \u0022title\u0022))\r\n{\r\n    type \u003c- match.arg(type)\r\n    if(type == \u0022lastname\u0022) {\r\n        m \u003c- regexpr(pattern = \u0022^[^,]+\u0022, text = x)\r\n    } else if(type == \u0022title\u0022) {\r\n        m \u003c- regexpr(pattern = \u0022(?\u003c=,\\\\s)[^\\\\.]+\u0022, text = x, perl = TRUE)\r\n    }\r\n    substr(x, start = m, stop = m + attr(m, \u0022match.length\u0022) - 1)\r\n}\r\n\r\nall$lastname \u003c- vapply(all[[\u0022name\u0022]], function(k) extract_text(k, type = \u0022lastname\u0022), character(1))\r\nall$title \u003c- vapply(all[[\u0022name\u0022]], function(k) extract_text(k, type = \u0022title\u0022), character(1))\r\n\r\nkable(data.frame(table(all$title)))\r\n\r\n# I have to know if the captain went down with the ship...\r\n\r\nDOWN_WITH_SHIP \u003c- all[all$title == \u0022Capt\u0022, \u0022survived\u0022] == \u0022Died\u0022\r\nDOWN_WITH_SHIP # HARDMAN\r\n\r\n# let\u0027s recode some of these titles\r\n\r\ntitle_recodes \u003c- list(list(old = c(\u0022Mlle\u0022, \u0022Mme\u0022, \u0022Ms\u0022), new = \u0022Miss\u0022),\r\n                      list(old = c(\u0022Dona\u0022), new = \u0022Mrs\u0022),\r\n                      list(old = c(\u0022Don\u0022), new = \u0022Mr\u0022),\r\n                      list(old = c(\u0022Capt\u0022, \u0022Major\u0022, \u0022Col\u0022), new = \u0022Mil\u0022),\r\n                      list(old = c(\u0022Dr\u0022, \u0022Rev\u0022, \u0022Sir\u0022), new = \u0022Hon\u0022),\r\n                      list(old = c(\u0022Jonkheer\u0022, \u0022Lady\u0022, \u0022the Countess\u0022), new = \u0022HonF\u0022))\r\n\r\nrecode_titles \u003c- function(recodes, df)\r\n{   \r\n    stopifnot(is.list(recodes))\r\n    for(j in seq(length(recodes))) {\r\n        df[df[[\u0022title\u0022]] %in% recodes[[j]][[\u0022old\u0022]], \u0022title\u0022] \u003c- recodes[[j]][[\u0022new\u0022]]\r\n        }\r\n    df\r\n}\r\n\r\nall \u003c- recode_titles(title_recodes, all)\r\nall$title \u003c- factor(all$title)\r\n\r\nkable(data.frame(table(all$title))) # these should work better for classification\r\n\r\n# what titles do the children get?\r\n\r\ntable(all[all$sex == \u0022male\u0022 \u0026 all$age \u003c= 16, \u0022title\u0022])\r\ntable(all[all$sex == \u0022female\u0022 \u0026 all$age \u003c= 16, \u0022title\u0022]) # there are two married 16 year olds...\r\n\r\n# now we need to find some way of imputing the missing age values\r\n\r\nprop.table(table(tr[,\u0022survived\u0022]))\r\nprop.table(table(tr[is.na(tr$age), \u0022survived\u0022]))\r\n\r\n# the proportions of survival between those with missing age values\r\n# and the whole population are fairly different, so the values\r\n# are probably not missing at random\r\n\r\n# what are the titles of the passengers with missing age values?\r\n\r\ntable(all[is.na(all$age), \u0022title\u0022]) \r\n\r\n# that\u0027s uninformative, I was hoping a big chunk would be from some obvious age group\r\n# let\u0027s just impute them then\r\n\r\n```\r\n\r\n```{r}\r\n\r\n# remove the factor variables and survival in the imputation call\r\npmms \u003c- mice(all[, c(\u0022age\u0022, \u0022sex\u0022, \u0022sibsp\u0022, \u0022parch\u0022, \u0022fare\u0022)], \r\n                    method = \u0022pmm\u0022, printFlag = F)\r\n\r\nout \u003c- complete(pmms)\r\n\r\n# validate the results of the imputation\r\nsummary(all$age)\r\nsummary(out$age) # imputation didn\u0027t change the age distribution significantly\r\n\r\nplot_data \u003c- rbind(data.frame(dataset = \u0022original\u0022, age = all[!is.na(all$age), \u0022age\u0022]),\r\n                    data.frame(dataset = \u0022imputed\u0022, age = out[[\u0022age\u0022]]))\r\n\r\ng \u003c- ggplot(data = plot_data, aes(x = age))\r\ng \u003c- g + geom_histogram(aes(y = ..density..), binwidth = 5)\r\ng \u003c- g + facet_grid(. ~ dataset)\r\ng # looks fine\r\n\r\nall$age \u003c- out$age\r\n\r\ntr \u003c- all[all$dataset == \u0022training\u0022,]\r\n\r\n```\r\n\r\n```{r}\r\n\r\n## let\u0027s also fix the missing \u0022embarks\u0022 while we\u0027re at it\r\n\r\nall[is.na(all$embarked),]\r\n\r\n# they\u0027re first class and they paid $80\r\n\r\nwith(all[all$pclass == 1,], tapply(fare, embarked, summary))\r\n\r\n# every first class passenger from \u0022Q\u0022 paid $90, so it\u0027s not there\r\n# \u003e 50% of the passengers paid less than $80 from C, compared to\r\n# about 20% in S. seems C is most likely. boxplot it\r\n\r\nwith(all[all$pclass == 1,], \r\n        boxplot(fare ~ embarked, \r\n                    main = \u0022First-Class Fares by Embark Point\u0022))\r\nabline(h = unique(all[is.na(all$embarked), \u0022fare\u0022]), col = \u0022red\u0022)\r\n# they\u0027re right at the median for C, so that\u0027s most likely\r\n# we\u0027ll go with that\r\n\r\nall[is.na(all$embarked), \u0022embarked\u0022] \u003c- \u0022C\u0022\r\n\r\n# in the testing set, there\u0027s a missing fare\r\n# where did they come from?\r\n\r\nall[is.na(all$fare),] # 3rd class passenger embarking from \u0022S\u0022\r\n\r\nboxplot(all[all$pclass == 3 \u0026 all$embarked == \u0022S\u0022, \u0022fare\u0022]) # fairly well concentrated, we\u0027ll use the median\r\n\r\nall[is.na(all$fare), \u0022fare\u0022] \u003c- median(all[all$pclass == 3 \u0026 all$embarked == \u0022S\u0022, \u0022fare\u0022], na.rm = TRUE)\r\n\r\n\r\n```\r\n\r\n```{r}\r\n\r\n# in 1912, being 16 was a big deal and life expectancy was 50-55\r\n\r\ncategorize_age \u003c- function(x, baby_age, child_age, adult_age) \r\n{\r\n    if(x \u003c= baby_age) {\r\n        \u0022Baby\u0022\r\n    } else if(x \u003c= child_age) {\r\n        \u0022Child\u0022\r\n    } else if(x \u003c= adult_age) {\r\n        \u0022Adult\u0022\r\n    } else {\r\n        \u0022Elderly\u0022\r\n    }\r\n}\r\n\r\ntr$age_cat \u003c- factor(vapply(tr$age, function(j) categorize_age(j, 4, 16, 55), character(1)))\r\n\r\n# how informative is that on its own?\r\nprop.table(table(tr$age_cat, tr$survived), margin = 1) # somewhat\r\n\r\n# can we set more informative breakpoints for the age categories?\r\n# suppose we want to pick the three values in the function above that make the most\r\n# heterogenous groups in the above table call\r\n# that is, we want to maximize absolute distance in each row\r\n# so dig it\r\n\r\nhetero_measure \u003c- function(ages)\r\n{\r\n    stopifnot(length(ages) == 3)\r\n    baby \u003c- ages[1]\r\n    chld \u003c- ages[2]\r\n    adlt \u003c- ages[3]\r\n\r\n    if(baby \u003c 1) return(NA)\r\n\r\n    cats \u003c- factor(vapply(tr$age, function(j) \r\n                    categorize_age(j, baby, chld, adlt), character(1)))\r\n    \r\n    tbl \u003c- prop.table(table(cats, tr$survived), margin = 1)\r\n    -sum(abs(tbl[,1] - tbl[,2]))\r\n}\r\n\r\nbest_ages \u003c- optim(par = c(4, 16, 55), fn = hetero_measure)$par\r\nbest_ages # optim thinks we\u0027re better off with these\r\n\r\n# let\u0027s see\r\n\r\nbest_ages \u003c- round(best_ages)\r\n\r\ntr$age_cat \u003c- factor(vapply(tr$age, function(j) \r\n                        categorize_age(j, best_ages[1], best_ages[2], best_ages[3]), character(1)))\r\n\r\nprop.table(table(tr$age_cat, tr$survived), margin = 1) # old people basically getting pushed into the water \r\n\r\n# those ages spread out the child and adult numbers substantially\r\n# that could be a bit of an overfit, but let\u0027s stick with those\r\n\r\nall$age_cat \u003c- factor(vapply(all$age, function(j) \r\n                        categorize_age(j, best_ages[1], best_ages[2], best_ages[3]), character(1)))\r\n\r\n\r\n```\r\n\r\n\r\n```{r}\r\n\r\n# so let\u0027s create some more informative family features\r\n# but first, let\u0027s explore how important family really is\r\n\r\n# how much does having a surviving child affect your likelihood to survive?\r\n\r\nsurv_child \u003c- function(nm, age, par_embrk, prch, titl, dta, no_surv_check = FALSE)\r\n{\r\n\r\n    if(age \u003c= 16 || prch == 0 || titl %in% c(\u0022Miss\u0022)) return(0)\r\n\r\n    flt \u003c- dta[dta[[\u0022lastname\u0022]] == nm \u0026\r\n                dta[[\u0022embarked\u0022]] == par_embrk \u0026\r\n                dta[[\u0022parch\u0022]] \u003e 0 \u0026\r\n                dta[[\u0022age_cat\u0022]] %in% c(\u0022Baby\u0022, \u0022Child\u0022),]\r\n\r\n    if(nrow(flt) == 0) {\r\n        0\r\n    } else {\r\n        if(no_surv_check) return(1)\r\n        if(any(flt[[\u0022survived\u0022]] == \u0022Survived\u0022)) {\r\n            2\r\n        } else {\r\n            1\r\n        }\r\n    }\r\n\r\n}\r\n\r\ntr$child_survived \u003c- unlist(Map(f = function(a, b, c, d, e) \r\n                                    surv_child(a, b, c, d, e, dta = tr),\r\n                                         tr$lastname,\r\n                                         tr$age,\r\n                                         tr$embarked,\r\n                                         tr$parch,\r\n                                         tr$title))\r\n\r\ntr$child_survived \u003c- factor(tr$child_survived, levels = c(0, 1, 2),\r\n                                labels = c(\u0022No Children Aboard\u0022,\r\n                                            \u0022Children Died\u0022,\r\n                                            \u0022Children Survived\u0022))\r\n\r\nmosaicplot(tr$child_survived ~ tr$survived)\r\n\r\n# information! people with no children died with about same proportion as whole population\r\n# but people whose children died disproportionately also died\r\n# and vice versa\r\n\r\n# is it different for mothers and fathers?\r\n\r\ntbl \u003c- table(tr$child_survived, tr$survived, tr$sex)\r\ntbl\r\n\r\n# mothers overwhelmingly die or survive with their children\r\n# being a father doesn\u0027t seem to help you\r\n# let\u0027s flag mothers then. I\u0027m going to use the stricter criteria for determining\r\n# a mother that\u0027s set forth in my function, as opposed to using the parch variable\r\n\r\nall$mother \u003c- factor(unlist(Map(f = function(a, b, c, d, e) \r\n                                    surv_child(a, b, c, d, e, dta = all, no_surv_check = TRUE),\r\n                                         all$lastname,\r\n                                         all$age,\r\n                                         all$embarked,\r\n                                         all$parch,\r\n                                         all$title)))\r\n\r\n```\r\n\r\n```{r}\r\n\r\n# how bout if you had a surviving spouse?\r\n\r\nsurv_spouse \u003c- function(nm, age, sps_embrk, sbsp, sx, titl, dta)\r\n{\r\n    if(age \u003c= 16 || sbsp == 0 || titl %in% c(\u0022Miss\u0022)) return(0)\r\n\r\n    mtch.sex \u003c- ifelse(sx == \u0022male\u0022, \u0022female\u0022, \u0022male\u0022)\r\n\r\n        flt \u003c- dta[dta[[\u0022lastname\u0022]] == nm \u0026\r\n                dta[[\u0022embarked\u0022]] == sps_embrk \u0026\r\n                dta[[\u0022sibsp\u0022]] \u003e 0 \u0026\r\n                dta[[\u0022sex\u0022]] == mtch.sex \u0026\r\n                !(dta[[\u0022age_cat\u0022]] %in% c(\u0022Baby\u0022, \u0022Child\u0022)),]\r\n\r\n    if(nrow(flt) == 0) {\r\n        0\r\n    } else {\r\n        if(any(flt[[\u0022survived\u0022]] == \u0022Survived\u0022)) {\r\n            2 # hopefully that \u0022any\u0022 isn\u0027t necessary but who knows\r\n        } else {\r\n            1\r\n        }\r\n    }\r\n\r\n}\r\n\r\ntr$spouse_survived \u003c- unlist(Map(f = function(a, b, c, d, e, f) \r\n                                    surv_spouse(a, b, c, d, e, f, dta = tr),\r\n                                         tr$lastname,\r\n                                         tr$age,\r\n                                         tr$embarked,\r\n                                         tr$sibsp,\r\n                                         tr$sex,\r\n                                         tr$title))\r\n\r\ntr$spouse_survived \u003c- factor(tr$spouse_survived, levels = c(0, 1, 2),\r\n                                labels = c(\u0022No Spouse Aboard\u0022,\r\n                                            \u0022Spouse Died\u0022,\r\n                                            \u0022Spouse Survived\u0022))\r\n\r\nmosaicplot(tr$spouse_survived ~ tr$survived)\r\n# this one looks less helpful\r\n# jack did die even though rose lived\r\n\r\nwith(tr[tr$sex == \u0022female\u0022,], prop.table(table(tr$spouse_survived, tr$survived), margin = 1))\r\nwith(tr[tr$sex == \u0022male\u0022,], prop.table(table(tr$spouse_survived, tr$survived), margin = 1))\r\n\r\n# yeah, not doing us much good. we\u0027ll leave it off\r\n\r\n\r\n```\r\n\r\n```{r}\r\n\r\n# lastly let\u0027s see if we can squeeze anything out of this cabin business\r\n# it looks like the first letter corresponds to some part of the ship\r\n# that might be important\r\n# we\u0027ll treat the missing values as a factor level, since we don\u0027t have info to impute them\r\n\r\nall$ship_part \u003c- substr(all$cabin, start = 1, stop = 1)\r\n\r\ntable(all$pclass, all$ship_part, useNA = \u0022ifany\u0022) \r\n\r\n# it looks like this is only filled out for 1st class passengers?\r\n# so this is going to carry lots of the same information as the pclass variable\r\n\r\nall[is.na(all$ship_part) | all$ship_part %in% c(\u0022T\u0022), \u0022ship_part\u0022] \u003c- \u0022Unknown\u0022\r\n\r\nall$ship_part \u003c- factor(all$ship_part)\r\n\r\n```\r\n\r\n# fit\r\n\r\n\r\n```{r}\r\n\r\nkeep_vars \u003c- setdiff(names(all), c(\u0022dataset\u0022, \u0022ticket\u0022, \u0022cabin\u0022, \u0022name\u0022, \u0022lastname\u0022))\r\n\r\ntesting \u003c- all[all$dataset == \u0022testing\u0022, keep_vars]\r\ntraining \u003c- all[all$dataset == \u0022training\u0022, setdiff(keep_vars, \u0022passengerid\u0022)]\r\n\r\n```\r\n\r\n```{r}\r\n\r\n# fit \u003c- train(survived ~ ., data = training, method = \u0022rf\u0022)\r\n\r\n# plot(fit$finalModel)\r\n\r\n# varImpPlot(fit$finalModel)\r\n\r\n# testing$survived \u003c- ifelse(predict(fit, testing) == \u0022Survived\u0022, 1, 0)\r\n\r\n# submission \u003c- testing[, c(\u0022passengerid\u0022, \u0022survived\u0022)]\r\n\r\n#write.csv(submission, file = \u0022submission.csv\u0022, row.names = FALSE)\r\n\r\n\r\n```\r\n\r\n```{r}\r\n\r\nfit \u003c- cforest(survived ~ ., data = training, controls = cforest_unbiased(ntree = 2000, mtry = 3))\r\n\r\ntesting$survived \u003c- ifelse(predict(fit, testing, OOB = TRUE, type = \u0022response\u0022) == \u0022Survived\u0022, 1, 0)\r\n\r\nsubmission \u003c- testing[, c(\u0022passengerid\u0022, \u0022survived\u0022)]\r\n\r\nwrite.csv(submission, file = \u0022submission.csv\u0022, row.names = FALSE)\r\n\r\n```","dateCreated":"2016-07-01T17:05:41.897Z"},"resources":null,"isolatorResults":"\u003cresults\u003e\u003cfailure_message /\u003e\u003crun_time_seconds\u003e48.0488014221191\u003c/run_time_seconds\u003e\u003ctimeout_exceeded\u003eFalse\u003c/timeout_exceeded\u003e\u003cdisk_kb_free\u003e468916\u003c/disk_kb_free\u003e\u003csucceeded\u003eTrue\u003c/succeeded\u003e\u003cexit_code\u003e0\u003c/exit_code\u003e\u003cdocker_image_id\u003e9183b6a8d65a84325d8fd8d3303912399bb16a74a458a0849228894f1c606a4e\u003c/docker_image_id\u003e\u003cused_all_space\u003eFalse\u003c/used_all_space\u003e\u003cdocker_image_name\u003ekaggle/rstats\u003c/docker_image_name\u003e\u003c/results\u003e","runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageDigest":null,"dockerImageId":"9183b6a8d65a84325d8fd8d3303912399bb16a74a458a0849228894f1c606a4e","dockerImageName":"kaggle/rstats","diskKbFree":468916,"failureMessage":"","exitCode":0,"queuedSeconds":0,"outputSizeBytes":0,"runTimeSeconds":48.0488014221191,"usedAllSpace":false,"timeoutExceeded":false,"isValidStatus":false,"wasGpuEnabled":false,"wasInternetEnabled":false,"outOfMemory":false,"invalidPathErrors":false,"succeeded":true,"wasKilled":false},"outputFilesTotalSizeBytes":5060842,"dockerImageVersionId":null,"usedCustomDockerImage":false,"dataSources":[{"sourceType":"Competition","sourceId":3136,"databundleVersionId":null}]},"author":{"id":649017,"displayName":"lstnr1","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"lstnr1","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","profileUrl":"/lstnr1","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":1,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"baseUrl":"/lstnr1/titanicscript","collaborators":{"owner":{"userId":649017,"groupId":null,"groupMemberCount":null,"profileUrl":"/lstnr1","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","name":"lstnr1","slug":"lstnr1","userTier":1,"joinDate":null,"type":"owner","isUser":true,"isGroup":false},"collaborators":[]},"initialTab":null,"log":"{\u0022stream_name\u0022:\u0022stderr\u0022,\u0022time\u0022:\u00220.7170449999999999\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stderr\u0022,\u0022time\u0022:\u00220.7171451\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stderr\u0022,\u0022time\u0022:\u00220.7171642\u0022,\u0022data\u0022:\u0022processing file: script.Rmd\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00220.7305233\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |                                                                 |   0%\\r  |                                                                       \\r  |...                                                              |   4%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00220.7307977999999999\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00220.7308426\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00220.7312339999999999\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |.....                                                            |   8%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00220.7327531\u0022,\u0022data\u0022:\u0022label: preliminaries\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.3656258\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |........                                                         |  12%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.3658048\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.3658487\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.3662398\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |...........                                                      |  17%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.3674116\u0022,\u0022data\u0022:\u0022label: unnamed-chunk-1\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.5824172\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |..............                                                   |  21%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.5825689\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.5826162\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.582959\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |................                                                 |  25%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.5840525\u0022,\u0022data\u0022:\u0022label: unnamed-chunk-2 (with options) \\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.587383\u0022,\u0022data\u0022:\u0022List of 2\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.5896549\u0022,\u0022data\u0022:\u0022 $ fig.width : num 7\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.5905832\u0022,\u0022data\u0022:\u0022 $ fig.height: num 7\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00227.5906836\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00228.4694358\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |...................                                              |  29%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00228.4696281\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00228.4696756\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00228.4700367\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |......................                                           |  33%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00228.4712604\u0022,\u0022data\u0022:\u0022label: unnamed-chunk-3\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00229.711307\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |........................                                         |  38%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00229.7115061\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00229.7115313\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00229.7117941\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |...........................                                      |  42%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u00229.7127821\u0022,\u0022data\u0022:\u0022label: unnamed-chunk-4\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002210.1793724\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |..............................                                   |  46%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002210.1795288\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002210.1795792\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002210.1798522\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |................................                                 |  50%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002210.18122\u0022,\u0022data\u0022:\u0022label: unnamed-chunk-5\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002210.6173391\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |...................................                              |  54%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002210.6181875\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002210.6182065\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002210.6182136\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |......................................                           |  58%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002210.618581\u0022,\u0022data\u0022:\u0022label: unnamed-chunk-6\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.1170087\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |.........................................                        |  62%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.117814\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.1178311\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.1178381\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |...........................................                      |  67%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.1184266\u0022,\u0022data\u0022:\u0022label: unnamed-chunk-7\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5044394\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |..............................................                   |  71%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.504783\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5047982\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5048048\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |.................................................                |  75%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5056155\u0022,\u0022data\u0022:\u0022label: unnamed-chunk-8\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5267119\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |...................................................              |  79%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5277219\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5277337\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5277403\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |......................................................           |  83%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5278358\u0022,\u0022data\u0022:\u0022label: unnamed-chunk-9\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5477718\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |.........................................................        |  88%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.547942\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5479625\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5482185\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |............................................................     |  92%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5492838\u0022,\u0022data\u0022:\u0022label: unnamed-chunk-10\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5569795\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |..............................................................   |  96%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5571043\u0022,\u0022data\u0022:\u0022  ordinary text without R code\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5571248\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.5573284\u0022,\u0022data\u0022:\u0022\\r  |                                                                       \\r  |.................................................................| 100%\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002211.558319000000001\u0022,\u0022data\u0022:\u0022label: unnamed-chunk-11\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002247.3722403\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stderr\u0022,\u0022time\u0022:\u002247.3738037\u0022,\u0022data\u0022:\u0022output file: /kaggle/working/script.knit.md\\n\u0022},{\u0022stream_name\u0022:\u0022stderr\u0022,\u0022time\u0022:\u002247.3738292\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002247.4126162\u0022,\u0022data\u0022:\u0022/usr/local/bin/pandoc +RTS -K512m -RTS /kaggle/working/script.utf8.md --to html --from markdown+autolink_bare_uris+ascii_identifiers+tex_math_single_backslash --output /kaggle/working/__results__.html --smart --email-obfuscation none --standalone --section-divs --table-of-contents --toc-depth 3 --template /usr/local/lib/R/site-library/rmarkdown/rmd/h/default.html --number-sections --variable \u0027theme:readable\u0027 --include-in-header /tmp/Rtmp9okgJy/rmarkdown-str1046357db5.html --mathjax --variable \u0027\u0022},{\u0022stream_name\u0022:\u0022stdout\u0022,\u0022time\u0022:\u002247.4126927\u0022,\u0022data\u0022:\u0022mathjax-url:https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\u0027 --no-highlight --variable highlightjs=__results___files/highlight --variable navigationjs=__results___files/navigation-1.0 \\n\u0022},{\u0022stream_name\u0022:\u0022stderr\u0022,\u0022time\u0022:\u002247.508663\u0022,\u0022data\u0022:\u0022\\n\u0022},{\u0022stream_name\u0022:\u0022stderr\u0022,\u0022time\u0022:\u002247.5087017\u0022,\u0022data\u0022:\u0022Output created: __results__.html\\n\u0022},","outputFiles":[{"ownerInfo":null,"kernelVersionOutputFileId":466284,"kernelVersionId":282747,"kernelId":74951,"size":0,"fullPath":"results.zip","previewUrl":"/kernels/preview.json/282747/17538e3f-0997-1cac-a2b3-689fa144b484/results.zip","downloadUrl":"https://www.kaggleusercontent.com/kf/282747/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..zCIuf8AEyCl6DA2OmQj51Q.be0KcISwZ-krmZ9TtBdfDOlckCY46ovaTqICgdAa5DlyyIcdi9DDkXX7cC7Ai779qqVqN-cEpu7J2RTHhYwpIVp98ciYXMtzazkxmIjUFHNTAHGYwou6EEcd7_blbM03.Quvbf4FY6NDl0F0DBvyBYw/results.zip","fileType":null,"contentLength":1194261,"contentType":null,"contentMD5":null,"validationErrors":null,"type":"kernelOutputFile","collapsed":false,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"firestorePath":null,"firestoreKey":null,"name":"results.zip","description":null},{"ownerInfo":null,"kernelVersionOutputFileId":466285,"kernelVersionId":282747,"kernelId":74951,"size":0,"fullPath":"submission.csv","previewUrl":"/kernels/preview.json/282747/17538e3f-0997-1cac-a2b3-689fa144b484/submission.csv","downloadUrl":"https://www.kaggleusercontent.com/kf/282747/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..h8qdAvFOyynURbtWMnDQwQ.rwn6UXlCAJ1RWs5bwspRtEWT7CnW6bSkBp8120RXsDDrp5f3xuBJH-2Jtt2rB_paNUeTIBwNcHMuEkKvFQcJYvdP4Dicb2Od_BLMu3pM5A6cobqnE-9OjRNe6bUVGJ8Y.ybMMn1LWH8FhCwcgz8ioWA/submission.csv","fileType":".csv","contentLength":2843,"contentType":null,"contentMD5":null,"validationErrors":null,"type":"kernelOutputFile","collapsed":false,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"firestorePath":null,"firestoreKey":null,"name":"submission.csv","description":null}],"outputFilesCropped":false,"ouputFilesOwnerInfo":{"databundleVersionId":0,"dataset":null,"competition":null,"kernel":{"kernelId":74951,"kernelVersionId":282747,"dataviewToken":"eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..bn2OATc7-WZXaOOK0Em-Bg.Y_b4fDSRJPRzC8214ElxBouLubAGFdIjIGa-AEnNjEvCoPTThA7wQQM5YFp2RsvgkM3IUdJVKcGiENASSDflJZ_FP-8T5xvje3v5iDN2iN5JANDj_YgyXfJDi7eq45SHZ6Rpjz8YHikiyC5wl4ntZ5sINE859cQwap4-T0l6upxC2J5OYIa14dyhFE1Pm8dVyXyjqMJAVl5smY6huNpR8bcgQMbHsj0cFZXwaaxqf36jsF3Sgmgt0P8IKIXvG7MqtyE2ba9UhOYA8LyQn4qGLeyqJxIzzf84NqfVJpedt50TvdJt5LzXwSaUwOkEa8jGxfmKuXQigdk4BnGiGAFRNsXGrMOuirkT6UChD_1MoZdtfvbxucbUcpJlvshiCikaab1F1vLQMnilspQwk4oiy5rI_U4O5KOG_aAUskE_z5EmoZ9QcX_YF2PrfGfgro3SFdCEOEG3-k0vXCBDdGQABzErsqqUXUU0aSKPa70G_dIRDful8b2fpTnom-ReI2oHlposEYKecpOyjwAGs8KN1g.fWz3OMA14OBH0TioN14wJg","scope":"lstnr1/titanicscript"},"previewsDisabled":false},"pageMessages":[],"dataSources":[{"imageUrl":"https://storage.googleapis.com/kaggle-competitions/kaggle/3136/logos/thumb76_76.png","sourceUrl":"/c/titanic","slug":"titanic","lastUpdated":"2012-09-28T21:13:33.55Z","overview":"Start here! Predict survival on the Titanic and get familiar with ML basics","sourceType":"competition","sourceVersionType":null,"sourceId":3136,"sourceVersionNumber":null,"maxVersionNumber":null,"descriptionMimeType":"text/html","deleted":false,"private":false,"privateButVisible":false,"ownerInfo":{"databundleVersionId":26502,"dataset":null,"competition":{"competitionId":3136,"dataviewToken":null,"scope":"c/titanic"},"kernel":null,"previewsDisabled":true},"type":"dataSource","collapsed":false,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"id":63842,"blobFileId":37991,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/gender_submission.csv","creationDate":"2017-02-01T01:49:18Z","isDummy":false,"size":3258,"fullPath":"../input/gender_submission.csv","previewUrl":"kernels/competition-preview/3136?relativePath=gender_submission.csv","downloadUrl":"/c/titanic/download/gender_submission.csv","fileType":".csv","contentLength":3258,"contentType":"text/csv","contentMD5":"MNEHO5ZKXYFUMexgOg3jUw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"PassengerId","description":"892\n893\n894\n895\n896\n897\n898\n899\n900\n901\n902\n903\n904\n905\n906\n907\n908\n909\n910\n911\n912\n913\n914\n915\n916\n917\n918\n919\n920\n921\n922\n923\n924\n925\n926\n927\n928\n929\n930\n931\n932\n933\n934\n935\n936\n937\n938\n939\n940\n941\n942\n943\n944\n945\n946\n947\n948\n949\n950\n951\n952\n953\n954\n955\n956\n957\n958\n959\n960\n961\n962\n963\n964\n965\n966\n967\n968\n969\n970\n971\n972\n973\n974\n975\n976\n977\n978\n979\n980\n981\n982\n983\n984\n985\n986\n987\n988\n989\n990\n991\n992\n993\n994\n995\n996\n997\n998\n999\n1000\n1001\n1002\n1003\n1004\n1005\n1006\n1007\n1008\n1009\n1010\n1011\n1012\n1013\n1014\n1015\n1016\n1017\n1018\n1019\n1020\n1021\n1022\n1023\n1024\n1025\n1026\n1027\n1028\n1029\n1030\n1031\n1032\n1033\n1034\n1035\n1036\n1037\n1038\n1039\n1040\n1041\n1042\n1043\n1044\n1045\n1046\n1047\n1048\n1049\n1050\n1051\n1052\n1053\n1054\n1055\n1056\n1057\n1058\n1059\n1060\n1061\n1062\n1063\n1064\n1065\n1066\n1067\n1068\n1069\n1070\n1071\n1072\n1073\n1074\n1075\n1076\n1077\n1078\n1079\n1080\n1081\n1082\n1083\n1084\n1085\n1086\n1087\n1088\n1089\n1090\n1091\n1092\n1093\n1094\n1095\n1096\n1097\n1098\n1099\n1100\n1101\n1102\n1103\n1104\n1105\n1106\n1107\n1108\n1109\n1110\n1111\n1112\n1113\n1114\n1115\n1116\n1117\n1118\n1119\n1120\n1121\n1122\n1123\n1124\n1125\n1126\n1127\n1128\n1129\n1130\n1131\n1132\n1133\n1134\n1135\n1136\n1137\n1138\n1139\n1140\n1141\n1142\n1143\n1144\n1145\n1146\n1147\n1148\n1149\n1150\n1151\n1152\n1153\n1154\n1155\n1156\n1157\n1158\n1159\n1160\n1161\n1162\n1163\n1164\n1165\n1166\n1167\n1168\n1169\n1170\n1171\n1172\n1173\n1174\n1175\n1176\n1177\n1178\n1179\n1180\n1181\n1182\n1183\n1184\n1185\n1186\n1187\n1188\n1189\n1190\n1191\n1192\n1193\n1194\n1195\n1196\n1197\n1198\n1199\n1200\n1201\n1202\n1203\n1204\n1205\n1206\n1207\n1208\n1209\n1210\n1211\n1212\n1213\n1214\n1215\n1216\n1217\n1218\n1219\n1220\n1221\n1222\n1223\n1224\n1225\n1226\n1227\n1228\n1229\n1230\n1231\n1232\n1233\n1234\n1235\n1236\n1237\n1238\n1239\n1240\n1241\n1242\n1243\n1244\n1245\n1246\n1247\n1248\n1249\n1250\n1251\n1252\n1253\n1254\n1255\n1256\n1257\n1258\n1259\n1260\n1261\n1262\n1263\n1264\n1265\n1266\n1267\n1268\n1269\n1270\n1271\n1272\n1273\n1274\n1275\n1276\n1277\n1278\n1279\n1280\n1281\n1282\n1283\n1284\n1285\n1286\n1287\n1288\n1289\n1290\n1291\n1292\n1293\n1294\n1295\n1296\n1297\n1298\n1299\n1300\n1301\n1302\n1303\n1304\n1305\n1306\n1307\n1308\n1309\n"},{"order":1,"originalType":"","type":"boolean","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Survived","description":"0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n1\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"firestorePath":null,"firestoreKey":null,"name":"","description":null}],"firestorePath":null,"firestoreKey":null,"name":"gender_submission.csv","description":"892,0\n893,0\n894,0\n895,0\n896,0\n897,0\n898,0\n899,0\n900,0\n901,0\n902,0\n903,0\n904,1\n905,0a\n906,1\n907,0\n908,0\n909,0\n910,0\n911,0\n912,1\n913,0\n914,0\n915,0\n916,1\n917,0\n918,0\n919,0\n920,0\n921,0\n922,0\n923,0\n924,0\n925,0\n926,1\n927,0\n928,0\n929,0\n930,0\n931,1\n932,0\n933,0\n934,0\n935,0\n936,1\n937,0\n938,0\n939,0\n940,1\n941,0\n942,1\n943,0\n944,0\n945,1\n946,0\n947,0\n948,0\n949,0\n950,0\n951,1\n952,0\n953,0\n954,0\n955,0\n956,1\n957,0\n958,0\n959,0\n960,0\n961,1\n962,\n963,0\n964,0\n965,0\n966,1\n967,1\n968,0\n969,0\n970,0\n971,0\n972,0\n973,1\n974,0\n975,0\n976,0\n977,0\n978,0\n979,0\n980,0\n981,0\n982,0\n983,0\n984,0\n985,0\n986,0\n987,0\n988,1\n989,0\n990,0\n991,0\n992,1\n993,0\n994,0\n995,0\n996,0\n997,0\n998,0\n999,0\n1000,0\n1001,0\n1002,0\n1003,0\n1004,0\n1005,0\n1006,1\n1007,0\n1008,0\n1009,0\n1010,1\n1011,0\n1012,0\n1013,0\n1014,1\n1015,0\n1016,0\n1017,0\n1018,0\n1019,0\n1020,0\n1021,0\n1022,0\n1023,0\n1024,0\n1025,0\n1026,0\n1027,0\n1028,0\n1029,0\n1030,0\n1031,0\n1032,0\n1033,1\n1034,1\n1035,0\n1036,0\n1037,0\n1038,1\n1039,0\n1040,0\n1041,0\n1042,1\n1043,0\n1044,0\n1045,0\n1046,0\n1047,0\n1048,1\n1049,0\n1050,0\n1051,0\n1052,0\n1053,0\n1054,0\n1055,0\n1056,0\n1057,0\n1058,1\n1059,0\n1060,0\n1061,0\n1062,0\n1063,0\n1064,0\n1065,0\n1066,0\n1067,0\n1068,0\n1069,1\n1070,0\n1071,1\n1072,0\n1073,1\n1074,1\n1075,0\n1076,1\n1077,0\n1078,0\n1079,0\n1080,1\n1081,0\n1082,0\n1083,0\n1084,0\n1085,0\n1086,0\n1087,0\n1088,1\n1089,0\n1090,0\n1091,0\n1092,0\n1093,0\n1094,1\n1095,0\n1096,0\n1097,0\n1098,0\n1099,0\n1100,0\n1101,0\n1102,0\n1103,0\n1104,1\n1105,0\n1106,0\n1107,0\n1108,0\n1109,1\n1110,1\n1111,0\n1112,0\n1113,0\n1114,0\n1115,0\n1116,0\n1117,0\n1118,0\n1119,0\n1120,0\n1121,0\n1122,1\n1123,0\n1124,0\n1125,0\n1126,1\n1127,0\n1128,1\n1129,0\n1130,0\n1131,1\n1132,0\n1133,0\n1134,1\n1135,0\n1136,0\n1137,1\n1138,0\n1139,0\n1140,0\n1141,0\n1142,0\n1143,0\n1144,1\n1145,0\n1146,0\n1147,0\n1148,0\n1149,0\n1150,0\n1151,0\n1152,0\n1153,0\n1154,0\n1155,0\n1156,0\n1157,0\n1158,0\n1159,0\n1160,0\n1161,0\n1162,1\n1163,0\n1164,1\n1165,0\n1166,0\n1167,0\n1168,0\n1169,0\n1170,0\n1171,0\n1172,0\n1173,0\n1174,0\n1175,0\n1176,0\n1177,0\n1178,0\n1179,1\n1180,0\n1181,0\n1182,0\n1183,0\n1184,0\n1185,1\n1186,0\n1187,0\n1188,0\n1189,0\n1190,1\n1191,0\n1192,0\n1193,0\n1194,0\n1195,0\n1196,0\n1197,0\n1198,1\n1199,0\n1200,1\n1201,0\n1202,0\n1203,0\n1204,0\n1205,0\n1206,1\n1207,0\n1208,1\n1209,0\n1210,0\n1211,0\n1212,0\n1213,0\n1214,0\n1215,0\n1216,1\n1217,0\n1218,0\n1219,1\n1220,0\n1221,0\n1222,0\n1223,0\n1224,0\n1225,0\n1226,0\n1227,0\n1228,0\n1229,0\n1230,0\n1231,0\n1232,0\n1233,0\n1234,1\n1235,1\n1236,0\n1237,0\n1238,0\n1239,0\n1240,0\n1241,0\n1242,1\n1243,0\n1244,1\n1245,1\n1246,0\n1247,0\n1248,1\n1249,0\n1250,0\n1251,0\n1252,1\n1253,0\n1254,0\n1255,0\n1256,1\n1257,1\n1258,0\n1259,0\n1260,0\n1261,0\n1262,0\n1263,1\n1264,0\n1265,0\n1266,1\n1267,1\n1268,0\n1269,0\n1270,1\n1271,0\n1272,0\n1273,0\n1274,0\n1275,0\n1276,0\n1277,1\n1278,0\n1279,0\n1280,0\n1281,0\n1282,1\n1283,0\n1284,0\n1285,0\n1286,0\n1287,1\n1288,0\n1289,1\n1290,0\n1291,0\n1292,1\n1293,0\n1294,0\n1295,1\n1296,0\n1297,0\n1298,0\n1299,1\n1300,0\n1301,0\n1302,0\n1303,1\n1304,0\n1305,0\n1306,1\n1307,0\n1308,0\n1309,0"},{"id":63841,"blobFileId":2613,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/test.csv","creationDate":"2013-06-28T13:40:24.227Z","isDummy":false,"size":28629,"fullPath":"../input/test.csv","previewUrl":"kernels/competition-preview/3136?relativePath=test.csv","downloadUrl":"/c/titanic/download/test.csv","fileType":".csv","contentLength":28629,"contentType":"text/csv","contentMD5":"dTO4Lq5LWCYQy9aKpjawFw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"PassengerId","description":"1"},{"order":1,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Pclass","description":"1"},{"order":2,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Name","description":"the name of the passenger"},{"order":3,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Sex","description":null},{"order":4,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Age","description":null},{"order":5,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"SibSp","description":"of siblings / spouses aboard the Titanic"},{"order":6,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Parch","description":"of parents / children aboard the Titanic"},{"order":7,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Ticket","description":"Ticket number"},{"order":8,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Fare","description":"Passenger fare"},{"order":9,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Cabin","description":"Cabin number"},{"order":10,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Embarked","description":"Port of Embarkation"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"firestorePath":null,"firestoreKey":null,"name":"","description":null}],"firestorePath":null,"firestoreKey":null,"name":"test.csv","description":"test data to check the accuracy of the model created\n"},{"id":63840,"blobFileId":2307,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/train.csv","creationDate":"2013-06-28T13:40:25.23Z","isDummy":false,"size":61194,"fullPath":"../input/train.csv","previewUrl":"kernels/competition-preview/3136?relativePath=train.csv","downloadUrl":"/c/titanic/download/train.csv","fileType":".csv","contentLength":61194,"contentType":"text/csv","contentMD5":"IwnMXwR4Ltm7YBbZ9OOBzw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":891},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"PassengerId","description":"type should be integers"},{"order":1,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Survived","description":"Survived or Not "},{"order":2,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Pclass","description":"Class of Travel"},{"order":3,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Name","description":"Name of Passenger"},{"order":4,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Sex","description":"Gender"},{"order":5,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Age","description":"Age of Passengers"},{"order":6,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"SibSp","description":"Number of Sibling/Spouse aboard"},{"order":7,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Parch","description":"Number of Parent/Child aboard"},{"order":8,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Ticket","description":null},{"order":9,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Fare","description":null},{"order":10,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Cabin","description":null},{"order":11,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"firestorePath":null,"firestoreKey":null,"name":"Embarked","description":"The port in which a passenger has embarked. C - Cherbourg, S - Southampton, Q = Queenstown"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"firestorePath":null,"firestoreKey":null,"name":"","description":null}],"firestorePath":null,"firestoreKey":null,"name":"train.csv","description":"contains data \n"}],"firestorePath":null,"firestoreKey":null,"name":"Titanic: Machine Learning from Disaster","description":"\u003ch3\u003eOverview\u003c/h3\u003e\n\u003cp\u003eThe data has been split into two groups:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003etraining set (train.csv)\u003c/li\u003e\n\u003cli\u003etest set (test.csv)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cb\u003e The training set \u003c/b\u003eshould be used to build your machine learning models. For the training set, we provide the outcome (also known as the ground truth) for each passenger. Your model will be based on features like passengers gender and class. You can also use \u003ca href=\u0022https://triangleinequality.wordpress.com/2013/09/08/basic-feature-engineering-with-the-titanic-data/\u0022 target=\u0022_blank\u0022\u003e feature engineering \u003c/a\u003eto create new features.\u003c/p\u003e\n\u003cp\u003e\u003cb\u003eThe test set \u003c/b\u003eshould be used to see how well your model performs on unseen data. For the test set, we do not provide the ground truth for each passenger. It is your job to predict these outcomes. For each passenger in the test set, use the model you trained to predict whether or not they survived the sinking of the Titanic.\u003c/p\u003e\n\u003cp\u003eWe also include \u003cb\u003egender_submission.csv\u003c/b\u003e, a set of predictions that assume all and only female passengers survive, as an example of what a submission file should look like.\u003c/p\u003e\n\u003ch3\u003eData Dictionary\u003c/h3\u003e\n\u003ctable style=\u0022width: 100%;\u0022\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\u003cth\u003e\u003cb\u003eVariable\u003c/b\u003e\u003c/th\u003e\u003cth\u003e\u003cb\u003eDefinition\u003c/b\u003e\u003c/th\u003e\u003cth\u003e\u003cb\u003eKey\u003c/b\u003e\u003c/th\u003e\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esurvival\u003c/td\u003e\n\u003ctd\u003eSurvival\u003c/td\u003e\n\u003ctd\u003e0 = No, 1 = Yes\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003epclass\u003c/td\u003e\n\u003ctd\u003eTicket class\u003c/td\u003e\n\u003ctd\u003e1 = 1st, 2 = 2nd, 3 = 3rd\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esex\u003c/td\u003e\n\u003ctd\u003eSex\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eAge\u003c/td\u003e\n\u003ctd\u003eAge in years\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esibsp\u003c/td\u003e\n\u003ctd\u003e# of siblings / spouses aboard the Titanic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eparch\u003c/td\u003e\n\u003ctd\u003e# of parents / children aboard the Titanic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eticket\u003c/td\u003e\n\u003ctd\u003eTicket number\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efare\u003c/td\u003e\n\u003ctd\u003ePassenger fare\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ecabin\u003c/td\u003e\n\u003ctd\u003eCabin number\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eembarked\u003c/td\u003e\n\u003ctd\u003ePort of Embarkation\u003c/td\u003e\n\u003ctd\u003eC = Cherbourg, Q = Queenstown, S = Southampton\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003eVariable Notes\u003c/h3\u003e\n\u003cp\u003e\u003cb\u003epclass\u003c/b\u003e: A proxy for socio-economic status (SES)\u003cbr /\u003e 1st = Upper\u003cbr /\u003e 2nd = Middle\u003cbr /\u003e 3rd = Lower\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003eage\u003c/b\u003e: Age is fractional if less than 1. If the age is estimated, is it in the form of xx.5\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003esibsp\u003c/b\u003e: The dataset defines family relations in this way...\u003cbr /\u003e Sibling = brother, sister, stepbrother, stepsister\u003cbr /\u003e Spouse = husband, wife (mistresses and fiancs were ignored)\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003eparch\u003c/b\u003e: The dataset defines family relations in this way...\u003cbr /\u003e Parent = mother, father\u003cbr /\u003e Child = daughter, son, stepdaughter, stepson\u003cbr /\u003e Some children travelled only with a nanny, therefore parch=0 for them.\u003c/p\u003e"}],"versions":[{"id":282747,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-07-01T17:05:41.897Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":2,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"9183b6a8d65a84325d8fd8d3303912399bb16a74a458a0849228894f1c606a4e","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":48.0488014221191,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"titanicScript","url":"/lstnr1/titanicscript?scriptVersionId=282747","versionNumber":4,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":282745,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-07-01T17:04:28.807Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":27,"linesInsertedFromPrevious":84,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"9183b6a8d65a84325d8fd8d3303912399bb16a74a458a0849228894f1c606a4e","dockerImageName":"kaggle/rstats","exitCode":1,"failureMessage":"The script returned with an error. See the log for more information.","isValidStatus":true,"runTimeSeconds":7.33122062683105,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"titanicScript","url":"/lstnr1/titanicscript?scriptVersionId=282745","versionNumber":3,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":282014,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-06-30T18:11:37.54Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":5,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:76fc60b923beacf3fde248a58f7ba3afd1fed42474e17e55ae0363c2b7e35878","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":113.428855657578,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"titanicScript","url":"/lstnr1/titanicscript?scriptVersionId=282014","versionNumber":2,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":282012,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-06-30T18:07:05.947Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":385,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"9183b6a8d65a84325d8fd8d3303912399bb16a74a458a0849228894f1c606a4e","dockerImageName":"kaggle/rstats","exitCode":1,"failureMessage":"The script returned with an error. See the log for more information.","isValidStatus":true,"runTimeSeconds":6.78077149391174,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"titanicScript","url":"/lstnr1/titanicscript?scriptVersionId=282012","versionNumber":1,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null}],"categories":{"categories":[],"type":"script"},"submitToCompetitionInfo":null,"downloadAllFilesUrl":"/kernels/svzip/282747","submission":null,"menuLinks":[{"href":"/lstnr1/titanicscript/notebook","text":"Report","title":"Notebook","tab":"report","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/lstnr1/titanicscript/code","text":"Code","title":"Code","tab":"code","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/lstnr1/titanicscript/data","text":"Data","title":"Data","tab":"data","count":1,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/lstnr1/titanicscript/output","text":"Output","title":"Output","tab":"output","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/lstnr1/titanicscript/log","text":"Log","title":"Log","tab":"log","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/lstnr1/titanicscript/comments","text":"Comments","title":"Comments","tab":"comments","count":0,"showZeroCountExplicitly":true,"reportEventCategory":null,"reportEventType":null}],"rightMenuLinks":[],"callToAction":{"href":"/kernels/fork-version/282747","text":"Fork Script","title":"Fork Script","tab":null,"count":null,"showZeroCountExplicitly":false,"reportEventCategory":"kernels","reportEventType":"anonymousKernelForkCreation"},"voteButton":{"totalVotes":0,"hasAlreadyVotedUp":false,"hasAlreadyVotedDown":false,"canUpvote":true,"canDownvote":false,"voteUpUrl":"/kernels/vote?id=74951","voteDownUrl":null,"voters":[],"currentUserInfo":null,"showVoters":true,"alwaysShowVoters":true},"parentDataSource":null,"parentName":"Titanic: Machine Learning from Disaster","parentUrl":"/c/titanic","thumbnailImageUrl":"https://storage.googleapis.com/kaggle-competitions/kaggle/3136/logos/thumb76_76.png","canWrite":false,"canAdminister":false,"datasetHidden":false,"forkParentIsRedacted":false,"forkDiffLinesChanged":0,"forkDiffLinesDeleted":0,"forkDiffLinesInserted":0,"forkDiffUrl":null,"forkParentAuthorDisplayName":null,"forkParentAuthorUrl":null,"forkParentTitle":null,"forkParentUrl":null,"canSeeDataExplorerV2":true,"canSeeRevampedViewer":true,"canSeeInnerTableOfContents":true,"simplifiedViewer":false,"kernelOutputDataset":null});performance && performance.mark && performance.mark("KernelViewer.componentCouldBootstrap");</script>

<form action="/lstnr1/titanicscript" id="__AjaxAntiForgeryForm" method="post"><input name="X-XSRF-TOKEN" type="hidden" value="CfDJ8LdUzqlsSWBPr4Ce3rb9VL_tQc7iuoSYYPyLx2n0B8JEoIOWK6ODvnX6HnnxMbp3lowP_TwHH7pkNNMVvfKK1CYEnUM-md8j_NjAsH2eKdjQ2IOl4D-3YMmuMKN7go7rQoO_oRxBO20_PgYXRDDaOXo" /></form>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        "HTML-CSS": {
            preferredFont: "TeX",
            availableFonts: ["STIX", "TeX"],
            linebreaks: {
                automatic: true
            },
            EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
        },
        tex2jax: {
            inlineMath: [["\\(", "\\)"], ["\\\\(", "\\\\)"]],
            displayMath: [["$$", "$$"], ["\\[", "\\]"]],
            processEscapes: true,
            ignoreClass: "tex2jax_ignore|dno"
        },
        TeX: {
            noUndefined: {
                attributes: {
                    mathcolor: "red",
                    mathbackground: "#FFEEEE",
                    mathsize: "90%"
                }
            }
        },
        Macros: {
            href: "{}"
        },
        skipStartupTypeset: true,
        messageStyle: "none"
    });
</script>
<script type="text/javascript" async crossorigin="anonymous" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



    </div>

        <div class="site-layout__footer">
            <footer class="site-footer">
    <div class="site-footer__content">
        <div class="site-footer__copyright">
            <span>&copy; 2019 Kaggle Inc</span>
        </div>
        <nav class="site-footer__nav">
            <a href="/team">Our Team</a>
            <a href="/terms">Terms</a>
            <a href="/privacy">Privacy</a>
            <a href="/contact">Contact/Support</a>
        </nav>
        <nav class="site-footer__social">
            <div data-component-name="SocialIcons" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push();performance && performance.mark && performance.mark("SocialIcons.componentCouldBootstrap");</script>
        </nav>
    </div>
</footer>

        </div>
</div>




    </main>
</body>
</html>
