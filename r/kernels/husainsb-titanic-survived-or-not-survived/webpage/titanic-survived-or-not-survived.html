<!DOCTYPE html>
<html lang="en">
<head>
    <title>Titanic: Survived or Not Survived? | Kaggle</title>
    <meta charset="utf-8" />
    <meta name="robots" content="index, follow" />
    <meta name="turbolinks-cache-control" content="no-cache" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">    <meta name="theme-color" content="#008ABC" />
    <script type="text/javascript">
        window["initialPageLoadStartTime"] = new Date().getTime();
    </script>
    <link rel="dns-prefetch" href="https://www.google-analytics.com" /><link rel="dns-prefetch" href="https://stats.g.doubleclick.net" /><link rel="dns-prefetch" href="https://js.intercomcdn.com" /><link rel="dns-prefetch" href="https://storage.googleapis.com/" />
    <link href="/static/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link rel="manifest" href="/static/json/manifest.json">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic" rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type='text/css'/>
        <link rel="canonical" href="/husainsb/titanic-survived-or-not-survived" />                    <link rel="stylesheet" type="text/css" href="/static/assets/vendor.css?v=632d145d8598" />
        <link rel="stylesheet" type="text/css" href="/static/assets/app.css?v=1d00932a7505" />
    
    
 
        <script>
        try{(function(a,s,y,n,c,h,i,d,e){d=s.createElement("style");
        d.appendChild(s.createTextNode(""));s.head.appendChild(d);d=d.sheet;
        y=y.map(x => d.insertRule(x + "{ opacity: 0 !important }"));
        h.start=1*new Date;h.end=i=function(){y.forEach(x => d.deleteRule(x))};
        (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
        })(window,document,['.site-header-react__nav'],'dataLayer',2000,{'GTM-52LNT9S':true});}catch{}
    </script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-12629138-1', {
            'optimize_id': 'GTM-52LNT9S',
            'displayFeaturesTask': null,
            'send_page_view': false
        });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12629138-1"></script>

    
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
            n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq("set", "autoConfig", "false", "136809193586742");
    fbq('init', '136809193586742'); 
    fbq('track', 'PageView');
</script>
<noscript>
    <img height="1" width="1" src="https://www.facebook.com/tr?id=136809193586742&ev=PageView&noscript=1"/>
</noscript>

<script>window.intercomSettings = {"app_id":"koj6gxx6"};</script>        <script>(function () { var w = window; var ic = w.Intercom; if (typeof ic === "function") { ic('reattach_activator'); ic('update', intercomSettings); } else { var d = document; var i = function () { i.c(arguments) }; i.q = []; i.c = function (args) { i.q.push(args) }; w.Intercom = i; function l() { var s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'https://widget.intercom.io/widget/koj6gxx6'; var x = d.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); } if (w.attachEvent) { w.attachEvent('onload', l); } else { w.addEventListener('load', l, false); } } })()</script>
    
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@kaggledatasets" />
    <meta name="og:url" content="https://kaggle.com/husainsb/titanic-survived-or-not-survived" />
    <meta name="og:title" content="Titanic: Survived or Not Survived?" />
    <meta name="og:description" content="Using data from Titanic: Machine Learning from Disaster" />
    <meta name="og:image" content="https://storage.googleapis.com/kaggle-avatars/thumbnails/1422800-kg.jpg" />


    
    

    
    
    
<script type="text/javascript">
    var Kaggle = Kaggle || {};

    Kaggle.Current = {
        antiForgeryToken: 'CfDJ8LdUzqlsSWBPr4Ce3rb9VL8MTbIFsAKVGcViHZX5gFVnQd-hsWzeZOp8QJ2-TUmWBXfPRx1J9vNOHofT9_in98k2VyPI_zEa4vMzwWt79nAHTLqCBTBVpP4I2sP8lXntiYLwTCJH37hYPMMIZe5pxdA',
        isAnonymous: true,
        analyticsToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjAzMzE4MDksIlVzZXJJZCI6MH0.HS6LJqRly_R83roR-YtgKb0vt752j4kjQw-TFesizxM',
        analyticsTokenExpiry: 15,
        internetKernelsEnabled: false,
        
        
        
        
        
        
        
        
        
        
        
    }
        Kaggle.Current.log = function(){};
        Kaggle.Current.warn = function(){};

    var decodeUserDisplayName = function () {
        var escapedUserDisplayName = Kaggle.Current.userDisplayNameEscaped || "";
        try {
            var textVersion = new DOMParser().parseFromString(escapedUserDisplayName, "text/html").documentElement.textContent;
            if (textVersion) {
                return textVersion;
            }
        } catch(ex) {}
        return escapedUserDisplayName;
    }
    Kaggle.Current.userDisplayName = decodeUserDisplayName();
</script>

    

<script type="text/javascript">
    var Kaggle = Kaggle || {};
    Kaggle.PageMessages = [];
</script>

    
<script type="text/javascript">
/* <![CDATA[ */
goog_snippet_vars = function() {
    var w = window;
    w.google_conversion_id = 955616553;
    w.google_conversion_label = "QSjvCKDksHMQqZrWxwM";
    w.google_conversion_value = 0.00;
    w.google_conversion_currency = "USD";
    w.google_remarketing_only = false;
    w.google_conversion_language = "en";
    w.google_conversion_format = "3";
    w.google_conversion_color = "ffffff";
}
// DO NOT CHANGE THE CODE BELOW.
goog_report_conversion = function(url) {
    goog_snippet_vars();
    window.google_conversion_format = "3";
    var opt = new Object();
    opt.onload_callback = function() {
        if (typeof(url) != 'undefined') {
            window.location = url;
        }
    }
    var conv_handler = window['google_trackConversion'];
    if (typeof(conv_handler) == 'function') {
        conv_handler(opt);
    }
}
/* ]]> */
</script>
<script type="text/javascript"
src="//www.googleadservices.com/pagead/conversion_async.js">
</script>



        <script>window['useKaggleAnalytics'] = true;</script>

    <script src="/static/assets/vendor.js?v=4721d2c14786" data-turbolinks-track="reload"></script>
    <script src="/static/assets/app.js?v=1a3cd8c35fe7" data-turbolinks-track="reload"></script>
        <script>
            (function() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register("/static/assets/service-worker.js").then(function(reg) {
                        reg.onupdatefound = function() {
                            var installingWorker = reg.installing;
                            installingWorker.onstatechange = function() {
                                switch (installingWorker.state) {
                                case 'installed':
                                    if (navigator.serviceWorker.controller) {
                                        console.log('New or updated content is available.');
                                    } else {
                                        console.log('Content is now available offline!');
                                    }
                                    break;
                                case 'redundant':
                                    console.error('The installing service worker became redundant.');
                                    break;
                                }
                            };
                        };
                    }).catch(function(e) {
                      console.error('Error during service worker registration:', e);
                    });
                }
            })();
        </script>
    <script>
        function handleClientLoad() {
            try {
                gapi.load('client:auth2');
            } catch (e) {
                // In Opera, readystatechange is an unreliable detection of script load, causing
                // this function to be called before gapi exists on the window. The onload callback
                // is still called at the correct time, so the feature works as expected - it's
                // just generating noisy errors.
            }
        }
    </script>
    <script async defer src="https://apis.google.com/js/api.js"
            onload="this.googleApiOnLoad=function(){};handleClientLoad()"
            onreadystatechange="if (this.readyState === 'complete') this.googleApiOnLoad()">
    </script>
</head>
<body data-turbolinks="true">
    <main>
        






<div class="site-layout">
        <div class="site-layout__header">
            <div data-component-name="SiteHeaderContainer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({});performance && performance.mark && performance.mark("SiteHeaderContainer.componentCouldBootstrap");</script>
        </div>

    <div class="site-layout__main-content">
        

<div data-component-name="KernelViewer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({"kernel":{"id":737379,"title":"Titanic: Survived or Not Survived?","forkParent":null,"currentRunId":2816733,"mostRecentRunId":2816733,"url":"/husainsb/titanic-survived-or-not-survived","tags":[{"name":"beginner","slug":"beginner","url":"/tags/beginner"},{"name":"eda","slug":"eda","url":"/tags/eda"},{"name":"data visualization","slug":"data-visualization","url":"/tags/data-visualization"},{"name":"classification","slug":"classification","url":"/tags/classification"},{"name":"feature engineering","slug":"feature-engineering","url":"/tags/feature-engineering"}],"commentCount":0,"upvoteCount":6,"viewCount":1030,"forkCount":3,"bestPublicScore":null,"author":{"id":1422800,"displayName":"Husain Battiwala","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"husainsb","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1422800-kg.jpg","profileUrl":"/husainsb","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":1,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"isPrivate":false,"updatedTime":"2018-03-15T16:18:15.9433333Z","selfLink":"/kernels/737379","pinnedDockerImageVersionId":null,"isLanguageTemplate":false,"medal":null,"topicId":52072,"readGroupId":null,"writeGroupId":null,"slug":"titanic-survived-or-not-survived"},"kernelBlob":{"id":5431933,"settings":{"dockerImageVersionId":47,"dataSources":[{"sourceType":"Competition","sourceId":3136,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\ntitle: \u0027Titanic: Survived or Not Survived?\u0027\nauthor: \u0022Husain Battiwala\u0022\ndate: \u002212 March 2018\u0022\noutput:\n  html_document: \n    number_sections: true\n    toc: true\n---\n\n```{r setup, include=FALSE,echo=FALSE}\nknitr::opts_chunk$set(echo = TRUE,results = TRUE,warning=FALSE)\n```\n\n#First thing first\n\nHello! In this analysis our aim is to build and train our algorithm on training set to predict where a person will Survive or not. Then our final model will be tested on test data set to calculate overall accuracy of our model.\nLet\u0027s first load all necessary packages that we will require in this entire process of data analysis and building model.\n\n```{r setwd,echo=FALSE,results=FALSE}\n#setwd(\u0027D://R Files//titanic set\u0027)\n```\n```{r packages,results=FALSE,warning=FALSE}\n#install.packages(\u0022lattice\u0022)  #for plots\nlibrary(lattice)\n#install.packages(\u0022data.table\u0022)  #for data table\nlibrary(data.table)\n#install.packages(\u0022ggplot2\u0022) #for beautiful plots\nlibrary(ggplot2)\n#install.packages(\u0022dplyr\u0022)  #for manipulations\nlibrary(dplyr)\n#install.packages(\u0022caret\u0022)  \nlibrary(caret)              #for training and building different models\n#install.packages(\u0022e1071\u0022)\nlibrary(e1071)              #for Naive Bayes and SVM\n#install.packages(\u0022randomForest\u0022) \nlibrary(randomForest)       #for Random Forest\n#install.packages(\u0022fastAdaboost\u0022)  \nlibrary(fastAdaboost)       # for AdaBoost\n#install.packages(\u0022ROCR\u0022)  \nlibrary(ROCR)               #For ROC curve\n```\n\nNow let\u0027s load training set into R and check for various fields present in it.\n\n```{r load_train}\nrms_t \u003c- read.csv(\u0027../input/train.csv\u0027,header = T,quote = \u0027\u0022\u0027)\nnames(rms_t)\n```\n\n#Exploratory Data Analysis\n\nThis is the fun part and yes, the most important part of the entire process. This require science and proper understanding of the data we have.\nLet\u0027s check how many have survived and how many have not in the unfortunate incident of Titanic.\n\n##Gender-wise survival rate\nFirst, check Survival rates by Gender.\n0 \u003e Not Survived\n1 \u003e Survived\n\n```{r survival_sex}\ntable(rms_t$Survived)\n\nsurvival_rate \u003c- as.matrix(table(rms_t$Survived,rms_t$Sex))\n\nsurvival_df \u003c- as.data.frame(table(rms_t$Survived,rms_t$Sex))\nnames(survival_df)\u003c-c(\u0027Survived\u0027,\u0027Sex\u0027,\u0027Freq\u0027)\nbarchart(survival_df$Freq ~ survival_df$Sex | survival_df$Survived)\n```\n\nIt is clearly seen that Females have Survived more than the Males.\nAround 74% of females and 19% of males have survived. Hence, females were given higher priority while evacuation.\n\n##Class-wise survival rate\n\nNow let\u0027s check survival rates by Passenger Class.\n\n```{r survival_class}\nsurvival_class_df \u003c- as.data.frame(table(rms_t$Survived,rms_t$Pclass))\nnames(survival_class_df)\u003c-c(\u0027Survived\u0027,\u0027PClass\u0027,\u0027Freq\u0027)\nbarchart(survival_class_df$Freq ~ survival_class_df$PClass | survival_class_df$Survived)\n\nsurvival_class_dt \u003c- as.data.table(survival_class_df)\nsurvival_class_dt[,100*Freq/sum(Freq),PClass]\n```\n\nFrom above bar-chart and figures it can be seen that highest preference were given to 1st Class passengers while rescuing and then to 2nd Class and 3rd Class.\nSo, elite got first preference and middle-class/economy passengers were given last preference.\n\n##What\u0027s in name?\n\nLet\u0027s figure out if name or more precisely title of Passenger plays important role while evacuation.\nThere is nor direct field exists which gives title of passenger. We can extract this info from \u0027Name\u0027 column using regular expressions.\n\n```{r extract_title}\nrms_t$title\u003c-gsub(\u0027 \u0027,\u0027\u0027,gsub(\u0027(.*,)|(\\\\..*)\u0027,\u0027\u0027,rms_t$Name,fixed=F,perl = T))\nt(table(rms_t$title,rms_t$Sex))\n```\n\nOh!! there are so many distinct values of title. Let\u0027s combine not-so-important titles into some common title.\nWe will consider final titles as Master,Mr,Mrs and Miss. Rest all will be converted into these titles according to their Sex and Age for ease of analysis.\n\n```{r convert_title,warning=FALSE}\nrms_t %\u003e% group_by(title) %\u003e%summarise(mean(Age,na.rm = T))\n\nrms_t \u003c- within(rms_t,title[title %in% c(\u0027Capt\u0027,\u0027Col\u0027,\u0027Don\u0027,\u0027Dr\u0027,\u0027Major\u0027,\u0027Sir\u0027,\u0027Rev\u0027,\u0027Jonkheer\u0027) \u0026 Sex==\u0027male\u0027] \u003c- \u0027Mr\u0027)\nrms_t \u003c- within(rms_t,title[Age\u003c30 \u0026 Sex==\u0027female\u0027] \u003c- \u0027Miss\u0027)\nrms_t \u003c- within(rms_t,title[Age\u003e=30 \u0026 Sex==\u0027female\u0027] \u003c- \u0027Mrs\u0027)\n\ntable(rms_t$title)\n\nggplot(data = rms_t,aes(title,Age,fill=title))+geom_violin()\n```\n\nFrom above violin plot it can be seen that Master and Mr passengers are nearly mutually exclusive and same for Miss and Mrs.\nNow let\u0027s find average age, mean or median, as it doesn\u0027t really matter and assign those to passengers with no age.\n\n```{r mean_age}\nsummary(subset(rms_t,title==\u0027Master\u0027,Age))  #avg 5\nsummary(subset(rms_t,title==\u0027Mr\u0027,Age)) # avg 33\nsummary(subset(rms_t,title==\u0027Miss\u0027,Age)) #avg 18\nsummary(subset(rms_t,title==\u0027Mrs\u0027,Age)) #avg 40\n\nrms_t \u003c- within(rms_t,Age[title==\u0027Mrs\u0027 \u0026 is.na(Age)] \u003c- 40)\nrms_t \u003c- within(rms_t,Age[title==\u0027Miss\u0027 \u0026 is.na(Age)] \u003c- 18)\nrms_t \u003c- within(rms_t,Age[title==\u0027Mr\u0027 \u0026 is.na(Age)] \u003c- 33)\nrms_t \u003c- within(rms_t,Age[title==\u0027Master\u0027 \u0026 is.na(Age)] \u003c- 5)\n\ntable(rms_t$title,rms_t$Survived)\n\nsurvival_title_df \u003c- as.data.frame(table(rms_t$Survived,rms_t$title))\n\nbarchart(survival_title_df$Freq ~ survival_title_df$Var2 | survival_title_df$Var1)\n\nsurvival_title_dt \u003c- as.data.table(survival_title_df)\nnames(survival_title_dt)\u003c-c(\u0022Survived\u0022,\u0022title\u0022,\u0022Freq\u0022)\nsurvival_title_dt[,.(Survived,100*Freq/sum(Freq)),title]\n```\n\nIt can be seen from above bar-chart and figures that older ladies were given 1st preference and  older men the least while rescuing. Hence order of preference while rescuing is like Mrs\u003eMiss\u003eMaster\u003eMr\n\n##From where they belong?\n\nNow let\u0027s check if passengers embarkation port has any relation with survival rates.\n\n```{r survival_embark}\nsummary(rms_t$Embarked)\nstr(rms_t$Embarked)\ntable(rms_t$Survived,rms_t$Embarked)\n```\n\nFrom above results, it is seen that passengers who embarked on port \u0027C\u0027 has survival rate of 55%, for port \u0027Q\u0027 it\u0027s 40% and port \u0027S\u0027 it\u0027s 34%.\nSo, preference while rescuing passengers was **C \u003e Q \u003e S**.\n\nAlso, from summary of field \u0027Embarked\u0027, we can see that 2 passengers Embarkation port are blank *(not NA)*. Let\u0027s try to find what could be their embarkation port using the other fields like ticket fare and class, as this would serve as best measures to find unknown port.\n\n```{r view_2missing_embark}\nsubset(rms_t,Embarked==\u0022\u0022,select = c(\u0022Pclass\u0022,\u0022Fare\u0022))\n```\n\nSo they belong to 1st class and ticket fare is 80. We would use this info to find port of Embarkation using some plots.\n\n```{r plot_embarked}\nggplot(rms_t,aes(Embarked,Fare))+facet_grid(.~Pclass) + geom_boxplot() + geom_hline(aes(yintercept=80,col=\u0022red\u0022))\n```\n\nIn above box plot, we pass a red line through y-axis of 80 which is Fare. It can be seen that this red line passes exactly through average fare of port \u0027C\u0027 for 1st class.\nHence, we can conclude that missing embarkation port for 2 passengers is \u0027C\u0027.\n\nNow let\u0027s assign field Embarked with value **C**.\n\n```{r impute_embarked}\nrms_t\u003c-within(rms_t,Embarked[Embarked==\u0022\u0022]\u003c-\u0027C\u0027)\n\nggplot(rms_t,aes(Embarked,fill=factor(Survived)))+ geom_histogram(stat=\u0027count\u0027)+  facet_grid(.~Sex)\n```\n\nWe have plotted counts of Survived/Not Survived against Embarked group by Sex.\nIt is been seen that females have survived greater than males.\n\n#Feature Engineering\n\nIn data set we have different variables like **Parch** (Parents and Children count) and **SibSp** (Siblings and Spouse(s)). These variables will tell us family sizes like singles, small or large.\n\nWe will analyse if family sizes plays important role while rescue operation.\n\nLet\u0027s construct a new variable to categorize family sizes. This is known as **Feature Engineering**. This plays pivotal role in any analysis.\n\nWe will first extract Surname of each passenger and then combine it with Sibsp and Parch to derive family size for each passenger.\n\n```{r fmly_size}\nrms_t$Surname \u003c- gsub(\u0027,.*\u0027,\u0027\u0027,rms_t$Name,fixed=F,perl = T)\n\nrms_fmly \u003c- as.data.frame(list(\u0027surname\u0027=rms_t$Surname,\u0027fsize\u0027=rms_t$SibSp + rms_t$Parch + 1,\u0027survived\u0027=rms_t$Survived))\n```\n\nNow, we will check relation between Family size and Survival rate of passengers.\n\n```{r fmly_size_sruvival}\nrms_fmly\u003c-transform(rms_fmly,Dead=0L,Living=0L)\n\nrms_fmly \u003c- within(rms_fmly,{Dead[survived==0]\u003c-1L\n                            Living[survived==1]\u003c-1L})\n\nrms_fmly_sum \u003c- rms_fmly %\u003e% group_by(surname,fsize) %\u003e% summarise(Dead=sum(Dead),Living=sum(Living))\n\nrms_fmly_melt\u003c-melt(rms_fmly_sum[,c(\u0027surname\u0027,\u0027fsize\u0027,\u0027Dead\u0027,\u0027Living\u0027)],c(\u0027surname\u0027,\u0027fsize\u0027),c(\u0027Dead\u0027,\u0027Living\u0027))\n\nrms_fmly_melt \u003c- rms_fmly_melt %\u003e% group_by(fsize,variable) %\u003e% summarise(avg=mean(value))\n\nggplot(rms_fmly_melt,aes(fsize,y=avg,fill=variable)) + geom_bar(position=\u0022dodge\u0022,stat=\u0022identity\u0022)+scale_x_continuous(breaks=c(1:11)) \n```\n\nSo here is graph which shows average no. of Dead or Living according to each family size. \nWe find a trend that no. of Dead increases as family size increases, whereas no. of Living decreases as family size increases i.e. after size of 4.\n\nNow let\u0027s categorize family size into 3 categories:\n\n1. Family size = 1 then **single** \n2. Family size \u003e 1 and \u003c 5 then **small** \n3. Family size \u003e 5 then **large** \n\n```{r fsize_category}\nrms_fmly$size.desc[rms_fmly$fsize==1] \u003c- \u0027single\u0027 \nrms_fmly$size.desc[rms_fmly$fsize\u003e1 \u0026 rms_fmly$fsize\u003c5] \u003c- \u0027small\u0027 \nrms_fmly$size.desc[rms_fmly$fsize\u003e=5] \u003c- \u0027large\u0027 \nmosaicplot( table(rms_fmly$size.desc,rms_fmly$survived),color = T)\n```\n\nAbove mosaic plot shows that Small families survived most, while Large and Singles suffered then huge loss.\n\nThese family categories will be merged to original data set.\n\n```{r merge_fsize}\nrms_full\u003c-merge(rms_t,rms_fmly,by.x =\u0022Surname\u0022,by.y = \u0022surname\u0022 )\nrms_t\u003c-subset(rms_full,select=-c(fsize:Living))\n\nrms_t \u003c- rms_t %\u003e% group_by(PassengerId) %\u003e% summarise_all(.funs = function(x) {min(as.character(x))})\n```\n\nLet\u0027s check ticket fares of all passengers.\n\n```{r chk_fares}\nrms_t$Fare \u003c- as.double(rms_t$Fare)\nsummary(rms_t$Fare)\ncount(subset(rms_t,Fare==0))\n```\n\nSo there are 15 passengers whose ticket fare is 0. Let\u0027s try to find what could be their on basis of port of Embarkation and class of travel.\n\n```{r chk_fares_by_class_embark}\nggplot(rms_t,aes(x=Embarked,y=Fare,fill=factor(Pclass)))+geom_boxplot()\n```\n\nWe will now assign average fares to rows where Fare is 0 basis Pclass and Embarked variables.\n\n```{r zero_fare_impute}\nrms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==1 \u0026 rms_t$Fare==0] \u003c- median(rms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==1])\nrms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==2 \u0026 rms_t$Fare==0] \u003c- median(rms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==2])\nrms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==3 \u0026 rms_t$Fare==0] \u003c- median(rms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==3])\n```\n\nNow let\u0027s see if there are any missing values in important variables. This is necessary because most modelling techniques doesn\u0027t work on NA/missing values.\n\n```{r chk_NA}\nsapply(names(rms_t),FUN = function(x) {sum(is.na(x))})\n```\n\nThere are no NAs but Cabin variable contains many missing values. We will not further analyse and impute this field as it is not so significant for predicting Survived variable. It\u0027s not worth the effort.\nSo we will leave it as it is.\n\nNow let\u0027s assign proper data-types to different fields.\nWe will convert character to factors for categorical variables.\n\n```{r final_groom}\nrms_t\u003c- rms_t %\u003e% mutate_if(is.character,as.factor)\nrms_t$Parch \u003c- as.integer(rms_t$Parch)\nrms_t$SibSp \u003c- as.integer(rms_t$SibSp)\nrms_t$Age \u003c- as.double(rms_t$Age)\nt(lapply(rms_t,class))\n```\n\nFinal grooming is done. Categorical variables are now represented as factors and numeric as numeric.\nNow let\u0027s get our hands dirty on building models and getting predictions.\n\n#Building models\n\n##Partioning the data set\n\nLet\u0027s partition our original train data set into 2 sub-sets:\n\n* Training set: Here we will train our models. (80% of original training set)\n* Test set: Here we will test the predictions and accuracy of each of our models.  (20% of original training set)\n\nWe will use caret package to achieve this functionality as it will help in proper partitioning of data by considering different categories of each variables in partitions.\n\n```{r partition}\nset.seed(123)\ntrainnew\u003c-createDataPartition(y=rms_t$Survived,p = .8,list = F)\nrms_train \u003c- rms_t[trainnew,] #80% training set\nrms_test \u003c- rms_t[-trainnew,] #20% test set\n\ndim(rms_train); dim(rms_test)\n```\n\n##Logistic Regression\n\n###Building Model\nSince our response is categorical type we will use Logistic Regression which will give estimated probability for a linear combination of predictors.\n\nLogistic regression will give probability of variable \u0027Survived\u0027 being \u00271\u0027 for a linear combination of predictors.\n\nWe will consider important predictors to achieve optimum accuracy while keeping model simple. For this we have chosen predictors as Sex, Pclass, Age, size.desc, title and response variable is Survived (0 or 1).\n\nLet\u0027s fit model on training set.\n```{r logit_model,warning=FALSE}\nset.seed(123)\nrms_fit \u003c- glm(formula =Survived~Sex+Pclass+Age+size.desc+title,data=rms_train,family = \u0022binomial\u0022)\nsummary(rms_fit)\np\u003c-predict(rms_fit,rms_train,type = \u0022response\u0022)\n```\n\nFrom summary of model we can conclude:\n1. Difference between Null Deviance and Residual Deviance is high. It means by adding predictors we much of deviance in fitted values are explained by our model.\n2. By looking at p-values against each predictors, most of them has p-values\u003c0.05 (5%) i.e. most of them are statistically significant.\n\nSince we have got probabilities as response in **p** variable, we have to decide a cut-off probability through which we will categorize response to be 1 or 0.\n\n* p \u003e cut-off = 1\n* p \u003c= cut-off = 0\n\nTo gain optimum accuracy and to balance Specificity and Sensitivity parameters we will plot ROC and impose it with different cut-off values to find best possible cut-off value.\n\n```{r roc}\npred\u003c-prediction(p,rms_train$Survived)\nperf\u003c-performance(pred,\u0027tpr\u0027,\u0027fpr\u0027)\nplot(perf,col=\u0022blue\u0022,print.cutoffs.at=c(.4,.5,.7))\n```\n\nWe see from above ROC plot that at cut-off 0.4, TPR (Sensitivity) is about 80% and Specificity (1-FPR) is also about 80%.\n\nAfter decreasing cut-off beyond 0.4 we do not find much gain in TPR (curve tends to be horizontal). Hence we select 0.4 to be ideal cut-off.\nNow let\u0027s make predictions by choosing 0.4 as cutoff and calculate the accuracy of model.\n\n```{r precitions_logit}\nc\u003c-confusionMatrix(table(ifelse(p\u003e0.4,1,0),rms_train$Survived))\nc\nacc\u003c-round(c$overall[[1]]*100,2)\n```\n\nAccuracy of our model is `r acc`% and Kappa is beyond 60%. Specificity and Sensitivity are above 80%. That\u0027s pretty good results.\n\n###Cross Validation\n\nLet\u0027s do some CV to avoid being misjudged by Accuracy results due to overfitting.\nWe will do 10-Fold CV repeated 3 times using objects of **caret** package.\n\n```{r CV_10fold-rep3,warning=FALSE}\nset.seed(123)\nmodel.10x3fold\u003c-train(Survived~Sex+Pclass+Age+size.desc+title,data=rms_train,\n                      method = \u0022glm\u0022,\n                      trControl = trainControl(method = \u0022repeatedcv\u0022,number = 10,repeats = 3,verboseIter = F))\nmodel.10x3fold\n\nacc\u003c-round(model.10x3fold$results[[2]]*100,2)\n```\n\nAccuracy of `r acc`% proves that our model is pretty good and there are no overfitting cases observed.\n\n##Random Forest\n\nRandom Forest (RF) is one of widely used ML algorithm for CART method. It is quite popular for classification predictions with pretty high accuracy compared to other algorithms.\n\nHere we will consider extra parameter Embarked because after much testing and CV of different models with different combo of predictors, I chose to include Embarked as it gives better accuracy.\n\nSince RF is based on re-sampling of data and predictors, it is always good to set seed to some specific value, so code/model can be reproduced and will give same results.\n\n```{r rf}\nset.seed(123)\nmodel.rf \u003c- randomForest(y=rms_train$Survived,x=rms_train[,c(\u0022Sex\u0022,\u0022Pclass\u0022,\u0022Age\u0022,\u0022size.desc\u0022,\u0022Embarked\u0022)],importance=T,keep.forest = T)\nplot(model.rf)\nlegend(\u0022topright\u0022,colnames(model.rf$err.rate),col=1:3,fill=1:3)\nvarImpPlot(model.rf,scale = F)\npred_cart\u003c-predict(model.rf,rms_train)\nc\u003c-confusionMatrix(table(pred_cart,rms_train$Survived))\nc\nacc\u003c-round(c$overall[[1]]*100,2)\n```\n\nIt can be seen from Error plot of RF, that overall error rate of model (OOB) is around 20%, which is in acceptable limits.\n\nAlso, variable importance plot Sex is most important variable and Embarked is least important. If you remove Embarked variable from model, accuracy will be decreased by 2-3%.\n\nOverall accuracy of model is around `r acc`% which is pretty high. That\u0027s the beauty of RF.\n\n##SVM\n\nSVM are good modelling techniques when you have smaller data set, as similar to our case. We will use Radial Basis Function kernel of SVM.\n\nWhen training our model on training set we will also employ 10-fold CV to avoid any overfitting issues.\n\n```{r svm,warning=FALSE}\nset.seed(123)\nmodel.svm\u003c-train(Survived~Sex+Pclass+Age+size.desc+title,data=rms_train,\n                 method=\u0022svmRadial\u0022,\n                 trControl = trainControl (method=\u0022cv\u0022 ,number=10, verboseIter = F))\n\np\u003c-predict(model.svm,rms_train)\nc\u003c-confusionMatrix(table(p,rms_train$Survived))\nc\nacc\u003c-round(c$overall[[1]]*100,2)\n```\n\nAs we can see from above results, accuracy from SVM model is `r acc`%, which is quite impressive.\n\n##Boosting\n\n###AdaBoost\n\nWe will employ the most common boosting algorithm that is Adaptive Boosting. It is specifically designed to be used when response is binary (2 classes).\n\nWe will employ just 3-fold CV as boosting itself is computationally intensive technique.\n```{r adaboost,warning=FALSE}\nset.seed(123)\nmodel.ada\u003c-train(as.factor(Survived)~Sex+Pclass+Age+size.desc+title,data=rms_train,method=\u0022adaboost\u0022, trControl = trainControl(method = \u0022cv\u0022,number = 3,verboseIter = F))\np\u003c-predict(model.ada,rms_train)\nc\u003c-confusionMatrix(table(p,rms_train$Survived))\nc\nacc\u003c-round(c$overall[[1]]*100,2)\n```\n\nThe accuracy of AdaBoost is whopping `r acc`% on sub-training set. No doubt boosting are most widely used algorithms in competitions like Kaggle.\n\n#Predictions on sub-test sets\n\nSo we have build and trained our different models on sub-Training set. Accuracy parameter will be best judge on untouched data set i.e. sub-test set.\n\nWe will pick our trained models one-by-one, make predictions on sub-test set and calculate its Accuracy.\n\nThen best model fit will be applied to original test set to compute the output of Survived variable against each Passenger.\n\n```{r pred_rms_test,echo=FALSE}\n\np\u003c-predict(rms_fit,rms_test,type=\u0027response\u0027)\nc\u003c-confusionMatrix(table(ifelse(p\u003e0.4,1,0),rms_test$Survived))\nacc\u003c-round(c$overall[[1]]*100,2)\nprint(c(\u0027Accuracy(%) from Logistic Model:\u0027,acc),quote = F)\n\np\u003c-predict(model.rf,rms_test)\nc\u003c-confusionMatrix(table(p,rms_test$Survived))\nacc\u003c-round(c$overall[[1]]*100,2)\nprint(c(\u0027Accuracy(%) from Random Forest:\u0027,acc),quote = F)\n\np\u003c-predict(model.svm,rms_test)\nc\u003c-confusionMatrix(table(p,rms_test$Survived))\nacc\u003c-round(c$overall[[1]]*100,2)\nprint(c(\u0027Accuracy(%) from SVM-RBF:\u0027,acc),quote = F)\n\np\u003c-predict(model.ada,rms_test)\nc\u003c-confusionMatrix(table(p,rms_test$Survived))\nacc\u003c-round(c$overall[[1]]*100,2)\nprint(c(\u0027Accuracy(%) from AdaBoost:\u0027,acc),quote = F)\n```\n\n#Final Predictions\n\nIn this section we will predict original test set into Survived (1) and Not Survived (0). Here we will not be calculating accuracy as we do not have actual Survival results (truth) against each passenger.\n\nFirst we have to do some Feature Engineering to derive predictors like **title** and **size.desc**, without them our model won\u0027t be able to predict the response (0/1).\n\nLet\u0027s import test data set first into R.\n\n```{r test_set}\ntest_set \u003c- read.csv(\u0027../input/test.csv\u0027,header = T,quote = \u0027\u0022\u0027)\nnames(rms_test)\n```\n\nAs you can see there is no Survived variable. This we will predict in this section.\n\n##Feature Engineering\n\n###Title variable\n\nLet\u0027s generate title variable from Name variable like how we had done before on Training set.\n\n```{r title_var}\ntest_set$title\u003c-gsub(\u0027 \u0027,\u0027\u0027,gsub(\u0027(.*,)|(\\\\..*)\u0027,\u0027\u0027,test_set$Name,fixed=F,perl = T))\n\ntest_set \u003c- within(test_set,title[title %in% c(\u0027Capt\u0027,\u0027Col\u0027,\u0027Don\u0027,\u0027Dr\u0027,\u0027Major\u0027,\u0027Sir\u0027,\u0027Rev\u0027,\u0027Jonkheer\u0027) \u0026 Sex==\u0027male\u0027] \u003c- \u0027Mr\u0027)\ntest_set \u003c- within(test_set,title[Age\u003c30 \u0026 Sex==\u0027female\u0027] \u003c- \u0027Miss\u0027)\ntest_set \u003c- within(test_set,title[Age\u003e=30 \u0026 Sex==\u0027female\u0027] \u003c- \u0027Mrs\u0027)\n\nt(table(test_set$title,test_set$Sex))\n```\n\nHere there is extra title **Ms** of 1 passenger whose Age is missing.\nThis passenger doesn\u0027t have Spouse or Children. Hence we can assume her to be young female.\n\nSo we will convert her title to \u0027Miss\u0027 so our model can use this as predictor.\n\n```{r ms_miss}\ntest_set[test_set$title==\u0027Ms\u0027,]\ntest_set \u003c- within(test_set,title[title==\u0027Ms\u0027 \u0026 Sex==\u0027female\u0027] \u003c- \u0027Miss\u0027)\n\nt(table(test_set$title,test_set$Sex))\n```\n\n###Impute Age variable\n\n```{r na_age}\nsum(is.na(test_set$Age))\n```\n\nThere are around 86 passengers whose Age is missing.\nWe will use average Age of different Titles which we had computed in training set. We will NOT compute average age in Test set.\nThis is **fundamental principal of pre-processing**. All pre-processing in Test set should happen by using computations of Training set, else it will lead to bias and hence wrong predictions.\n\n```{r impute_age}\ntest_set \u003c- within(test_set,Age[title==\u0027Mrs\u0027 \u0026 is.na(Age)] \u003c- 40)\ntest_set \u003c- within(test_set,Age[title==\u0027Miss\u0027 \u0026 is.na(Age)] \u003c- 18)\ntest_set \u003c- within(test_set,Age[title==\u0027Mr\u0027 \u0026 is.na(Age)] \u003c- 33)\ntest_set \u003c- within(test_set,Age[title==\u0027Master\u0027 \u0026 is.na(Age)] \u003c- 5)\n\nggplot(data = test_set,aes(title,Age,fill=title))+geom_violin()\n```\n\n###Family Size variable\n\nHere we will find out **size.desc** (Family size) of each passenger.\nWe had already computed family size according to different Surname in the training set. But there can be extra Surname/family names in test set which didn\u0027t appear in training set.\nSo for this we will calculate family sizes of test set, merge this result with family size of training set and then update original test set with this complete set of family size by Surname i.e. to update **size.desc** variable of test set.\n\n```{r size.desc}\ntest_set$Surname \u003c- gsub(\u0027,.*\u0027,\u0027\u0027,test_set$Name,fixed=F,perl = T) #Extract Surname of each passenger\n\ntest_fmly \u003c- as.data.frame(list(\u0027surname\u0027=test_set$Surname,\u0027fsize\u0027=test_set$SibSp + test_set$Parch + 1))  #calculate Family size\n\n\nrms_fmly_subset\u003c-subset(rms_fmly,select = 1:2)\nall_fmly \u003c-rbind(test_fmly,rms_fmly_subset) #Merge family size of training and test set\n\nall_fmly$size.desc[all_fmly$fsize==1] \u003c- \u0027single\u0027 \nall_fmly$size.desc[all_fmly$fsize\u003e1 \u0026 all_fmly$fsize\u003c5] \u003c- \u0027small\u0027 \nall_fmly$size.desc[all_fmly$fsize\u003e=5] \u003c- \u0027large\u0027 \n\n#Merge family size on original test set using Surname variable\ntest_full\u003c-merge(test_set,all_fmly,by.x =\u0022Surname\u0022,by.y = \u0022surname\u0022 )\ntest_set\u003c-subset(test_full,select=-c(fsize))\n\ntest_set\u003c- test_set %\u003e% group_by(PassengerId) %\u003e% summarise_all(.funs = function(x) {min(as.character(x))})\n\nnames(rms_test)\n```\n\nWe will now convert data type of variables to their expected form or similar to what we had build our model on. Characters to Factors and some to numeric.\n\n```{r cast_datatypes}\ntest_set\u003c- test_set %\u003e% mutate_if(is.character,as.factor)\ntest_set$Parch \u003c- as.integer(test_set$Parch)\ntest_set$SibSp \u003c- as.integer(test_set$SibSp)\ntest_set$Age \u003c- as.double(test_set$Age)\nt(lapply(test_set,class))\n```\n\nSo we are ready with all important predictors and imputation. Now let\u0027s head to predict Survived variable.\n\n##Predictions\n\nFrom previous stats, I choose SVM to be the final model through which Test set response variable will be predicted.\n\n```{r pred_test}\ntest_set$Survived\u003c-predict(model.svm,test_set)\n#write.csv(test_set[,c(\u0022PassengerId\u0022,\u0022Survived\u0022)],\u0022test_file.csv\u0022,quote = F,row.names = F)\n```\n\n#Conclusion\n\nFinally I am done with predictive modelling. I am newbie in data analytics and this is my first attempt to complete a beginner\u0027s level project. Finally many months hard work paid off.\n\nMost important thing about data science is not Data. It is second most important thing. Most important is **Question**. What you want to achieve? If correct question is not been answered or not being understood correctly, then it won\u0027t lead to fruitful results.\n\nIf you like my work request you to vote for it. Thank you for being patient in this complete analysis.","dateCreated":"2018-03-15T16:18:15.45Z"},"kernelRun":{"id":2816733,"kernelId":737379,"status":"complete","type":"batch","sourceType":"script","language":"rmarkdown","title":"Titanic: Survived or Not Survived?","dateCreated":"2018-03-15T16:18:15.45Z","dateEvaluated":"2018-03-15T16:18:15.943Z","workerContainerPort":null,"workerUptimeSeconds":654748,"workerIPAddress":"172.16.0.2     ","scriptLanguageId":5,"scriptLanguageName":"RMarkdown","renderedOutputUrl":"https://www.kaggleusercontent.com/kf/2816733/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..YDpw6d4iURfu9OApZe9eow.JMsbj7JaY02E3FzaebAlDVifFEXtpH88N753UiMaM6M149H_PbnhsRJfA5NNtVtPY2qwfMz8JI5eiEojjMpnVyA-ZzgEsDKw8uznbLIeQvCkLcUuY6DB9PcY7Xj_GV-6DOQ15hjJ6bIWpqziIqhxj4vUwDqOOCz_w8DCrEjUcCc.k-dAgYYXQf8YFOZCZnc5PQ/__results__.html","commit":{"id":5431933,"settings":{"dockerImageVersionId":47,"dataSources":[{"sourceType":"Competition","sourceId":3136,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\ntitle: \u0027Titanic: Survived or Not Survived?\u0027\nauthor: \u0022Husain Battiwala\u0022\ndate: \u002212 March 2018\u0022\noutput:\n  html_document: \n    number_sections: true\n    toc: true\n---\n\n```{r setup, include=FALSE,echo=FALSE}\nknitr::opts_chunk$set(echo = TRUE,results = TRUE,warning=FALSE)\n```\n\n#First thing first\n\nHello! In this analysis our aim is to build and train our algorithm on training set to predict where a person will Survive or not. Then our final model will be tested on test data set to calculate overall accuracy of our model.\nLet\u0027s first load all necessary packages that we will require in this entire process of data analysis and building model.\n\n```{r setwd,echo=FALSE,results=FALSE}\n#setwd(\u0027D://R Files//titanic set\u0027)\n```\n```{r packages,results=FALSE,warning=FALSE}\n#install.packages(\u0022lattice\u0022)  #for plots\nlibrary(lattice)\n#install.packages(\u0022data.table\u0022)  #for data table\nlibrary(data.table)\n#install.packages(\u0022ggplot2\u0022) #for beautiful plots\nlibrary(ggplot2)\n#install.packages(\u0022dplyr\u0022)  #for manipulations\nlibrary(dplyr)\n#install.packages(\u0022caret\u0022)  \nlibrary(caret)              #for training and building different models\n#install.packages(\u0022e1071\u0022)\nlibrary(e1071)              #for Naive Bayes and SVM\n#install.packages(\u0022randomForest\u0022) \nlibrary(randomForest)       #for Random Forest\n#install.packages(\u0022fastAdaboost\u0022)  \nlibrary(fastAdaboost)       # for AdaBoost\n#install.packages(\u0022ROCR\u0022)  \nlibrary(ROCR)               #For ROC curve\n```\n\nNow let\u0027s load training set into R and check for various fields present in it.\n\n```{r load_train}\nrms_t \u003c- read.csv(\u0027../input/train.csv\u0027,header = T,quote = \u0027\u0022\u0027)\nnames(rms_t)\n```\n\n#Exploratory Data Analysis\n\nThis is the fun part and yes, the most important part of the entire process. This require science and proper understanding of the data we have.\nLet\u0027s check how many have survived and how many have not in the unfortunate incident of Titanic.\n\n##Gender-wise survival rate\nFirst, check Survival rates by Gender.\n0 \u003e Not Survived\n1 \u003e Survived\n\n```{r survival_sex}\ntable(rms_t$Survived)\n\nsurvival_rate \u003c- as.matrix(table(rms_t$Survived,rms_t$Sex))\n\nsurvival_df \u003c- as.data.frame(table(rms_t$Survived,rms_t$Sex))\nnames(survival_df)\u003c-c(\u0027Survived\u0027,\u0027Sex\u0027,\u0027Freq\u0027)\nbarchart(survival_df$Freq ~ survival_df$Sex | survival_df$Survived)\n```\n\nIt is clearly seen that Females have Survived more than the Males.\nAround 74% of females and 19% of males have survived. Hence, females were given higher priority while evacuation.\n\n##Class-wise survival rate\n\nNow let\u0027s check survival rates by Passenger Class.\n\n```{r survival_class}\nsurvival_class_df \u003c- as.data.frame(table(rms_t$Survived,rms_t$Pclass))\nnames(survival_class_df)\u003c-c(\u0027Survived\u0027,\u0027PClass\u0027,\u0027Freq\u0027)\nbarchart(survival_class_df$Freq ~ survival_class_df$PClass | survival_class_df$Survived)\n\nsurvival_class_dt \u003c- as.data.table(survival_class_df)\nsurvival_class_dt[,100*Freq/sum(Freq),PClass]\n```\n\nFrom above bar-chart and figures it can be seen that highest preference were given to 1st Class passengers while rescuing and then to 2nd Class and 3rd Class.\nSo, elite got first preference and middle-class/economy passengers were given last preference.\n\n##What\u0027s in name?\n\nLet\u0027s figure out if name or more precisely title of Passenger plays important role while evacuation.\nThere is nor direct field exists which gives title of passenger. We can extract this info from \u0027Name\u0027 column using regular expressions.\n\n```{r extract_title}\nrms_t$title\u003c-gsub(\u0027 \u0027,\u0027\u0027,gsub(\u0027(.*,)|(\\\\..*)\u0027,\u0027\u0027,rms_t$Name,fixed=F,perl = T))\nt(table(rms_t$title,rms_t$Sex))\n```\n\nOh!! there are so many distinct values of title. Let\u0027s combine not-so-important titles into some common title.\nWe will consider final titles as Master,Mr,Mrs and Miss. Rest all will be converted into these titles according to their Sex and Age for ease of analysis.\n\n```{r convert_title,warning=FALSE}\nrms_t %\u003e% group_by(title) %\u003e%summarise(mean(Age,na.rm = T))\n\nrms_t \u003c- within(rms_t,title[title %in% c(\u0027Capt\u0027,\u0027Col\u0027,\u0027Don\u0027,\u0027Dr\u0027,\u0027Major\u0027,\u0027Sir\u0027,\u0027Rev\u0027,\u0027Jonkheer\u0027) \u0026 Sex==\u0027male\u0027] \u003c- \u0027Mr\u0027)\nrms_t \u003c- within(rms_t,title[Age\u003c30 \u0026 Sex==\u0027female\u0027] \u003c- \u0027Miss\u0027)\nrms_t \u003c- within(rms_t,title[Age\u003e=30 \u0026 Sex==\u0027female\u0027] \u003c- \u0027Mrs\u0027)\n\ntable(rms_t$title)\n\nggplot(data = rms_t,aes(title,Age,fill=title))+geom_violin()\n```\n\nFrom above violin plot it can be seen that Master and Mr passengers are nearly mutually exclusive and same for Miss and Mrs.\nNow let\u0027s find average age, mean or median, as it doesn\u0027t really matter and assign those to passengers with no age.\n\n```{r mean_age}\nsummary(subset(rms_t,title==\u0027Master\u0027,Age))  #avg 5\nsummary(subset(rms_t,title==\u0027Mr\u0027,Age)) # avg 33\nsummary(subset(rms_t,title==\u0027Miss\u0027,Age)) #avg 18\nsummary(subset(rms_t,title==\u0027Mrs\u0027,Age)) #avg 40\n\nrms_t \u003c- within(rms_t,Age[title==\u0027Mrs\u0027 \u0026 is.na(Age)] \u003c- 40)\nrms_t \u003c- within(rms_t,Age[title==\u0027Miss\u0027 \u0026 is.na(Age)] \u003c- 18)\nrms_t \u003c- within(rms_t,Age[title==\u0027Mr\u0027 \u0026 is.na(Age)] \u003c- 33)\nrms_t \u003c- within(rms_t,Age[title==\u0027Master\u0027 \u0026 is.na(Age)] \u003c- 5)\n\ntable(rms_t$title,rms_t$Survived)\n\nsurvival_title_df \u003c- as.data.frame(table(rms_t$Survived,rms_t$title))\n\nbarchart(survival_title_df$Freq ~ survival_title_df$Var2 | survival_title_df$Var1)\n\nsurvival_title_dt \u003c- as.data.table(survival_title_df)\nnames(survival_title_dt)\u003c-c(\u0022Survived\u0022,\u0022title\u0022,\u0022Freq\u0022)\nsurvival_title_dt[,.(Survived,100*Freq/sum(Freq)),title]\n```\n\nIt can be seen from above bar-chart and figures that older ladies were given 1st preference and  older men the least while rescuing. Hence order of preference while rescuing is like Mrs\u003eMiss\u003eMaster\u003eMr\n\n##From where they belong?\n\nNow let\u0027s check if passengers embarkation port has any relation with survival rates.\n\n```{r survival_embark}\nsummary(rms_t$Embarked)\nstr(rms_t$Embarked)\ntable(rms_t$Survived,rms_t$Embarked)\n```\n\nFrom above results, it is seen that passengers who embarked on port \u0027C\u0027 has survival rate of 55%, for port \u0027Q\u0027 it\u0027s 40% and port \u0027S\u0027 it\u0027s 34%.\nSo, preference while rescuing passengers was **C \u003e Q \u003e S**.\n\nAlso, from summary of field \u0027Embarked\u0027, we can see that 2 passengers Embarkation port are blank *(not NA)*. Let\u0027s try to find what could be their embarkation port using the other fields like ticket fare and class, as this would serve as best measures to find unknown port.\n\n```{r view_2missing_embark}\nsubset(rms_t,Embarked==\u0022\u0022,select = c(\u0022Pclass\u0022,\u0022Fare\u0022))\n```\n\nSo they belong to 1st class and ticket fare is 80. We would use this info to find port of Embarkation using some plots.\n\n```{r plot_embarked}\nggplot(rms_t,aes(Embarked,Fare))+facet_grid(.~Pclass) + geom_boxplot() + geom_hline(aes(yintercept=80,col=\u0022red\u0022))\n```\n\nIn above box plot, we pass a red line through y-axis of 80 which is Fare. It can be seen that this red line passes exactly through average fare of port \u0027C\u0027 for 1st class.\nHence, we can conclude that missing embarkation port for 2 passengers is \u0027C\u0027.\n\nNow let\u0027s assign field Embarked with value **C**.\n\n```{r impute_embarked}\nrms_t\u003c-within(rms_t,Embarked[Embarked==\u0022\u0022]\u003c-\u0027C\u0027)\n\nggplot(rms_t,aes(Embarked,fill=factor(Survived)))+ geom_histogram(stat=\u0027count\u0027)+  facet_grid(.~Sex)\n```\n\nWe have plotted counts of Survived/Not Survived against Embarked group by Sex.\nIt is been seen that females have survived greater than males.\n\n#Feature Engineering\n\nIn data set we have different variables like **Parch** (Parents and Children count) and **SibSp** (Siblings and Spouse(s)). These variables will tell us family sizes like singles, small or large.\n\nWe will analyse if family sizes plays important role while rescue operation.\n\nLet\u0027s construct a new variable to categorize family sizes. This is known as **Feature Engineering**. This plays pivotal role in any analysis.\n\nWe will first extract Surname of each passenger and then combine it with Sibsp and Parch to derive family size for each passenger.\n\n```{r fmly_size}\nrms_t$Surname \u003c- gsub(\u0027,.*\u0027,\u0027\u0027,rms_t$Name,fixed=F,perl = T)\n\nrms_fmly \u003c- as.data.frame(list(\u0027surname\u0027=rms_t$Surname,\u0027fsize\u0027=rms_t$SibSp + rms_t$Parch + 1,\u0027survived\u0027=rms_t$Survived))\n```\n\nNow, we will check relation between Family size and Survival rate of passengers.\n\n```{r fmly_size_sruvival}\nrms_fmly\u003c-transform(rms_fmly,Dead=0L,Living=0L)\n\nrms_fmly \u003c- within(rms_fmly,{Dead[survived==0]\u003c-1L\n                            Living[survived==1]\u003c-1L})\n\nrms_fmly_sum \u003c- rms_fmly %\u003e% group_by(surname,fsize) %\u003e% summarise(Dead=sum(Dead),Living=sum(Living))\n\nrms_fmly_melt\u003c-melt(rms_fmly_sum[,c(\u0027surname\u0027,\u0027fsize\u0027,\u0027Dead\u0027,\u0027Living\u0027)],c(\u0027surname\u0027,\u0027fsize\u0027),c(\u0027Dead\u0027,\u0027Living\u0027))\n\nrms_fmly_melt \u003c- rms_fmly_melt %\u003e% group_by(fsize,variable) %\u003e% summarise(avg=mean(value))\n\nggplot(rms_fmly_melt,aes(fsize,y=avg,fill=variable)) + geom_bar(position=\u0022dodge\u0022,stat=\u0022identity\u0022)+scale_x_continuous(breaks=c(1:11)) \n```\n\nSo here is graph which shows average no. of Dead or Living according to each family size. \nWe find a trend that no. of Dead increases as family size increases, whereas no. of Living decreases as family size increases i.e. after size of 4.\n\nNow let\u0027s categorize family size into 3 categories:\n\n1. Family size = 1 then **single** \n2. Family size \u003e 1 and \u003c 5 then **small** \n3. Family size \u003e 5 then **large** \n\n```{r fsize_category}\nrms_fmly$size.desc[rms_fmly$fsize==1] \u003c- \u0027single\u0027 \nrms_fmly$size.desc[rms_fmly$fsize\u003e1 \u0026 rms_fmly$fsize\u003c5] \u003c- \u0027small\u0027 \nrms_fmly$size.desc[rms_fmly$fsize\u003e=5] \u003c- \u0027large\u0027 \nmosaicplot( table(rms_fmly$size.desc,rms_fmly$survived),color = T)\n```\n\nAbove mosaic plot shows that Small families survived most, while Large and Singles suffered then huge loss.\n\nThese family categories will be merged to original data set.\n\n```{r merge_fsize}\nrms_full\u003c-merge(rms_t,rms_fmly,by.x =\u0022Surname\u0022,by.y = \u0022surname\u0022 )\nrms_t\u003c-subset(rms_full,select=-c(fsize:Living))\n\nrms_t \u003c- rms_t %\u003e% group_by(PassengerId) %\u003e% summarise_all(.funs = function(x) {min(as.character(x))})\n```\n\nLet\u0027s check ticket fares of all passengers.\n\n```{r chk_fares}\nrms_t$Fare \u003c- as.double(rms_t$Fare)\nsummary(rms_t$Fare)\ncount(subset(rms_t,Fare==0))\n```\n\nSo there are 15 passengers whose ticket fare is 0. Let\u0027s try to find what could be their on basis of port of Embarkation and class of travel.\n\n```{r chk_fares_by_class_embark}\nggplot(rms_t,aes(x=Embarked,y=Fare,fill=factor(Pclass)))+geom_boxplot()\n```\n\nWe will now assign average fares to rows where Fare is 0 basis Pclass and Embarked variables.\n\n```{r zero_fare_impute}\nrms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==1 \u0026 rms_t$Fare==0] \u003c- median(rms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==1])\nrms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==2 \u0026 rms_t$Fare==0] \u003c- median(rms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==2])\nrms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==3 \u0026 rms_t$Fare==0] \u003c- median(rms_t$Fare[rms_t$Embarked==\u0027S\u0027 \u0026 rms_t$Pclass==3])\n```\n\nNow let\u0027s see if there are any missing values in important variables. This is necessary because most modelling techniques doesn\u0027t work on NA/missing values.\n\n```{r chk_NA}\nsapply(names(rms_t),FUN = function(x) {sum(is.na(x))})\n```\n\nThere are no NAs but Cabin variable contains many missing values. We will not further analyse and impute this field as it is not so significant for predicting Survived variable. It\u0027s not worth the effort.\nSo we will leave it as it is.\n\nNow let\u0027s assign proper data-types to different fields.\nWe will convert character to factors for categorical variables.\n\n```{r final_groom}\nrms_t\u003c- rms_t %\u003e% mutate_if(is.character,as.factor)\nrms_t$Parch \u003c- as.integer(rms_t$Parch)\nrms_t$SibSp \u003c- as.integer(rms_t$SibSp)\nrms_t$Age \u003c- as.double(rms_t$Age)\nt(lapply(rms_t,class))\n```\n\nFinal grooming is done. Categorical variables are now represented as factors and numeric as numeric.\nNow let\u0027s get our hands dirty on building models and getting predictions.\n\n#Building models\n\n##Partioning the data set\n\nLet\u0027s partition our original train data set into 2 sub-sets:\n\n* Training set: Here we will train our models. (80% of original training set)\n* Test set: Here we will test the predictions and accuracy of each of our models.  (20% of original training set)\n\nWe will use caret package to achieve this functionality as it will help in proper partitioning of data by considering different categories of each variables in partitions.\n\n```{r partition}\nset.seed(123)\ntrainnew\u003c-createDataPartition(y=rms_t$Survived,p = .8,list = F)\nrms_train \u003c- rms_t[trainnew,] #80% training set\nrms_test \u003c- rms_t[-trainnew,] #20% test set\n\ndim(rms_train); dim(rms_test)\n```\n\n##Logistic Regression\n\n###Building Model\nSince our response is categorical type we will use Logistic Regression which will give estimated probability for a linear combination of predictors.\n\nLogistic regression will give probability of variable \u0027Survived\u0027 being \u00271\u0027 for a linear combination of predictors.\n\nWe will consider important predictors to achieve optimum accuracy while keeping model simple. For this we have chosen predictors as Sex, Pclass, Age, size.desc, title and response variable is Survived (0 or 1).\n\nLet\u0027s fit model on training set.\n```{r logit_model,warning=FALSE}\nset.seed(123)\nrms_fit \u003c- glm(formula =Survived~Sex+Pclass+Age+size.desc+title,data=rms_train,family = \u0022binomial\u0022)\nsummary(rms_fit)\np\u003c-predict(rms_fit,rms_train,type = \u0022response\u0022)\n```\n\nFrom summary of model we can conclude:\n1. Difference between Null Deviance and Residual Deviance is high. It means by adding predictors we much of deviance in fitted values are explained by our model.\n2. By looking at p-values against each predictors, most of them has p-values\u003c0.05 (5%) i.e. most of them are statistically significant.\n\nSince we have got probabilities as response in **p** variable, we have to decide a cut-off probability through which we will categorize response to be 1 or 0.\n\n* p \u003e cut-off = 1\n* p \u003c= cut-off = 0\n\nTo gain optimum accuracy and to balance Specificity and Sensitivity parameters we will plot ROC and impose it with different cut-off values to find best possible cut-off value.\n\n```{r roc}\npred\u003c-prediction(p,rms_train$Survived)\nperf\u003c-performance(pred,\u0027tpr\u0027,\u0027fpr\u0027)\nplot(perf,col=\u0022blue\u0022,print.cutoffs.at=c(.4,.5,.7))\n```\n\nWe see from above ROC plot that at cut-off 0.4, TPR (Sensitivity) is about 80% and Specificity (1-FPR) is also about 80%.\n\nAfter decreasing cut-off beyond 0.4 we do not find much gain in TPR (curve tends to be horizontal). Hence we select 0.4 to be ideal cut-off.\nNow let\u0027s make predictions by choosing 0.4 as cutoff and calculate the accuracy of model.\n\n```{r precitions_logit}\nc\u003c-confusionMatrix(table(ifelse(p\u003e0.4,1,0),rms_train$Survived))\nc\nacc\u003c-round(c$overall[[1]]*100,2)\n```\n\nAccuracy of our model is `r acc`% and Kappa is beyond 60%. Specificity and Sensitivity are above 80%. That\u0027s pretty good results.\n\n###Cross Validation\n\nLet\u0027s do some CV to avoid being misjudged by Accuracy results due to overfitting.\nWe will do 10-Fold CV repeated 3 times using objects of **caret** package.\n\n```{r CV_10fold-rep3,warning=FALSE}\nset.seed(123)\nmodel.10x3fold\u003c-train(Survived~Sex+Pclass+Age+size.desc+title,data=rms_train,\n                      method = \u0022glm\u0022,\n                      trControl = trainControl(method = \u0022repeatedcv\u0022,number = 10,repeats = 3,verboseIter = F))\nmodel.10x3fold\n\nacc\u003c-round(model.10x3fold$results[[2]]*100,2)\n```\n\nAccuracy of `r acc`% proves that our model is pretty good and there are no overfitting cases observed.\n\n##Random Forest\n\nRandom Forest (RF) is one of widely used ML algorithm for CART method. It is quite popular for classification predictions with pretty high accuracy compared to other algorithms.\n\nHere we will consider extra parameter Embarked because after much testing and CV of different models with different combo of predictors, I chose to include Embarked as it gives better accuracy.\n\nSince RF is based on re-sampling of data and predictors, it is always good to set seed to some specific value, so code/model can be reproduced and will give same results.\n\n```{r rf}\nset.seed(123)\nmodel.rf \u003c- randomForest(y=rms_train$Survived,x=rms_train[,c(\u0022Sex\u0022,\u0022Pclass\u0022,\u0022Age\u0022,\u0022size.desc\u0022,\u0022Embarked\u0022)],importance=T,keep.forest = T)\nplot(model.rf)\nlegend(\u0022topright\u0022,colnames(model.rf$err.rate),col=1:3,fill=1:3)\nvarImpPlot(model.rf,scale = F)\npred_cart\u003c-predict(model.rf,rms_train)\nc\u003c-confusionMatrix(table(pred_cart,rms_train$Survived))\nc\nacc\u003c-round(c$overall[[1]]*100,2)\n```\n\nIt can be seen from Error plot of RF, that overall error rate of model (OOB) is around 20%, which is in acceptable limits.\n\nAlso, variable importance plot Sex is most important variable and Embarked is least important. If you remove Embarked variable from model, accuracy will be decreased by 2-3%.\n\nOverall accuracy of model is around `r acc`% which is pretty high. That\u0027s the beauty of RF.\n\n##SVM\n\nSVM are good modelling techniques when you have smaller data set, as similar to our case. We will use Radial Basis Function kernel of SVM.\n\nWhen training our model on training set we will also employ 10-fold CV to avoid any overfitting issues.\n\n```{r svm,warning=FALSE}\nset.seed(123)\nmodel.svm\u003c-train(Survived~Sex+Pclass+Age+size.desc+title,data=rms_train,\n                 method=\u0022svmRadial\u0022,\n                 trControl = trainControl (method=\u0022cv\u0022 ,number=10, verboseIter = F))\n\np\u003c-predict(model.svm,rms_train)\nc\u003c-confusionMatrix(table(p,rms_train$Survived))\nc\nacc\u003c-round(c$overall[[1]]*100,2)\n```\n\nAs we can see from above results, accuracy from SVM model is `r acc`%, which is quite impressive.\n\n##Boosting\n\n###AdaBoost\n\nWe will employ the most common boosting algorithm that is Adaptive Boosting. It is specifically designed to be used when response is binary (2 classes).\n\nWe will employ just 3-fold CV as boosting itself is computationally intensive technique.\n```{r adaboost,warning=FALSE}\nset.seed(123)\nmodel.ada\u003c-train(as.factor(Survived)~Sex+Pclass+Age+size.desc+title,data=rms_train,method=\u0022adaboost\u0022, trControl = trainControl(method = \u0022cv\u0022,number = 3,verboseIter = F))\np\u003c-predict(model.ada,rms_train)\nc\u003c-confusionMatrix(table(p,rms_train$Survived))\nc\nacc\u003c-round(c$overall[[1]]*100,2)\n```\n\nThe accuracy of AdaBoost is whopping `r acc`% on sub-training set. No doubt boosting are most widely used algorithms in competitions like Kaggle.\n\n#Predictions on sub-test sets\n\nSo we have build and trained our different models on sub-Training set. Accuracy parameter will be best judge on untouched data set i.e. sub-test set.\n\nWe will pick our trained models one-by-one, make predictions on sub-test set and calculate its Accuracy.\n\nThen best model fit will be applied to original test set to compute the output of Survived variable against each Passenger.\n\n```{r pred_rms_test,echo=FALSE}\n\np\u003c-predict(rms_fit,rms_test,type=\u0027response\u0027)\nc\u003c-confusionMatrix(table(ifelse(p\u003e0.4,1,0),rms_test$Survived))\nacc\u003c-round(c$overall[[1]]*100,2)\nprint(c(\u0027Accuracy(%) from Logistic Model:\u0027,acc),quote = F)\n\np\u003c-predict(model.rf,rms_test)\nc\u003c-confusionMatrix(table(p,rms_test$Survived))\nacc\u003c-round(c$overall[[1]]*100,2)\nprint(c(\u0027Accuracy(%) from Random Forest:\u0027,acc),quote = F)\n\np\u003c-predict(model.svm,rms_test)\nc\u003c-confusionMatrix(table(p,rms_test$Survived))\nacc\u003c-round(c$overall[[1]]*100,2)\nprint(c(\u0027Accuracy(%) from SVM-RBF:\u0027,acc),quote = F)\n\np\u003c-predict(model.ada,rms_test)\nc\u003c-confusionMatrix(table(p,rms_test$Survived))\nacc\u003c-round(c$overall[[1]]*100,2)\nprint(c(\u0027Accuracy(%) from AdaBoost:\u0027,acc),quote = F)\n```\n\n#Final Predictions\n\nIn this section we will predict original test set into Survived (1) and Not Survived (0). Here we will not be calculating accuracy as we do not have actual Survival results (truth) against each passenger.\n\nFirst we have to do some Feature Engineering to derive predictors like **title** and **size.desc**, without them our model won\u0027t be able to predict the response (0/1).\n\nLet\u0027s import test data set first into R.\n\n```{r test_set}\ntest_set \u003c- read.csv(\u0027../input/test.csv\u0027,header = T,quote = \u0027\u0022\u0027)\nnames(rms_test)\n```\n\nAs you can see there is no Survived variable. This we will predict in this section.\n\n##Feature Engineering\n\n###Title variable\n\nLet\u0027s generate title variable from Name variable like how we had done before on Training set.\n\n```{r title_var}\ntest_set$title\u003c-gsub(\u0027 \u0027,\u0027\u0027,gsub(\u0027(.*,)|(\\\\..*)\u0027,\u0027\u0027,test_set$Name,fixed=F,perl = T))\n\ntest_set \u003c- within(test_set,title[title %in% c(\u0027Capt\u0027,\u0027Col\u0027,\u0027Don\u0027,\u0027Dr\u0027,\u0027Major\u0027,\u0027Sir\u0027,\u0027Rev\u0027,\u0027Jonkheer\u0027) \u0026 Sex==\u0027male\u0027] \u003c- \u0027Mr\u0027)\ntest_set \u003c- within(test_set,title[Age\u003c30 \u0026 Sex==\u0027female\u0027] \u003c- \u0027Miss\u0027)\ntest_set \u003c- within(test_set,title[Age\u003e=30 \u0026 Sex==\u0027female\u0027] \u003c- \u0027Mrs\u0027)\n\nt(table(test_set$title,test_set$Sex))\n```\n\nHere there is extra title **Ms** of 1 passenger whose Age is missing.\nThis passenger doesn\u0027t have Spouse or Children. Hence we can assume her to be young female.\n\nSo we will convert her title to \u0027Miss\u0027 so our model can use this as predictor.\n\n```{r ms_miss}\ntest_set[test_set$title==\u0027Ms\u0027,]\ntest_set \u003c- within(test_set,title[title==\u0027Ms\u0027 \u0026 Sex==\u0027female\u0027] \u003c- \u0027Miss\u0027)\n\nt(table(test_set$title,test_set$Sex))\n```\n\n###Impute Age variable\n\n```{r na_age}\nsum(is.na(test_set$Age))\n```\n\nThere are around 86 passengers whose Age is missing.\nWe will use average Age of different Titles which we had computed in training set. We will NOT compute average age in Test set.\nThis is **fundamental principal of pre-processing**. All pre-processing in Test set should happen by using computations of Training set, else it will lead to bias and hence wrong predictions.\n\n```{r impute_age}\ntest_set \u003c- within(test_set,Age[title==\u0027Mrs\u0027 \u0026 is.na(Age)] \u003c- 40)\ntest_set \u003c- within(test_set,Age[title==\u0027Miss\u0027 \u0026 is.na(Age)] \u003c- 18)\ntest_set \u003c- within(test_set,Age[title==\u0027Mr\u0027 \u0026 is.na(Age)] \u003c- 33)\ntest_set \u003c- within(test_set,Age[title==\u0027Master\u0027 \u0026 is.na(Age)] \u003c- 5)\n\nggplot(data = test_set,aes(title,Age,fill=title))+geom_violin()\n```\n\n###Family Size variable\n\nHere we will find out **size.desc** (Family size) of each passenger.\nWe had already computed family size according to different Surname in the training set. But there can be extra Surname/family names in test set which didn\u0027t appear in training set.\nSo for this we will calculate family sizes of test set, merge this result with family size of training set and then update original test set with this complete set of family size by Surname i.e. to update **size.desc** variable of test set.\n\n```{r size.desc}\ntest_set$Surname \u003c- gsub(\u0027,.*\u0027,\u0027\u0027,test_set$Name,fixed=F,perl = T) #Extract Surname of each passenger\n\ntest_fmly \u003c- as.data.frame(list(\u0027surname\u0027=test_set$Surname,\u0027fsize\u0027=test_set$SibSp + test_set$Parch + 1))  #calculate Family size\n\n\nrms_fmly_subset\u003c-subset(rms_fmly,select = 1:2)\nall_fmly \u003c-rbind(test_fmly,rms_fmly_subset) #Merge family size of training and test set\n\nall_fmly$size.desc[all_fmly$fsize==1] \u003c- \u0027single\u0027 \nall_fmly$size.desc[all_fmly$fsize\u003e1 \u0026 all_fmly$fsize\u003c5] \u003c- \u0027small\u0027 \nall_fmly$size.desc[all_fmly$fsize\u003e=5] \u003c- \u0027large\u0027 \n\n#Merge family size on original test set using Surname variable\ntest_full\u003c-merge(test_set,all_fmly,by.x =\u0022Surname\u0022,by.y = \u0022surname\u0022 )\ntest_set\u003c-subset(test_full,select=-c(fsize))\n\ntest_set\u003c- test_set %\u003e% group_by(PassengerId) %\u003e% summarise_all(.funs = function(x) {min(as.character(x))})\n\nnames(rms_test)\n```\n\nWe will now convert data type of variables to their expected form or similar to what we had build our model on. Characters to Factors and some to numeric.\n\n```{r cast_datatypes}\ntest_set\u003c- test_set %\u003e% mutate_if(is.character,as.factor)\ntest_set$Parch \u003c- as.integer(test_set$Parch)\ntest_set$SibSp \u003c- as.integer(test_set$SibSp)\ntest_set$Age \u003c- as.double(test_set$Age)\nt(lapply(test_set,class))\n```\n\nSo we are ready with all important predictors and imputation. Now let\u0027s head to predict Survived variable.\n\n##Predictions\n\nFrom previous stats, I choose SVM to be the final model through which Test set response variable will be predicted.\n\n```{r pred_test}\ntest_set$Survived\u003c-predict(model.svm,test_set)\n#write.csv(test_set[,c(\u0022PassengerId\u0022,\u0022Survived\u0022)],\u0022test_file.csv\u0022,quote = F,row.names = F)\n```\n\n#Conclusion\n\nFinally I am done with predictive modelling. I am newbie in data analytics and this is my first attempt to complete a beginner\u0027s level project. Finally many months hard work paid off.\n\nMost important thing about data science is not Data. It is second most important thing. Most important is **Question**. What you want to achieve? If correct question is not been answered or not being understood correctly, then it won\u0027t lead to fruitful results.\n\nIf you like my work request you to vote for it. Thank you for being patient in this complete analysis.","dateCreated":"2018-03-15T16:18:15.45Z"},"resources":null,"isolatorResults":"\u003cresults\u003e\u003cdisk_kb_free\u003e941048\u003c/disk_kb_free\u003e\u003cdocker_image_digest\u003e52937f97db1d60cc30110f82402aec2d3dec26569f3ae4239adbe334f10492ad\u003c/docker_image_digest\u003e\u003cdocker_image_id\u003esha256:0b7b0f4ac1cf07839ba6945c2874afc761b5fb9cbbab6acdc631a1b6c7c7180a\u003c/docker_image_id\u003e\u003cdocker_image_name\u003egcr.io/kaggle-images/rstats\u003c/docker_image_name\u003e\u003cexit_code\u003e0\u003c/exit_code\u003e\u003cfailure_message /\u003e\u003cinvalid_path_errors\u003eFalse\u003c/invalid_path_errors\u003e\u003cout_of_memory\u003eFalse\u003c/out_of_memory\u003e\u003crun_time_seconds\u003e81.5717297930969\u003c/run_time_seconds\u003e\u003csucceeded\u003eTrue\u003c/succeeded\u003e\u003ctimeout_exceeded\u003eFalse\u003c/timeout_exceeded\u003e\u003cused_all_space\u003eFalse\u003c/used_all_space\u003e\u003cwas_killed\u003eFalse\u003c/was_killed\u003e\u003c/results\u003e","runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageDigest":"52937f97db1d60cc30110f82402aec2d3dec26569f3ae4239adbe334f10492ad","dockerImageId":"sha256:0b7b0f4ac1cf07839ba6945c2874afc761b5fb9cbbab6acdc631a1b6c7c7180a","dockerImageName":"kaggle/rstats","diskKbFree":941048,"failureMessage":"","exitCode":0,"queuedSeconds":0,"outputSizeBytes":0,"runTimeSeconds":81.5717297930969,"usedAllSpace":false,"timeoutExceeded":false,"isValidStatus":false,"wasGpuEnabled":false,"wasInternetEnabled":false,"outOfMemory":false,"invalidPathErrors":false,"succeeded":true,"wasKilled":false},"outputFilesTotalSizeBytes":49989,"dockerImageVersionId":47,"usedCustomDockerImage":false},"author":{"id":1422800,"displayName":"Husain Battiwala","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"husainsb","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1422800-kg.jpg","profileUrl":"/husainsb","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":1,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"baseUrl":"/husainsb/titanic-survived-or-not-survived","collaborators":{"owner":{"userId":1422800,"groupId":null,"groupMemberCount":null,"profileUrl":"/husainsb","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1422800-kg.jpg","name":"Husain Battiwala","slug":"husainsb","userTier":1,"joinDate":null,"type":"owner","isUser":true,"isGroup":false},"collaborators":[]},"initialTab":null,"log":"[{\n  \u0022data\u0022: \u0022\\n\\nprocessing file: script.Rmd\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.156252390006557\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |                                                                 |   0%\\r  |                                                                       \\r  |.                                                                |   1%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.358841306064278\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..                                                               |   3%\\nlabel: setup (with options) \\nList of 2\\n $ include: logi FALSE\\n $ echo   : logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.395369869074784\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..                                                               |   4%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.4656609010417014\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...                                                              |   5%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.4996529680211097\n},{\n  \u0022data\u0022: \u0022label: setwd (with options) \\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.6326883389847353\n},{\n  \u0022data\u0022: \u0022List of 2\\n $ echo   : logi FALSE\\n $ results: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.666659111971967\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....                                                             |   6%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.993931100005284\n},{\n  \u0022data\u0022: \u0022label: packages (with options) \\nList of 2\\n $ results: logi FALSE\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.029530821018852\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....                                                            |   8%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |......                                                           |   9%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.831664351979271\n},{\n  \u0022data\u0022: \u0022label: load_train\\n\\r  |                                                                       \\r  |.......                                                          |  10%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........                                                         |  12%\\nlabel: survival_sex\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.867698929971084\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |........                                                         |  13%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.........                                                        |  14%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 9.215774252079427\n},{\n  \u0022data\u0022: \u0022label: survival_class\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 9.251649598008953\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........                                                       |  15%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...........                                                      |  17%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.550189416040666\n},{\n  \u0022data\u0022: \u0022label: extract_title\\n\\r  |                                                                       \\r  |............                                                     |  18%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |............                                                     |  19%\\nlabel: convert_title (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.584173984010704\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.............                                                    |  21%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..............                                                   |  22%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 13.471450249082409\n},{\n  \u0022data\u0022: \u0022label: mean_age\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 13.512620532070287\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............                                                  |  23%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 13.808704370982014\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................                                                 |  24%\\nlabel: survival_embark\\n\\r  |                                                                       \\r  |.................                                                |  26%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..................                                               |  27%\\nlabel: view_2missing_embark\\n\\r  |                                                                       \\r  |..................                                               |  28%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...................                                              |  29%\\nlabel: plot_embarked\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 13.842981114052236\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....................                                             |  31%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.....................                                            |  32%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 16.512380497995764\n},{\n  \u0022data\u0022: \u0022Warning: Ignoring unknown parameters: binwidth, bins, pad\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 16.527908876072615\n},{\n  \u0022data\u0022: \u0022label: impute_embarked\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 16.546489080996253\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......................                                           |  33%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |......................                                           |  35%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 17.97083142597694\n},{\n  \u0022data\u0022: \u0022label: fmly_size\\n\\r  |                                                                       \\r  |.......................                                          |  36%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........................                                         |  37%\\nlabel: fmly_size_sruvival\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 18.00981934205629\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................                                        |  38%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..........................                                       |  40%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 18.559265307034366\n},{\n  \u0022data\u0022: \u0022label: fsize_category\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 18.595289658056572\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........................                                      |  41%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 18.708875773008913\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................                                     |  42%\\nlabel: merge_fsize\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 18.744890006026253\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................                                     |  44%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............................                                    |  45%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 19.25506672798656\n},{\n  \u0022data\u0022: \u0022label: chk_fares\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 19.290846080053598\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............................                                   |  46%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...............................                                  |  47%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 19.499073258019052\n},{\n  \u0022data\u0022: \u0022label: chk_fares_by_class_embark\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 19.534489154000767\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................................                                 |  49%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |................................                                 |  50%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 20.277224682969972\n},{\n  \u0022data\u0022: \u0022label: zero_fare_impute\\n\\r  |                                                                       \\r  |.................................                                |  51%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..................................                               |  53%\\nlabel: chk_NA\\n\\r  |                                                                       \\r  |...................................                              |  54%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |....................................                             |  55%\\nlabel: final_groom\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 20.311661993036978\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....................................                            |  56%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |......................................                           |  58%\\nlabel: partition\\n\\r  |                                                                       \\r  |......................................                           |  59%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.......................................                          |  60%\\nlabel: logit_model (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |........................................                         |  62%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.........................................                        |  63%\\nlabel: roc\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 20.653016124037094\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........................................                       |  64%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 20.79001530702226\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........................................                       |  65%\\nlabel: precitions_logit\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 20.823711269069463\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........................................                      |  67%\\n   inline R code fragments\\n\\n\\r  |                                                                       \\r  |............................................                     |  68%\\nlabel: CV_10fold-rep3 (with options) \\nList of 1\\n $ warning:\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 20.947538099018857\n},{\n  \u0022data\u0022: \u0022 logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 20.983669477980584\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.............................................                    |  69%\\n   inline R code fragments\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 23.72239561798051\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............................................                   |  71%\\nlabel: rf\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 23.757046675076708\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................................                  |  72%\\n   inline R code fragments\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 25.4020003330661\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................................................                 |  73%\\nlabel: svm (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 25.438671634998173\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 41.86048642906826\n},{\n  \u0022data\u0022: \u0022\\r  |................................................                 |  74%\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 41.94068485999014\n},{\n  \u0022data\u0022: \u0022\\n   inline R code fragments\\n\\n\\r  |                                                                       \\r  |.................................................                |  76%\\nlabel: adaboost (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 41.97484572499525\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..................................................               |  77%\\n   inline R code fragments\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 78.02803256304469\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...................................................              |  78%\\nlabel: pred_rms_test (with options) \\nList of 1\\n $ echo: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 78.06369340606034\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....................................................             |  79%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |....................................................             |  81%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 79.34282923303545\n},{\n  \u0022data\u0022: \u0022label: test_set\\n\\r  |                                                                       \\r  |.....................................................            |  82%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |......................................................           |  83%\\nlabel: title_var\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 79.37911867897492\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......................................................          |  85%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........................................................         |  86%\\nlabel: ms_miss\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 79.41365825000685\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................................................        |  87%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..........................................................       |  88%\\nlabel: na_age\\n\\r  |                                                                       \\r  |..........................................................       |  90%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...........................................................      |  91%\\nlabel: impute_age\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 79.45079729601275\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................................................     |  92%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............................................................    |  94%\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.09137998207007\n},{\n  \u0022data\u0022: \u0022\\nlabel: size.desc\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.12733425898477\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............................................................   |  95%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..............................................................   |  96%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.35404984501656\n},{\n  \u0022data\u0022: \u0022label: cast_datatypes\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.39176283101551\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................................................  |  97%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |................................................................ |  99%\\nlabel: pred_test\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.42700134101324\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.65100418205839\n},{\n  \u0022data\u0022: \u0022\\r  |.................................................................| 100%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.68858929397538\n},{\n  \u0022data\u0022: \u0022\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.7522932770662\n},{\n  \u0022data\u0022: \u0022output file: /kaggle/working/script.knit.md\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 80.86570466007106\n},{\n  \u0022data\u0022: \u0022/usr/local/bin/pandoc +RTS -K512m -RTS /kaggle/working/script.utf8.md --to html --from markdown+autolink_bare_uris+ascii_identifiers+tex_math_single_backslash --output /kaggle/working/__results__.html --smart --email-obfuscation none --standalone --section-divs --table-of-contents --toc-depth 3 --template /usr/local/lib/R/site-library/rmarkdown/rmd/h/default.html --no-highlight --variable highlightjs=1 --number-sections --variable \u0027theme:bootstrap\u0027 --include-in-header /tmp/RtmpUZymrB/rmarkdown-str126feb33b.html --mathjax --variable \u0027mathjax-url:https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\u0027 \\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 81.03148425603285\n},{\n  \u0022data\u0022: \u0022\\nOutput created: __results__.html\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 81.30224113399163\n},{\n  \u0022data\u0022: \u0022There were 35 warnings (use warnings() to see them)\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 81.33819219097495\n}]","outputFiles":[],"outputFilesCropped":false,"ouputFilesOwnerInfo":{"databundleVersionId":0,"dataset":null,"competition":null,"kernel":{"kernelId":737379,"kernelVersionId":2816733,"dataviewToken":"eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..BOofutT5Ji88Rsc6xocpbA.SJ-x0X9ozNaveNhOqG02b0i_IKaKHsjCn3tvH8FsChilEyF2iBUtY9r2SDec72LSFEpRcKr8lvZlNMGIhmr59Pg6HGpwqERmuQ_aliIWYEegNNgc6vJZLy5PHT-tXgOJq6Pr_UociFF5qIoR5Avz-22GjBN12dcGWHu7CrfkjRe3Lz4XdDNq9FYi9qetrZUEb4aqBXJZaQZb9rUqsrWKx7eNR1kghd9XwEgFI6GtzcIL-X2nKsqb7s4s3qq4ix-DWgCJFMh6Akqv0TtO8yJGiZddpmGPdjqRRp7dOE0RZcQCzIEx6GqyudXTTO8jhcIQvfyQ5BWCksvz6mEhd4GDxxNlSeBL1JLbw0maDzjJkcvztr-5ZjiSyT5MiHqRE9kBvEY0b-gk-8W8iZVsUpDorT87X1ONDjCZFlEFjUTacm3HebLlA6PneZd3aEeuFYxcOpVZT1d628ysCSENNq2MCnkx9ST-3OpQDMVAqVuaNos.xxY4-UNTrOEmCPoN96OjGA","scope":"husainsb/titanic-survived-or-not-survived"},"previewsDisabled":false},"pageMessages":[],"dataSources":[{"imageUrl":"https://storage.googleapis.com/kaggle-competitions/kaggle/3136/logos/thumb76_76.png","sourceUrl":"/c/titanic","slug":"titanic","lastUpdated":"2012-09-28T21:13:33.55Z","overview":"Start here! Predict survival on the Titanic and get familiar with ML basics","sourceType":"competition","sourceVersionType":null,"sourceId":3136,"sourceVersionNumber":null,"maxVersionNumber":null,"descriptionMimeType":"text/html","deleted":false,"private":false,"privateButVisible":false,"ownerInfo":{"databundleVersionId":26502,"dataset":null,"competition":{"competitionId":3136,"dataviewToken":null,"scope":"c/titanic"},"kernel":null,"previewsDisabled":true},"type":"dataSource","collapsed":false,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"id":63842,"blobFileId":37991,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/gender_submission.csv","creationDate":"2017-02-01T01:49:18Z","isDummy":false,"size":3258,"fullPath":"../input/gender_submission.csv","previewUrl":"kernels/competition-preview/3136?relativePath=gender_submission.csv","downloadUrl":"/c/titanic/download/gender_submission.csv","fileType":".csv","contentLength":3258,"contentType":"text/csv","contentMD5":"MNEHO5ZKXYFUMexgOg3jUw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"892\n893\n894\n895\n896\n897\n898\n899\n900\n901\n902\n903\n904\n905\n906\n907\n908\n909\n910\n911\n912\n913\n914\n915\n916\n917\n918\n919\n920\n921\n922\n923\n924\n925\n926\n927\n928\n929\n930\n931\n932\n933\n934\n935\n936\n937\n938\n939\n940\n941\n942\n943\n944\n945\n946\n947\n948\n949\n950\n951\n952\n953\n954\n955\n956\n957\n958\n959\n960\n961\n962\n963\n964\n965\n966\n967\n968\n969\n970\n971\n972\n973\n974\n975\n976\n977\n978\n979\n980\n981\n982\n983\n984\n985\n986\n987\n988\n989\n990\n991\n992\n993\n994\n995\n996\n997\n998\n999\n1000\n1001\n1002\n1003\n1004\n1005\n1006\n1007\n1008\n1009\n1010\n1011\n1012\n1013\n1014\n1015\n1016\n1017\n1018\n1019\n1020\n1021\n1022\n1023\n1024\n1025\n1026\n1027\n1028\n1029\n1030\n1031\n1032\n1033\n1034\n1035\n1036\n1037\n1038\n1039\n1040\n1041\n1042\n1043\n1044\n1045\n1046\n1047\n1048\n1049\n1050\n1051\n1052\n1053\n1054\n1055\n1056\n1057\n1058\n1059\n1060\n1061\n1062\n1063\n1064\n1065\n1066\n1067\n1068\n1069\n1070\n1071\n1072\n1073\n1074\n1075\n1076\n1077\n1078\n1079\n1080\n1081\n1082\n1083\n1084\n1085\n1086\n1087\n1088\n1089\n1090\n1091\n1092\n1093\n1094\n1095\n1096\n1097\n1098\n1099\n1100\n1101\n1102\n1103\n1104\n1105\n1106\n1107\n1108\n1109\n1110\n1111\n1112\n1113\n1114\n1115\n1116\n1117\n1118\n1119\n1120\n1121\n1122\n1123\n1124\n1125\n1126\n1127\n1128\n1129\n1130\n1131\n1132\n1133\n1134\n1135\n1136\n1137\n1138\n1139\n1140\n1141\n1142\n1143\n1144\n1145\n1146\n1147\n1148\n1149\n1150\n1151\n1152\n1153\n1154\n1155\n1156\n1157\n1158\n1159\n1160\n1161\n1162\n1163\n1164\n1165\n1166\n1167\n1168\n1169\n1170\n1171\n1172\n1173\n1174\n1175\n1176\n1177\n1178\n1179\n1180\n1181\n1182\n1183\n1184\n1185\n1186\n1187\n1188\n1189\n1190\n1191\n1192\n1193\n1194\n1195\n1196\n1197\n1198\n1199\n1200\n1201\n1202\n1203\n1204\n1205\n1206\n1207\n1208\n1209\n1210\n1211\n1212\n1213\n1214\n1215\n1216\n1217\n1218\n1219\n1220\n1221\n1222\n1223\n1224\n1225\n1226\n1227\n1228\n1229\n1230\n1231\n1232\n1233\n1234\n1235\n1236\n1237\n1238\n1239\n1240\n1241\n1242\n1243\n1244\n1245\n1246\n1247\n1248\n1249\n1250\n1251\n1252\n1253\n1254\n1255\n1256\n1257\n1258\n1259\n1260\n1261\n1262\n1263\n1264\n1265\n1266\n1267\n1268\n1269\n1270\n1271\n1272\n1273\n1274\n1275\n1276\n1277\n1278\n1279\n1280\n1281\n1282\n1283\n1284\n1285\n1286\n1287\n1288\n1289\n1290\n1291\n1292\n1293\n1294\n1295\n1296\n1297\n1298\n1299\n1300\n1301\n1302\n1303\n1304\n1305\n1306\n1307\n1308\n1309\n"},{"order":1,"originalType":"","type":"boolean","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Survived","description":"0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n1\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"gender_submission.csv","description":"892,0\n893,0\n894,0\n895,0\n896,0\n897,0\n898,0\n899,0\n900,0\n901,0\n902,0\n903,0\n904,1\n905,0a\n906,1\n907,0\n908,0\n909,0\n910,0\n911,0\n912,1\n913,0\n914,0\n915,0\n916,1\n917,0\n918,0\n919,0\n920,0\n921,0\n922,0\n923,0\n924,0\n925,0\n926,1\n927,0\n928,0\n929,0\n930,0\n931,1\n932,0\n933,0\n934,0\n935,0\n936,1\n937,0\n938,0\n939,0\n940,1\n941,0\n942,1\n943,0\n944,0\n945,1\n946,0\n947,0\n948,0\n949,0\n950,0\n951,1\n952,0\n953,0\n954,0\n955,0\n956,1\n957,0\n958,0\n959,0\n960,0\n961,1\n962,\n963,0\n964,0\n965,0\n966,1\n967,1\n968,0\n969,0\n970,0\n971,0\n972,0\n973,1\n974,0\n975,0\n976,0\n977,0\n978,0\n979,0\n980,0\n981,0\n982,0\n983,0\n984,0\n985,0\n986,0\n987,0\n988,1\n989,0\n990,0\n991,0\n992,1\n993,0\n994,0\n995,0\n996,0\n997,0\n998,0\n999,0\n1000,0\n1001,0\n1002,0\n1003,0\n1004,0\n1005,0\n1006,1\n1007,0\n1008,0\n1009,0\n1010,1\n1011,0\n1012,0\n1013,0\n1014,1\n1015,0\n1016,0\n1017,0\n1018,0\n1019,0\n1020,0\n1021,0\n1022,0\n1023,0\n1024,0\n1025,0\n1026,0\n1027,0\n1028,0\n1029,0\n1030,0\n1031,0\n1032,0\n1033,1\n1034,1\n1035,0\n1036,0\n1037,0\n1038,1\n1039,0\n1040,0\n1041,0\n1042,1\n1043,0\n1044,0\n1045,0\n1046,0\n1047,0\n1048,1\n1049,0\n1050,0\n1051,0\n1052,0\n1053,0\n1054,0\n1055,0\n1056,0\n1057,0\n1058,1\n1059,0\n1060,0\n1061,0\n1062,0\n1063,0\n1064,0\n1065,0\n1066,0\n1067,0\n1068,0\n1069,1\n1070,0\n1071,1\n1072,0\n1073,1\n1074,1\n1075,0\n1076,1\n1077,0\n1078,0\n1079,0\n1080,1\n1081,0\n1082,0\n1083,0\n1084,0\n1085,0\n1086,0\n1087,0\n1088,1\n1089,0\n1090,0\n1091,0\n1092,0\n1093,0\n1094,1\n1095,0\n1096,0\n1097,0\n1098,0\n1099,0\n1100,0\n1101,0\n1102,0\n1103,0\n1104,1\n1105,0\n1106,0\n1107,0\n1108,0\n1109,1\n1110,1\n1111,0\n1112,0\n1113,0\n1114,0\n1115,0\n1116,0\n1117,0\n1118,0\n1119,0\n1120,0\n1121,0\n1122,1\n1123,0\n1124,0\n1125,0\n1126,1\n1127,0\n1128,1\n1129,0\n1130,0\n1131,1\n1132,0\n1133,0\n1134,1\n1135,0\n1136,0\n1137,1\n1138,0\n1139,0\n1140,0\n1141,0\n1142,0\n1143,0\n1144,1\n1145,0\n1146,0\n1147,0\n1148,0\n1149,0\n1150,0\n1151,0\n1152,0\n1153,0\n1154,0\n1155,0\n1156,0\n1157,0\n1158,0\n1159,0\n1160,0\n1161,0\n1162,1\n1163,0\n1164,1\n1165,0\n1166,0\n1167,0\n1168,0\n1169,0\n1170,0\n1171,0\n1172,0\n1173,0\n1174,0\n1175,0\n1176,0\n1177,0\n1178,0\n1179,1\n1180,0\n1181,0\n1182,0\n1183,0\n1184,0\n1185,1\n1186,0\n1187,0\n1188,0\n1189,0\n1190,1\n1191,0\n1192,0\n1193,0\n1194,0\n1195,0\n1196,0\n1197,0\n1198,1\n1199,0\n1200,1\n1201,0\n1202,0\n1203,0\n1204,0\n1205,0\n1206,1\n1207,0\n1208,1\n1209,0\n1210,0\n1211,0\n1212,0\n1213,0\n1214,0\n1215,0\n1216,1\n1217,0\n1218,0\n1219,1\n1220,0\n1221,0\n1222,0\n1223,0\n1224,0\n1225,0\n1226,0\n1227,0\n1228,0\n1229,0\n1230,0\n1231,0\n1232,0\n1233,0\n1234,1\n1235,1\n1236,0\n1237,0\n1238,0\n1239,0\n1240,0\n1241,0\n1242,1\n1243,0\n1244,1\n1245,1\n1246,0\n1247,0\n1248,1\n1249,0\n1250,0\n1251,0\n1252,1\n1253,0\n1254,0\n1255,0\n1256,1\n1257,1\n1258,0\n1259,0\n1260,0\n1261,0\n1262,0\n1263,1\n1264,0\n1265,0\n1266,1\n1267,1\n1268,0\n1269,0\n1270,1\n1271,0\n1272,0\n1273,0\n1274,0\n1275,0\n1276,0\n1277,1\n1278,0\n1279,0\n1280,0\n1281,0\n1282,1\n1283,0\n1284,0\n1285,0\n1286,0\n1287,1\n1288,0\n1289,1\n1290,0\n1291,0\n1292,1\n1293,0\n1294,0\n1295,1\n1296,0\n1297,0\n1298,0\n1299,1\n1300,0\n1301,0\n1302,0\n1303,1\n1304,0\n1305,0\n1306,1\n1307,0\n1308,0\n1309,0"},{"id":63841,"blobFileId":2613,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/test.csv","creationDate":"2013-06-28T13:40:24.227Z","isDummy":false,"size":28629,"fullPath":"../input/test.csv","previewUrl":"kernels/competition-preview/3136?relativePath=test.csv","downloadUrl":"/c/titanic/download/test.csv","fileType":".csv","contentLength":28629,"contentType":"text/csv","contentMD5":"dTO4Lq5LWCYQy9aKpjawFw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"1"},{"order":1,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Pclass","description":"1"},{"order":2,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Name","description":"the name of the passenger"},{"order":3,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Sex","description":null},{"order":4,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Age","description":null},{"order":5,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"SibSp","description":"of siblings / spouses aboard the Titanic"},{"order":6,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Parch","description":"of parents / children aboard the Titanic"},{"order":7,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Ticket","description":"Ticket number"},{"order":8,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Fare","description":"Passenger fare"},{"order":9,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Cabin","description":"Cabin number"},{"order":10,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Embarked","description":"Port of Embarkation"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"test.csv","description":"test data to check the accuracy of the model created\n"},{"id":63840,"blobFileId":2307,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/train.csv","creationDate":"2013-06-28T13:40:25.23Z","isDummy":false,"size":61194,"fullPath":"../input/train.csv","previewUrl":"kernels/competition-preview/3136?relativePath=train.csv","downloadUrl":"/c/titanic/download/train.csv","fileType":".csv","contentLength":61194,"contentType":"text/csv","contentMD5":"IwnMXwR4Ltm7YBbZ9OOBzw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":891},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"type should be integers"},{"order":1,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Survived","description":"Survived or Not "},{"order":2,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Pclass","description":"Class of Travel"},{"order":3,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Name","description":"Name of Passenger"},{"order":4,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Sex","description":"Gender"},{"order":5,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Age","description":"Age of Passengers"},{"order":6,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"SibSp","description":"Number of Sibling/Spouse aboard"},{"order":7,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Parch","description":"Number of Parent/Child aboard"},{"order":8,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Ticket","description":null},{"order":9,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Fare","description":null},{"order":10,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Cabin","description":null},{"order":11,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Embarked","description":"The port in which a passenger has embarked. C - Cherbourg, S - Southampton, Q = Queenstown"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"train.csv","description":"contains data \n"}],"name":"Titanic: Machine Learning from Disaster","description":"\u003ch3\u003eOverview\u003c/h3\u003e\n\u003cp\u003eThe data has been split into two groups:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003etraining set (train.csv)\u003c/li\u003e\n\u003cli\u003etest set (test.csv)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cb\u003e The training set \u003c/b\u003eshould be used to build your machine learning models. For the training set, we provide the outcome (also known as the “ground truth”) for each passenger. Your model will be based on “features” like passengers’ gender and class. You can also use \u003ca href=\u0022https://triangleinequality.wordpress.com/2013/09/08/basic-feature-engineering-with-the-titanic-data/\u0022 target=\u0022_blank\u0022\u003e feature engineering \u003c/a\u003eto create new features.\u003c/p\u003e\n\u003cp\u003e\u003cb\u003eThe test set \u003c/b\u003eshould be used to see how well your model performs on unseen data. For the test set, we do not provide the ground truth for each passenger. It is your job to predict these outcomes. For each passenger in the test set, use the model you trained to predict whether or not they survived the sinking of the Titanic.\u003c/p\u003e\n\u003cp\u003eWe also include \u003cb\u003egender_submission.csv\u003c/b\u003e, a set of predictions that assume all and only female passengers survive, as an example of what a submission file should look like.\u003c/p\u003e\n\u003ch3\u003eData Dictionary\u003c/h3\u003e\n\u003ctable style=\u0022width: 100%;\u0022\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\u003cth\u003e\u003cb\u003eVariable\u003c/b\u003e\u003c/th\u003e\u003cth\u003e\u003cb\u003eDefinition\u003c/b\u003e\u003c/th\u003e\u003cth\u003e\u003cb\u003eKey\u003c/b\u003e\u003c/th\u003e\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esurvival\u003c/td\u003e\n\u003ctd\u003eSurvival\u003c/td\u003e\n\u003ctd\u003e0 = No, 1 = Yes\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003epclass\u003c/td\u003e\n\u003ctd\u003eTicket class\u003c/td\u003e\n\u003ctd\u003e1 = 1st, 2 = 2nd, 3 = 3rd\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esex\u003c/td\u003e\n\u003ctd\u003eSex\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eAge\u003c/td\u003e\n\u003ctd\u003eAge in years\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esibsp\u003c/td\u003e\n\u003ctd\u003e# of siblings / spouses aboard the Titanic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eparch\u003c/td\u003e\n\u003ctd\u003e# of parents / children aboard the Titanic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eticket\u003c/td\u003e\n\u003ctd\u003eTicket number\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efare\u003c/td\u003e\n\u003ctd\u003ePassenger fare\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ecabin\u003c/td\u003e\n\u003ctd\u003eCabin number\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eembarked\u003c/td\u003e\n\u003ctd\u003ePort of Embarkation\u003c/td\u003e\n\u003ctd\u003eC = Cherbourg, Q = Queenstown, S = Southampton\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003eVariable Notes\u003c/h3\u003e\n\u003cp\u003e\u003cb\u003epclass\u003c/b\u003e: A proxy for socio-economic status (SES)\u003cbr /\u003e 1st = Upper\u003cbr /\u003e 2nd = Middle\u003cbr /\u003e 3rd = Lower\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003eage\u003c/b\u003e: Age is fractional if less than 1. If the age is estimated, is it in the form of xx.5\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003esibsp\u003c/b\u003e: The dataset defines family relations in this way...\u003cbr /\u003e Sibling = brother, sister, stepbrother, stepsister\u003cbr /\u003e Spouse = husband, wife (mistresses and fiancés were ignored)\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003eparch\u003c/b\u003e: The dataset defines family relations in this way...\u003cbr /\u003e Parent = mother, father\u003cbr /\u003e Child = daughter, son, stepdaughter, stepson\u003cbr /\u003e Some children travelled only with a nanny, therefore parch=0 for them.\u003c/p\u003e"}],"versions":[{"id":2816733,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2018-03-15T16:18:15.45Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":24,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:0b7b0f4ac1cf07839ba6945c2874afc761b5fb9cbbab6acdc631a1b6c7c7180a","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":81.5717297930969,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic: Survived or Not Survived?","url":"/husainsb/titanic-survived-or-not-survived?scriptVersionId=2816733","versionNumber":6,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2816603,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2018-03-15T16:04:23.357Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":6,"linesInsertedFromPrevious":8,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:0b7b0f4ac1cf07839ba6945c2874afc761b5fb9cbbab6acdc631a1b6c7c7180a","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":5.37207337503787,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic: Survived or Not Survived?","url":"/husainsb/titanic-survived-or-not-survived?scriptVersionId=2816603","versionNumber":5,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2816126,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2018-03-15T15:15:30.263Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:0b7b0f4ac1cf07839ba6945c2874afc761b5fb9cbbab6acdc631a1b6c7c7180a","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":10.7723992080428,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic: Survived or Not Survived?","url":"/husainsb/titanic-survived-or-not-survived?scriptVersionId=2816126","versionNumber":4,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2816117,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2018-03-15T15:14:22.42Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:0b7b0f4ac1cf07839ba6945c2874afc761b5fb9cbbab6acdc631a1b6c7c7180a","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":7.42849398299586,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic: Survived or Not Survived?","url":"/husainsb/titanic-survived-or-not-survived?scriptVersionId=2816117","versionNumber":3,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2816110,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2018-03-15T15:13:31.483Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":3,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:0b7b0f4ac1cf07839ba6945c2874afc761b5fb9cbbab6acdc631a1b6c7c7180a","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":11.6770189040108,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic: Survived or Not Survived?","url":"/husainsb/titanic-survived-or-not-survived?scriptVersionId=2816110","versionNumber":2,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2816106,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2018-03-15T15:13:00.2Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":606,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:0b7b0f4ac1cf07839ba6945c2874afc761b5fb9cbbab6acdc631a1b6c7c7180a","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":7.62288500391878,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic: Survived or Not Survived?","url":"/husainsb/titanic-survived-or-not-survived?scriptVersionId=2816106","versionNumber":1,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null}],"categories":{"categories":[{"id":13102,"name":"beginner","displayName":"beginner","fullPath":"audience \u003e beginner","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27beginner%27","tagUrl":"/tags/beginner","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":87,"competitionCount":0,"scriptCount":8312,"totalCount":8399},{"id":13208,"name":"data visualization","displayName":"data visualization","fullPath":"analysis \u003e data visualization","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27data visualization%27","tagUrl":"/tags/data-visualization","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":131,"competitionCount":0,"scriptCount":6393,"totalCount":6524},{"id":13201,"name":"eda","displayName":"EDA","fullPath":"analysis \u003e eda","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27eda%27","tagUrl":"/tags/eda","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":52,"competitionCount":0,"scriptCount":3614,"totalCount":3666},{"id":13302,"name":"classification","displayName":"classification","fullPath":"machine learning \u003e classification","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27classification%27","tagUrl":"/tags/classification","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":240,"competitionCount":1,"scriptCount":3045,"totalCount":3286},{"id":13306,"name":"feature engineering","displayName":"feature engineering","fullPath":"machine learning \u003e feature engineering","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27feature engineering%27","tagUrl":"/tags/feature-engineering","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":44,"competitionCount":0,"scriptCount":1973,"totalCount":2017}],"type":"script"},"submitToCompetitionInfo":null,"downloadAllFilesUrl":"/kernels/svzip/2816733","submission":null,"menuLinks":[{"href":"/husainsb/titanic-survived-or-not-survived/notebook","text":"Report","title":"Notebook","tab":"report","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/husainsb/titanic-survived-or-not-survived/code","text":"Code","title":"Code","tab":"code","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/husainsb/titanic-survived-or-not-survived/data","text":"Data","title":"Data","tab":"data","count":1,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/husainsb/titanic-survived-or-not-survived/comments","text":"Comments","title":"Comments","tab":"comments","count":2,"showZeroCountExplicitly":true,"reportEventCategory":null,"reportEventType":null},{"href":"/husainsb/titanic-survived-or-not-survived/log","text":"Log","title":"Log","tab":"log","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/husainsb/titanic-survived-or-not-survived/versions","text":"Versions","title":"Versions","tab":"versions","count":6,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/husainsb/titanic-survived-or-not-survived/forks","text":"Forks","title":"Forks","tab":"forks","count":3,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null}],"rightMenuLinks":[],"callToAction":{"href":"/kernels/fork-version/2816733","text":"Fork Script","title":"Fork Script","tab":null,"count":null,"showZeroCountExplicitly":false,"reportEventCategory":"kernels","reportEventType":"anonymousKernelForkCreation"},"voteButton":{"totalVotes":6,"hasAlreadyVotedUp":false,"hasAlreadyVotedDown":false,"canUpvote":true,"canDownvote":false,"voteUpUrl":"/kernels/vote?id=737379","voteDownUrl":null,"voters":[{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/633689-fb.jpg","displayName":"ShrutiTiwari","profileUrl":"/shrutirtiwari1992","tier":"Novice","tierInt":0,"userId":633689,"userName":"shrutirtiwari1992"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1020983-kg.png","displayName":"Oscar Takeshita","profileUrl":"/pliptor","tier":"Expert","tierInt":2,"userId":1020983,"userName":"pliptor"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1097838-kg.png","displayName":"Leonardo Ferreira ","profileUrl":"/kabure","tier":"Master","tierInt":3,"userId":1097838,"userName":"kabure"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"AnsylPinto","profileUrl":"/ansyl1996","tier":"Novice","tierInt":0,"userId":1244271,"userName":"ansyl1996"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1422800-kg.jpg","displayName":"Husain Battiwala","profileUrl":"/husainsb","tier":"Contributor","tierInt":1,"userId":1422800,"userName":"husainsb"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"mara","profileUrl":"/mara13","tier":"Novice","tierInt":0,"userId":1727252,"userName":"mara13"}],"currentUserInfo":null,"showVoters":true,"alwaysShowVoters":true},"parentDataSource":null,"parentName":"Titanic: Machine Learning from Disaster","parentUrl":"/c/titanic","thumbnailImageUrl":"https://storage.googleapis.com/kaggle-competitions/kaggle/3136/logos/thumb76_76.png","canWrite":false,"canAdminister":false,"datasetHidden":false,"forkParentIsRedacted":false,"forkDiffLinesChanged":0,"forkDiffLinesDeleted":0,"forkDiffLinesInserted":0,"forkDiffUrl":null,"forkParentAuthorDisplayName":null,"forkParentAuthorUrl":null,"forkParentTitle":null,"forkParentUrl":null,"canSeeDataExplorerV2":true,"canSeeRevampedViewer":true,"canSeeInnerTableOfContents":true,"canSeeCopyAndEditText":true,"simplifiedViewer":false,"kernelOutputDataset":null});performance && performance.mark && performance.mark("KernelViewer.componentCouldBootstrap");</script>

<form action="/husainsb/titanic-survived-or-not-survived" id="__AjaxAntiForgeryForm" method="post"><input name="X-XSRF-TOKEN" type="hidden" value="CfDJ8LdUzqlsSWBPr4Ce3rb9VL8MTbIFsAKVGcViHZX5gFVnQd-hsWzeZOp8QJ2-TUmWBXfPRx1J9vNOHofT9_in98k2VyPI_zEa4vMzwWt79nAHTLqCBTBVpP4I2sP8lXntiYLwTCJH37hYPMMIZe5pxdA" /></form>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        "HTML-CSS": {
            preferredFont: "TeX",
            availableFonts: ["STIX", "TeX"],
            linebreaks: {
                automatic: true
            },
            EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
        },
        tex2jax: {
            inlineMath: [["\\(", "\\)"], ["\\\\(", "\\\\)"]],
            displayMath: [["$$", "$$"], ["\\[", "\\]"]],
            processEscapes: true,
            ignoreClass: "tex2jax_ignore|dno"
        },
        TeX: {
            noUndefined: {
                attributes: {
                    mathcolor: "red",
                    mathbackground: "#FFEEEE",
                    mathsize: "90%"
                }
            }
        },
        Macros: {
            href: "{}"
        },
        skipStartupTypeset: true,
        messageStyle: "none"
    });
</script>
<script type="text/javascript" async crossorigin="anonymous" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



    </div>

        <div class="site-layout__footer">
            <footer class="site-footer">
    <div class="site-footer__content">
        <div class="site-footer__copyright">
            <span>&copy; 2019 Kaggle Inc</span>
        </div>
        <nav class="site-footer__nav">
            <a href="/team">Our Team</a>
            <a href="/terms">Terms</a>
            <a href="/privacy">Privacy</a>
            <a href="/contact">Contact/Support</a>
        </nav>
        <nav class="site-footer__social">
            <div data-component-name="SocialIcons" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push();performance && performance.mark && performance.mark("SocialIcons.componentCouldBootstrap");</script>
        </nav>
    </div>
</footer>

        </div>
</div>




    </main>
</body>
</html>
