<!DOCTYPE html>
<html lang="en">
<head>
    <title>Titanic exploration and Prediction | Kaggle</title>
    <meta charset="utf-8" />
    <meta name="robots" content="index, follow" />
    <meta name="turbolinks-cache-control" content="no-cache" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">    <meta name="theme-color" content="#008ABC" />
    <script type="text/javascript">
        window["initialPageLoadStartTime"] = new Date().getTime();
    </script>
    <link rel="dns-prefetch" href="https://www.google-analytics.com" /><link rel="dns-prefetch" href="https://stats.g.doubleclick.net" /><link rel="dns-prefetch" href="https://js.intercomcdn.com" /><link rel="dns-prefetch" href="https://storage.googleapis.com/" />
    <link href="/static/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link rel="manifest" href="/static/json/manifest.json">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic" rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type='text/css'/>
        <link rel="canonical" href="/kishvanchee/titanic-exploration-and-prediction" />                    <link rel="stylesheet" type="text/css" href="/static/assets/vendor.css?v=632d145d8598" />
        <link rel="stylesheet" type="text/css" href="/static/assets/app.css?v=1d00932a7505" />
    
    
 
        <script>
        try{(function(a,s,y,n,c,h,i,d,e){d=s.createElement("style");
        d.appendChild(s.createTextNode(""));s.head.appendChild(d);d=d.sheet;
        y=y.map(x => d.insertRule(x + "{ opacity: 0 !important }"));
        h.start=1*new Date;h.end=i=function(){y.forEach(x => d.deleteRule(x))};
        (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
        })(window,document,['.site-header-react__nav'],'dataLayer',2000,{'GTM-52LNT9S':true});}catch{}
    </script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-12629138-1', {
            'optimize_id': 'GTM-52LNT9S',
            'displayFeaturesTask': null,
            'send_page_view': false
        });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12629138-1"></script>

    
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
            n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq("set", "autoConfig", "false", "136809193586742");
    fbq('init', '136809193586742'); 
    fbq('track', 'PageView');
</script>
<noscript>
    <img height="1" width="1" src="https://www.facebook.com/tr?id=136809193586742&ev=PageView&noscript=1"/>
</noscript>

<script>window.intercomSettings = {"app_id":"koj6gxx6"};</script>        <script>(function () { var w = window; var ic = w.Intercom; if (typeof ic === "function") { ic('reattach_activator'); ic('update', intercomSettings); } else { var d = document; var i = function () { i.c(arguments) }; i.q = []; i.c = function (args) { i.q.push(args) }; w.Intercom = i; function l() { var s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'https://widget.intercom.io/widget/koj6gxx6'; var x = d.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); } if (w.attachEvent) { w.attachEvent('onload', l); } else { w.addEventListener('load', l, false); } } })()</script>
    
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@kaggledatasets" />
    <meta name="og:url" content="https://kaggle.com/kishvanchee/titanic-exploration-and-prediction" />
    <meta name="og:title" content="Titanic exploration and Prediction" />
    <meta name="og:description" content="Using data from Titanic: Machine Learning from Disaster" />
    <meta name="og:image" content="https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png" />


    
    

    
    
    
<script type="text/javascript">
    var Kaggle = Kaggle || {};

    Kaggle.Current = {
        antiForgeryToken: 'CfDJ8LdUzqlsSWBPr4Ce3rb9VL8zbwVlq6o1wW5uhYkonVME8mNznupU6GpE-WtTEyWWF5OMA1KMYeyZeUltj8Jny-0HZS0wBbaLseNC4YaplKK7Xhn3nI-jd52QEYvFnEB6fc8DmHF4aVgkpM1kc3bdnzw',
        isAnonymous: true,
        analyticsToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjAzNDUyNTEsIlVzZXJJZCI6MH0.DauYZJv_b4Otw_K6u4ZoZurykMK3adgcCG9WrsJTOio',
        analyticsTokenExpiry: 15,
        internetKernelsEnabled: false,
        
        
        
        
        
        
        
        
        
        
        
    }
        Kaggle.Current.log = function(){};
        Kaggle.Current.warn = function(){};

    var decodeUserDisplayName = function () {
        var escapedUserDisplayName = Kaggle.Current.userDisplayNameEscaped || "";
        try {
            var textVersion = new DOMParser().parseFromString(escapedUserDisplayName, "text/html").documentElement.textContent;
            if (textVersion) {
                return textVersion;
            }
        } catch(ex) {}
        return escapedUserDisplayName;
    }
    Kaggle.Current.userDisplayName = decodeUserDisplayName();
</script>

    

<script type="text/javascript">
    var Kaggle = Kaggle || {};
    Kaggle.PageMessages = [];
</script>

    
<script type="text/javascript">
/* <![CDATA[ */
goog_snippet_vars = function() {
    var w = window;
    w.google_conversion_id = 955616553;
    w.google_conversion_label = "QSjvCKDksHMQqZrWxwM";
    w.google_conversion_value = 0.00;
    w.google_conversion_currency = "USD";
    w.google_remarketing_only = false;
    w.google_conversion_language = "en";
    w.google_conversion_format = "3";
    w.google_conversion_color = "ffffff";
}
// DO NOT CHANGE THE CODE BELOW.
goog_report_conversion = function(url) {
    goog_snippet_vars();
    window.google_conversion_format = "3";
    var opt = new Object();
    opt.onload_callback = function() {
        if (typeof(url) != 'undefined') {
            window.location = url;
        }
    }
    var conv_handler = window['google_trackConversion'];
    if (typeof(conv_handler) == 'function') {
        conv_handler(opt);
    }
}
/* ]]> */
</script>
<script type="text/javascript"
src="//www.googleadservices.com/pagead/conversion_async.js">
</script>



        <script>window['useKaggleAnalytics'] = true;</script>

    <script src="/static/assets/vendor.js?v=4721d2c14786" data-turbolinks-track="reload"></script>
    <script src="/static/assets/app.js?v=1a3cd8c35fe7" data-turbolinks-track="reload"></script>
        <script>
            (function() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register("/static/assets/service-worker.js").then(function(reg) {
                        reg.onupdatefound = function() {
                            var installingWorker = reg.installing;
                            installingWorker.onstatechange = function() {
                                switch (installingWorker.state) {
                                case 'installed':
                                    if (navigator.serviceWorker.controller) {
                                        console.log('New or updated content is available.');
                                    } else {
                                        console.log('Content is now available offline!');
                                    }
                                    break;
                                case 'redundant':
                                    console.error('The installing service worker became redundant.');
                                    break;
                                }
                            };
                        };
                    }).catch(function(e) {
                      console.error('Error during service worker registration:', e);
                    });
                }
            })();
        </script>
    <script>
        function handleClientLoad() {
            try {
                gapi.load('client:auth2');
            } catch (e) {
                // In Opera, readystatechange is an unreliable detection of script load, causing
                // this function to be called before gapi exists on the window. The onload callback
                // is still called at the correct time, so the feature works as expected - it's
                // just generating noisy errors.
            }
        }
    </script>
    <script async defer src="https://apis.google.com/js/api.js"
            onload="this.googleApiOnLoad=function(){};handleClientLoad()"
            onreadystatechange="if (this.readyState === 'complete') this.googleApiOnLoad()">
    </script>
</head>
<body data-turbolinks="true">
    <main>
        






<div class="site-layout">
        <div class="site-layout__header">
            <div data-component-name="SiteHeaderContainer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({});performance && performance.mark && performance.mark("SiteHeaderContainer.componentCouldBootstrap");</script>
        </div>

    <div class="site-layout__main-content">
        

<div data-component-name="KernelViewer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({"kernel":{"id":462696,"title":"Titanic exploration and Prediction","forkParent":null,"currentRunId":1835916,"mostRecentRunId":1835916,"url":"/kishvanchee/titanic-exploration-and-prediction","tags":[],"commentCount":0,"upvoteCount":3,"viewCount":315,"forkCount":0,"bestPublicScore":0.79425,"author":{"id":1243806,"displayName":"Kishore Vancheeshwaran","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"kishvanchee","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","profileUrl":"/kishvanchee","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":1,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"isPrivate":false,"updatedTime":"2017-11-30T05:32:32.8666667Z","selfLink":"/kernels/462696","pinnedDockerImageVersionId":null,"isLanguageTemplate":false,"medal":null,"topicId":44598,"readGroupId":null,"writeGroupId":null,"slug":"titanic-exploration-and-prediction"},"kernelBlob":{"id":7637610,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"Competition","sourceId":3136,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\r\ntitle: \u0022Titanic - Kaggle\u0022\r\nauthor: \u0022Kishore Vancheeshwaran\u0022\r\ndate: \u002228 November 2017\u0022\r\noutput:\r\n  html_document:\r\n    number_sections: false\r\n    toc: true\r\n    fig_width: 7\r\n    fig_height: 5\r\n  \r\n---\r\n\r\n```{r setup, include=FALSE}\r\nknitr::opts_chunk$set(\r\n\techo = TRUE,\r\n\tmessage = FALSE,\r\n\twarning = FALSE\r\n)\r\n```\r\n\r\n# Introduction\r\n\r\nThis is my first kaggle dataset to be worked on. I have learnt a lot of the nuances of R by working on this dataset. I know only *decision trees* and *random forests* algorithms so far. So I will be building a prediction model based on *decision trees* for now. If there\u0027s any input from anyone as to how I can modify or improve myself, please let me know in the comments. :)\r\n\r\n## Load libraries\r\n```{r, message=FALSE}\r\nlibrary(dplyr)\r\nlibrary(ggplot2)\r\ntheme_set(theme_bw())\r\nlibrary(mice)\r\nlibrary(randomForest)\r\nlibrary(mice)\r\nlibrary(tree)\r\n```\r\n\r\n## Load and observe dataset\r\n```{r}\r\ntitanic_train \u003c- read.csv(\u0027../input/train.csv\u0027,\r\n                          stringsAsFactors = FALSE)\r\ntitanic_test \u003c- read.csv(\u0027../input/test.csv\u0027,\r\n                         stringsAsFactors = FALSE)\r\n\r\nstr(titanic_train)\r\nstr(titanic_test)\r\n```\r\n\r\nI came to know only recently that whatever actions I perform on the training data, should be performed on the testing data too. Hence, to me, it makes sense that I could just as well combine both the data for now, and then split it up in the end when I do the tests. I can do this by using `bind_rows` from `dplyr`.\r\n\r\n```{r}\r\ntitanic \u003c- bind_rows(titanic_train, titanic_test)\r\n\r\nstr(titanic)\r\n\r\nhead(titanic)\r\n\r\ntail(titanic)\r\n\r\nsummary(titanic)\r\n```\r\n\r\nDescription of variables as given on kaggle:\r\n\r\nVariable Name | Description\r\n--------------|-------------\r\nSurvived      | Survived (1) or died (0)\r\nPclass        | Passenger\u0027s class\r\nName          | Passenger\u0027s name\r\nSex           | Passenger\u0027s sex\r\nAge           | Passenger\u0027s age\r\nSibSp         | Number of siblings/spouses aboard\r\nParch         | Number of parents/children aboard\r\nTicket        | Ticket number\r\nFare          | Fare\r\nCabin         | Cabin\r\nEmbarked      | Port of boarding\r\n\r\n# Exploration\r\n\r\n## Checking Null values\r\n```{r}\r\nsapply(titanic, function(x) sum(is.na(x)))\r\n```\r\n\r\nAge has a lot of null values, so does Fare. When we look at the structure, we see that the Cabin has `\u0022\u0022` as values, which we can assume as blanks or nulls.\r\n\r\n## Feature engineering\r\n\r\nLooking at the data, we can try to mutate newer variables based on the existing ones. You can mutate the **titles** of the *Name*, **surnames** of *Name*, **Family size** from *SibSp* \u0026 *Parch*,\r\n\r\n### Family size\r\n\r\nWe can\u0027t differentiate between spouse and sibling from the given data, so splitting it further is impossible. Similarly, we can\u0027t differentiate parents/children aboard because the data doesn\u0027t go into the granularity of how many parents per child, or how many children per parent. Hence we are forced to take the sum of both the variables and create a new one **family size** - `fam_size`.\r\n\r\n```{r}\r\ntitanic$fam_size \u003c- titanic$SibSp + titanic$Parch + 1\r\n```\r\n\r\nTrying out relation between family size and survival,\r\n```{r}\r\nggplot(titanic[1:891, ],\r\n       aes(fam_size,\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  scale_x_continuous(breaks = 0:11) +\r\n  ggtitle(\u0022Family size vs No of survivors\u0022) +\r\n  xlab(\u0022Family Size\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022)\r\n```\r\n\r\nPeople who were single, died more in comparison to people who had at least 1 family member. This takes a turn, again when family size is greater than 3.\r\n\r\nSo we will create another feature/variable, which categorizes them accordingly.\r\n```{r}\r\n\r\nunique(titanic$fam_size)\r\n\r\ntitanic$fam_type[titanic$fam_size == 1] \u003c- \u0022single\u0022\r\ntitanic$fam_type[titanic$fam_size \u003e 1 \u0026 titanic$fam_size \u003c 4] \u003c- \u0022few\u0022\r\ntitanic$fam_type[titanic$fam_size \u003e 3] \u003c- \u0022many\u0022\r\n\r\nggplot(titanic[1:891, ],\r\n       aes(fam_type,\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  ggtitle(\u0022Family type vs No of survivors\u0022) +\r\n  xlab(\u0022Family Type\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022)\r\n```\r\n\r\nThis plot makes it much clearer that families with fewer members, but not singles, survived more than families with many members or single people.\r\n\r\n### Exploring each feature(s)\r\n\r\nThis shows in which deck each passenger stayed.\r\n```{r}\r\nhead(titanic$Cabin)\r\n```\r\n\r\nOops, it has blank values. Assuming the first letter to be the **Deck** level, we will try to mutate that into another column.\r\n```{r}\r\ntitanic$Deck \u003c- factor(sapply(titanic$Cabin, function(x) strsplit(x, NULL)[[1]][1]))\r\nunique(titanic$Deck)\r\n\r\nggplot(na.omit(titanic[1:891, ]),\r\n       aes(Survived,\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  facet_wrap(~Deck) +\r\n  scale_x_continuous(breaks = 0:1) +\r\n  ggtitle(\u0022Deck level vs No of survivors\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022) +\r\n  theme(axis.text.x = element_blank(),\r\n        axis.title.x = element_blank(),\r\n        axis.ticks.x = element_blank())\r\n```\r\n\r\nChecking the survivors according to class\r\n```{r}\r\nggplot(titanic[1:891, ],\r\n       aes(Survived,\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  facet_wrap(~Pclass) +\r\n  scale_x_continuous(breaks = 0:1) +\r\n  ggtitle(\u0022Survivors in each class\u0022) +\r\n  xlab(\u0022Class\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022) +\r\n  theme(axis.text.x = element_blank(),\r\n        axis.ticks.x = element_blank())\r\n  \r\n```\r\n\r\nWow.. First class people were able to survive more, compared to the people who could afford only the third class where many died :(\r\n\r\nChecking by age, gender, fare: We see that more females survived.\r\n```{r warning=FALSE}\r\nggplot(titanic[1:891, ],\r\n       aes(Fare, Age)) +\r\n  geom_point(aes(colour = factor(Survived))) +\r\n  facet_wrap(~Sex) +\r\n  ggtitle(\u0022Survivors by gender, age vs fare\u0022) +\r\n  labs(colour = \u0022Survived\u0022)\r\n```\r\n\r\nPassengers per boarding point who survived:\r\n```{r}\r\nggplot(titanic[1:891, ],\r\n       aes(factor(Embarked),\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  ggtitle(\u0022Survivors according to boarding point\u0022) +\r\n  xlab(\u0022Boarding point\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022)\r\n```\r\n\r\nWow, so.. people who boarded from Southampton were more likely to die.. Interesting.\r\n\r\nNext, checking gender for each class who survived:\r\n```{r}\r\nggplot(titanic[1:891, ] %\u003e% filter(Survived == 1),\r\n       aes(Sex)) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  facet_grid(~Pclass) +\r\n  ggtitle(\u0022Survivors according to gender for each class\u0022) +\r\n  ylab(\u0022No of people\u0022)\r\n```\r\n\r\nIt seems that there are more female survivors, as seen earlier too.\r\n\r\n### Exploring the names\r\n\r\nObserving the names, we see that each person has a *title* for themselves. We can try to extract them and put them in a new variable **title** - `title`.\r\n```{r}\r\nhead(titanic$Name)\r\n\r\ntitanic$title \u003c- gsub(\u0027(.*, )|(\\\\..*)\u0027, \u0027\u0027, titanic$Name)\r\n\r\nunique(titanic$title)\r\n\r\ntable(titanic$title, titanic$Sex)\r\n\r\nrare_title \u003c- c(\u0027Dona\u0027, \u0027Lady\u0027, \u0027the Countess\u0027,\u0027Capt\u0027, \u0027Col\u0027, \u0027Don\u0027, \r\n                \u0027Dr\u0027, \u0027Major\u0027, \u0027Rev\u0027, \u0027Sir\u0027, \u0027Jonkheer\u0027)\r\n\r\n\r\ntitanic$title[titanic$title == \u0027Mlle\u0027]        \u003c- \u0027Miss\u0027 \r\ntitanic$title[titanic$title == \u0027Ms\u0027]          \u003c- \u0027Miss\u0027\r\ntitanic$title[titanic$title == \u0027Mme\u0027]         \u003c- \u0027Mrs\u0027 \r\ntitanic$title[titanic$title %in% rare_title]  \u003c- \u0027Rare Title\u0027\r\n\r\ntable(titanic$title, titanic$Sex)\r\n```\r\n\r\nWe can also get the surnames from the **Name**.\r\n```{r}\r\ntitanic$surname \u003c- sapply(titanic$Name, function(x) strsplit(x, split = \u0027[,.]\u0027)[[1]][1])\r\n\r\nhead(titanic$surname)\r\nlength(unique(titanic$surname))\r\n```\r\n\r\nWow, there are 875 unique surnames. I don\u0027t know how to proceed with this, other than manually searching and sorting them from the internet. If anyone knows a better way, please let me know.\r\n\r\n# Missing values\r\n\r\n## Logical imputation\r\n\r\nThere are some missing values in **Embarked**.\r\n```{r}\r\n\r\nunique(titanic$Embarked)\r\n\r\nwhich(titanic$Embarked == \u0022\u0022)\r\n\r\ntitanic[which(titanic$Embarked == \u0022\u0022), ]\r\n\r\ntitanic[c(62,830), ]\r\n\r\ntitanic %\u003e% filter(PassengerId != 62 \u0026 PassengerId != 830 \u0026 Pclass == 1) %\u003e% group_by(Embarked) %\u003e% summarise(n = median(Fare))\r\n```\r\n\r\nSince median fare for class 1 passenger is close to 80 (ie 77), we can assume that the passenger leaves from \u0022C\u0022.\r\n```{r}\r\ntitanic$Embarked[c(62,830)] \u003c- \u0022C\u0022\r\n```\r\n\r\nBut hey, according to [Encyclopedia Titanica](http://www.encyclopedia-titanica.org/titanic-survivor/amelia-icard.html), they both boarded at Southampton. So, cross referencing with facts, we have to change this.\r\n```{r}\r\ntitanic$Embarked[c(62,830)] \u003c- \u0022S\u0022\r\n```\r\n\r\n\r\nNow we\u0027ll plot the survivors according to boarding point again.\r\n```{r}\r\nggplot(titanic[1:891, ],\r\n       aes(factor(Embarked),\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  ggtitle(\u0022Survivors according to boarding point\u0022) +\r\n  xlab(\u0022Boarding point\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022)\r\n```\r\n\r\n### Fare imputation\r\n\r\nThere is one null value in Fare\r\n```{r}\r\nsum(is.na(titanic$Fare))\r\n```\r\n\r\nWe will try to impute it based on the info on that record.\r\n```{r}\r\nwhich(is.na(titanic$Fare))\r\n\r\ntitanic[which(is.na(titanic$Fare)), ]\r\n\r\ntitanic %\u003e% filter(Pclass == 3 \u0026 Embarked == \u0022S\u0022) %\u003e% summarise(n = median(Fare, na.rm = TRUE))\r\n\r\nggplot(titanic %\u003e% filter(Pclass == 3 \u0026 Embarked == \u0022S\u0022),\r\n       aes(x = Fare)) +\r\n  geom_density() +\r\n  geom_vline(xintercept = 8)\r\n\r\ntitanic$Fare[which(is.na(titanic$Fare))] \u003c- median(titanic[titanic$Pclass == 3 \u0026 titanic$Embarked == \u0022S\u0022, ]$Fare, na.rm = TRUE)\r\n\r\ntitanic[1044, \u0022Fare\u0022]\r\n```\r\n\r\n### Cabin imputation\r\n```{r}\r\nstr(titanic)\r\n\r\ntitanic %\u003e% group_by(Pclass, Deck, Embarked) %\u003e% summarise(mean = mean(Fare, na.rm = TRUE))\r\ntitanic %\u003e% group_by(Pclass, Deck, Embarked) %\u003e% summarise(med = median(Fare, na.rm = TRUE))\r\ntitanic %\u003e% group_by(Pclass, Deck, Embarked) %\u003e% summarise(min = min(Fare, na.rm = TRUE))\r\ntitanic %\u003e% group_by(Pclass, Deck, Embarked) %\u003e% summarise(max = max(Fare, na.rm = TRUE))\r\n```\r\n\r\nThe idea is that it might be possible to impute the **Deck** variable, with the **Pclass**, **Embarked**, **Fare**, and if possible **Ticket** too. Of course, it is easier to use packages like `mice` or `missForest` but I prefer implementing some logic rather than let a random prediction take its course. If anyone has any suggestions on how I can proceed for this, please let me know. I will be skipping this step for now.\r\n\r\n\r\n### Age imputation\r\n\r\nFor imputing age, there are many methods. Two such methods I am aware of are using MICE and randomForest. We\u0027ll define a new column, which says the type of a person\u0027s age, i.e. `age_type` will be *child* or *adult* or *senior*. A third and fourth method which I propose is to use the median age for each class gender wise, and to use ages selected randomly from each class gender wise.\r\n\r\n```{r}\r\nquantile(titanic[titanic$title == \u0022Mr\u0022, ]$Age, na.rm = TRUE)\r\nquantile(titanic[titanic$title == \u0022Mrs\u0022, ]$Age, na.rm = TRUE)\r\n\r\nquantile(titanic[titanic$title == \u0022Mr\u0022, ]$Age, na.rm = TRUE, .05)\r\nquantile(titanic[titanic$title == \u0022Mrs\u0022, ]$Age, na.rm = TRUE, .05)\r\n```\r\n\r\nWe see that people got married at a very young age. Thus, we will use 16 as a good partition for classifying whether or not a person is a child/adult and 60 for adult/senior citizen partition.\r\n\r\n```{r}\r\ntitanic \u003c- titanic %\u003e% mutate(age_type = ifelse(Age \u003c 16, \u0022Child\u0022, ifelse(Age \u003c 60, \u0022Adult\u0022, \u0022Senior\u0022)))\r\n\r\ntitanic %\u003e% group_by(Pclass, age_type, Sex) %\u003e% summarise(age = median(Age, na.rm = TRUE))\r\n\r\ntitanic %\u003e% filter(Age \u003c 16) %\u003e% group_by(Pclass, Sex) %\u003e% summarise(age = median(Age, na.rm = TRUE), age_mean = mean(Age, na.rm = TRUE), age_sd = sd(Age, na.rm = TRUE))\r\n\r\ntitanic %\u003e% filter(Age \u003e= 16 \u0026 Age \u003c 60) %\u003e% group_by(Pclass, Sex) %\u003e% summarise(age = median(Age, na.rm = TRUE), age_mean = mean(Age, na.rm = TRUE), age_sd = sd(Age, na.rm = TRUE))\r\n\r\ntitanic %\u003e% filter(Age \u003e= 60) %\u003e% group_by(Pclass, Sex) %\u003e% summarise(age = median(Age, na.rm = TRUE), age_mean = mean(Age, na.rm = TRUE), age_sd = sd(Age, na.rm = TRUE))\r\n```\r\n\r\nWe will use the mice package to impute the age for now.\r\n\r\n```{r}\r\nsum(is.na(titanic$Age))\r\n\r\nmice_titanic \u003c- mice(data = titanic[ , !names(titanic) %in% c(\u0022PassengerId\u0022, \u0022Survived\u0022, \u0022Name\u0022, \u0022Ticket\u0022, \u0022Cabin\u0022, \u0022surname\u0022, \u0022age_type\u0022)], m = 3, method = \u0022rf\u0022, maxit = 20, seed = 765)\r\n\r\nmice_titanic_op \u003c- complete(mice_titanic)\r\n\r\nggplot() +\r\n  geom_density(aes(x = titanic$Age, col = \u0022blue\u0022)) +\r\n  geom_density(aes(x = mice_titanic_op$Age, col = \u0022red\u0022)) +\r\n  ggtitle(\u0022Distribution of age in original and imputed data set\u0022) +\r\n  xlab(\u0022Age\u0022) +\r\n  ylab(\u0022Density\u0022) +\r\n  labs(col = \u0022Colour\u0022) +\r\n  scale_color_manual(labels = c(\u0022titanic\u0022, \u0022mice\u0022), values = c(\u0022blue\u0022, \u0022red\u0022))\r\n```\r\n\r\nThe distribution looks good. So we will impute the data.\r\n```{r}\r\ntitanic$Age \u003c- mice_titanic_op$Age\r\n```\r\n\r\n\r\n### Age type with imputed ages\r\n```{r}\r\ntitanic \u003c- titanic %\u003e% mutate(age_type = ifelse(Age \u003c 16, \u0022Child\u0022, ifelse(Age \u003c 60, \u0022Adult\u0022, \u0022Senior\u0022)))\r\n```\r\n\r\n\r\n# Prediction models\r\n\r\nNow we will build a prediction model with decision tree.\r\n```{r}\r\ntitanic_factors \u003c- titanic\r\n\r\nstr(titanic_factors)\r\ntitanic_factors$Survived \u003c- as.factor(titanic_factors$Survived)\r\ntitanic_factors$Pclass \u003c- as.factor(titanic_factors$Pclass)\r\ntitanic_factors$Sex \u003c- as.factor(titanic_factors$Sex)\r\ntitanic_factors$Embarked \u003c- as.factor(titanic_factors$Embarked)\r\ntitanic_factors$fam_type \u003c- as.factor(titanic_factors$fam_type)\r\ntitanic_factors$title \u003c- as.factor(titanic_factors$title)\r\ntitanic_factors$age_type \u003c- as.factor(titanic_factors$age_type)\r\n\r\nstr(titanic_factors)\r\n\r\ntitanic_train \u003c- titanic_factors[1:891, ]\r\ntitanic_test \u003c- titanic_factors[892:1309, ]\r\n\r\ntitanic_model_4 \u003c- tree(Survived ~ Pclass + Sex + Age + SibSp + Parch + Embarked + fam_type + title + age_type + Fare, data = titanic_train )\r\n\r\ntitanic_tree_pred \u003c- predict(titanic_model_4, titanic_test, type = \u0022class\u0022)\r\n\r\nsubmission \u003c- data.frame(PassengerId = titanic_test$PassengerId, Survived = titanic_tree_pred)\r\n\r\nwrite.csv(submission, file = \u0022submission_tree.csv\u0022, row.names = FALSE)\r\n```\r\n\r\n```{r, echo = FALSE}\r\n# titanic_model_3 \u003c- randomForest(Survived ~ Pclass + Sex + Age + SibSp + Parch + Embarked + fam_type + title + age_type + Fare, data = titanic_train )\r\n# \r\n# titanic_rf_pred \u003c- predict(titanic_model_3, titanic_test, type = \u0022class\u0022)\r\n# \r\n# submission \u003c- data.frame(PassengerId = titanic_test$PassengerId, Survived = titanic_rf_pred)\r\n# \r\n# write.csv(submission, file = \u0022submission_rf.csv\u0022, row.names = FALSE)\r\n\r\n# titanic_model_1 \u003c- tree(Survived~ Pclass+Sex+Age+SibSp+Fare, data = titanic_train)\r\n# titanic_tree_pred_1 \u003c- predict(titanic_model_1, titanic_test, type = \u0022class\u0022)\r\n# \r\n# submission \u003c- titanic_test\r\n# \r\n# submission$Survived \u003c- titanic_tree_pred_1\r\n# \r\n# submission2 \u003c- submission[,c(\u0022PassengerId\u0022, \u0022Survived\u0022)]\r\n# \r\n# write.csv(x = submission2,file = \u0022submission_2.csv\u0022, row.names = FALSE)\r\n\r\n```\r\n\r\n# Conclusion\r\n\r\nThis was my first kaggle submission. I learnt a lot. The entire process can be improved in many many ways. Looking forward to suggestions from people. :)\r\n\r\n\r\n## Credits\r\n\r\nThank you for helping me out [Kumar Halake](https://www.kaggle.com/kumarhalake), [Megan Risdal\u0027s notebook](https://www.kaggle.com/mrisdal/exploring-survival-on-the-titanic/notebook), [Hari Anantaraman](https://www.kaggle.com/clairvoyance), [Deepu Dilip](https://www.kaggle.com/dd2908).\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","dateCreated":"2017-11-30T05:32:33.493Z"},"kernelRun":{"id":1835916,"kernelId":462696,"status":"complete","type":"batch","sourceType":"script","language":"rmarkdown","title":"Titanic exploration and Prediction","dateCreated":"2017-11-30T05:32:33.493Z","dateEvaluated":"2017-11-30T05:32:32.867Z","workerContainerPort":null,"workerUptimeSeconds":529843,"workerIPAddress":"172.16.0.11    ","scriptLanguageId":5,"scriptLanguageName":"RMarkdown","renderedOutputUrl":"https://www.kaggleusercontent.com/kf/1835916/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..0_5D015BugivHmjpTU5MBA.-7XW1DTYO_LXLQYrgTIWzKx2qlRgFirlPsNVBaKaKQiULEuhPA-dFqRa4M6IBLmAdFYYYrrVGJSadXoVDZIK1EaEcJNO6ds1aabvF1Z5ZeIf76Wy7WqkYvFl61A9uJHefCM7-Y0hhXw8E-inukoEUCvB5WBIP6ppqJjuJi2JBkQ.XjS8QO9vb-8JX6iJHmeHwQ/__results__.html","commit":{"id":7637610,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"Competition","sourceId":3136,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\r\ntitle: \u0022Titanic - Kaggle\u0022\r\nauthor: \u0022Kishore Vancheeshwaran\u0022\r\ndate: \u002228 November 2017\u0022\r\noutput:\r\n  html_document:\r\n    number_sections: false\r\n    toc: true\r\n    fig_width: 7\r\n    fig_height: 5\r\n  \r\n---\r\n\r\n```{r setup, include=FALSE}\r\nknitr::opts_chunk$set(\r\n\techo = TRUE,\r\n\tmessage = FALSE,\r\n\twarning = FALSE\r\n)\r\n```\r\n\r\n# Introduction\r\n\r\nThis is my first kaggle dataset to be worked on. I have learnt a lot of the nuances of R by working on this dataset. I know only *decision trees* and *random forests* algorithms so far. So I will be building a prediction model based on *decision trees* for now. If there\u0027s any input from anyone as to how I can modify or improve myself, please let me know in the comments. :)\r\n\r\n## Load libraries\r\n```{r, message=FALSE}\r\nlibrary(dplyr)\r\nlibrary(ggplot2)\r\ntheme_set(theme_bw())\r\nlibrary(mice)\r\nlibrary(randomForest)\r\nlibrary(mice)\r\nlibrary(tree)\r\n```\r\n\r\n## Load and observe dataset\r\n```{r}\r\ntitanic_train \u003c- read.csv(\u0027../input/train.csv\u0027,\r\n                          stringsAsFactors = FALSE)\r\ntitanic_test \u003c- read.csv(\u0027../input/test.csv\u0027,\r\n                         stringsAsFactors = FALSE)\r\n\r\nstr(titanic_train)\r\nstr(titanic_test)\r\n```\r\n\r\nI came to know only recently that whatever actions I perform on the training data, should be performed on the testing data too. Hence, to me, it makes sense that I could just as well combine both the data for now, and then split it up in the end when I do the tests. I can do this by using `bind_rows` from `dplyr`.\r\n\r\n```{r}\r\ntitanic \u003c- bind_rows(titanic_train, titanic_test)\r\n\r\nstr(titanic)\r\n\r\nhead(titanic)\r\n\r\ntail(titanic)\r\n\r\nsummary(titanic)\r\n```\r\n\r\nDescription of variables as given on kaggle:\r\n\r\nVariable Name | Description\r\n--------------|-------------\r\nSurvived      | Survived (1) or died (0)\r\nPclass        | Passenger\u0027s class\r\nName          | Passenger\u0027s name\r\nSex           | Passenger\u0027s sex\r\nAge           | Passenger\u0027s age\r\nSibSp         | Number of siblings/spouses aboard\r\nParch         | Number of parents/children aboard\r\nTicket        | Ticket number\r\nFare          | Fare\r\nCabin         | Cabin\r\nEmbarked      | Port of boarding\r\n\r\n# Exploration\r\n\r\n## Checking Null values\r\n```{r}\r\nsapply(titanic, function(x) sum(is.na(x)))\r\n```\r\n\r\nAge has a lot of null values, so does Fare. When we look at the structure, we see that the Cabin has `\u0022\u0022` as values, which we can assume as blanks or nulls.\r\n\r\n## Feature engineering\r\n\r\nLooking at the data, we can try to mutate newer variables based on the existing ones. You can mutate the **titles** of the *Name*, **surnames** of *Name*, **Family size** from *SibSp* \u0026 *Parch*,\r\n\r\n### Family size\r\n\r\nWe can\u0027t differentiate between spouse and sibling from the given data, so splitting it further is impossible. Similarly, we can\u0027t differentiate parents/children aboard because the data doesn\u0027t go into the granularity of how many parents per child, or how many children per parent. Hence we are forced to take the sum of both the variables and create a new one **family size** - `fam_size`.\r\n\r\n```{r}\r\ntitanic$fam_size \u003c- titanic$SibSp + titanic$Parch + 1\r\n```\r\n\r\nTrying out relation between family size and survival,\r\n```{r}\r\nggplot(titanic[1:891, ],\r\n       aes(fam_size,\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  scale_x_continuous(breaks = 0:11) +\r\n  ggtitle(\u0022Family size vs No of survivors\u0022) +\r\n  xlab(\u0022Family Size\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022)\r\n```\r\n\r\nPeople who were single, died more in comparison to people who had at least 1 family member. This takes a turn, again when family size is greater than 3.\r\n\r\nSo we will create another feature/variable, which categorizes them accordingly.\r\n```{r}\r\n\r\nunique(titanic$fam_size)\r\n\r\ntitanic$fam_type[titanic$fam_size == 1] \u003c- \u0022single\u0022\r\ntitanic$fam_type[titanic$fam_size \u003e 1 \u0026 titanic$fam_size \u003c 4] \u003c- \u0022few\u0022\r\ntitanic$fam_type[titanic$fam_size \u003e 3] \u003c- \u0022many\u0022\r\n\r\nggplot(titanic[1:891, ],\r\n       aes(fam_type,\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  ggtitle(\u0022Family type vs No of survivors\u0022) +\r\n  xlab(\u0022Family Type\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022)\r\n```\r\n\r\nThis plot makes it much clearer that families with fewer members, but not singles, survived more than families with many members or single people.\r\n\r\n### Exploring each feature(s)\r\n\r\nThis shows in which deck each passenger stayed.\r\n```{r}\r\nhead(titanic$Cabin)\r\n```\r\n\r\nOops, it has blank values. Assuming the first letter to be the **Deck** level, we will try to mutate that into another column.\r\n```{r}\r\ntitanic$Deck \u003c- factor(sapply(titanic$Cabin, function(x) strsplit(x, NULL)[[1]][1]))\r\nunique(titanic$Deck)\r\n\r\nggplot(na.omit(titanic[1:891, ]),\r\n       aes(Survived,\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  facet_wrap(~Deck) +\r\n  scale_x_continuous(breaks = 0:1) +\r\n  ggtitle(\u0022Deck level vs No of survivors\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022) +\r\n  theme(axis.text.x = element_blank(),\r\n        axis.title.x = element_blank(),\r\n        axis.ticks.x = element_blank())\r\n```\r\n\r\nChecking the survivors according to class\r\n```{r}\r\nggplot(titanic[1:891, ],\r\n       aes(Survived,\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  facet_wrap(~Pclass) +\r\n  scale_x_continuous(breaks = 0:1) +\r\n  ggtitle(\u0022Survivors in each class\u0022) +\r\n  xlab(\u0022Class\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022) +\r\n  theme(axis.text.x = element_blank(),\r\n        axis.ticks.x = element_blank())\r\n  \r\n```\r\n\r\nWow.. First class people were able to survive more, compared to the people who could afford only the third class where many died :(\r\n\r\nChecking by age, gender, fare: We see that more females survived.\r\n```{r warning=FALSE}\r\nggplot(titanic[1:891, ],\r\n       aes(Fare, Age)) +\r\n  geom_point(aes(colour = factor(Survived))) +\r\n  facet_wrap(~Sex) +\r\n  ggtitle(\u0022Survivors by gender, age vs fare\u0022) +\r\n  labs(colour = \u0022Survived\u0022)\r\n```\r\n\r\nPassengers per boarding point who survived:\r\n```{r}\r\nggplot(titanic[1:891, ],\r\n       aes(factor(Embarked),\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  ggtitle(\u0022Survivors according to boarding point\u0022) +\r\n  xlab(\u0022Boarding point\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022)\r\n```\r\n\r\nWow, so.. people who boarded from Southampton were more likely to die.. Interesting.\r\n\r\nNext, checking gender for each class who survived:\r\n```{r}\r\nggplot(titanic[1:891, ] %\u003e% filter(Survived == 1),\r\n       aes(Sex)) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  facet_grid(~Pclass) +\r\n  ggtitle(\u0022Survivors according to gender for each class\u0022) +\r\n  ylab(\u0022No of people\u0022)\r\n```\r\n\r\nIt seems that there are more female survivors, as seen earlier too.\r\n\r\n### Exploring the names\r\n\r\nObserving the names, we see that each person has a *title* for themselves. We can try to extract them and put them in a new variable **title** - `title`.\r\n```{r}\r\nhead(titanic$Name)\r\n\r\ntitanic$title \u003c- gsub(\u0027(.*, )|(\\\\..*)\u0027, \u0027\u0027, titanic$Name)\r\n\r\nunique(titanic$title)\r\n\r\ntable(titanic$title, titanic$Sex)\r\n\r\nrare_title \u003c- c(\u0027Dona\u0027, \u0027Lady\u0027, \u0027the Countess\u0027,\u0027Capt\u0027, \u0027Col\u0027, \u0027Don\u0027, \r\n                \u0027Dr\u0027, \u0027Major\u0027, \u0027Rev\u0027, \u0027Sir\u0027, \u0027Jonkheer\u0027)\r\n\r\n\r\ntitanic$title[titanic$title == \u0027Mlle\u0027]        \u003c- \u0027Miss\u0027 \r\ntitanic$title[titanic$title == \u0027Ms\u0027]          \u003c- \u0027Miss\u0027\r\ntitanic$title[titanic$title == \u0027Mme\u0027]         \u003c- \u0027Mrs\u0027 \r\ntitanic$title[titanic$title %in% rare_title]  \u003c- \u0027Rare Title\u0027\r\n\r\ntable(titanic$title, titanic$Sex)\r\n```\r\n\r\nWe can also get the surnames from the **Name**.\r\n```{r}\r\ntitanic$surname \u003c- sapply(titanic$Name, function(x) strsplit(x, split = \u0027[,.]\u0027)[[1]][1])\r\n\r\nhead(titanic$surname)\r\nlength(unique(titanic$surname))\r\n```\r\n\r\nWow, there are 875 unique surnames. I don\u0027t know how to proceed with this, other than manually searching and sorting them from the internet. If anyone knows a better way, please let me know.\r\n\r\n# Missing values\r\n\r\n## Logical imputation\r\n\r\nThere are some missing values in **Embarked**.\r\n```{r}\r\n\r\nunique(titanic$Embarked)\r\n\r\nwhich(titanic$Embarked == \u0022\u0022)\r\n\r\ntitanic[which(titanic$Embarked == \u0022\u0022), ]\r\n\r\ntitanic[c(62,830), ]\r\n\r\ntitanic %\u003e% filter(PassengerId != 62 \u0026 PassengerId != 830 \u0026 Pclass == 1) %\u003e% group_by(Embarked) %\u003e% summarise(n = median(Fare))\r\n```\r\n\r\nSince median fare for class 1 passenger is close to 80 (ie 77), we can assume that the passenger leaves from \u0022C\u0022.\r\n```{r}\r\ntitanic$Embarked[c(62,830)] \u003c- \u0022C\u0022\r\n```\r\n\r\nBut hey, according to [Encyclopedia Titanica](http://www.encyclopedia-titanica.org/titanic-survivor/amelia-icard.html), they both boarded at Southampton. So, cross referencing with facts, we have to change this.\r\n```{r}\r\ntitanic$Embarked[c(62,830)] \u003c- \u0022S\u0022\r\n```\r\n\r\n\r\nNow we\u0027ll plot the survivors according to boarding point again.\r\n```{r}\r\nggplot(titanic[1:891, ],\r\n       aes(factor(Embarked),\r\n           fill = factor(Survived))) +\r\n  geom_bar(stat = \u0022count\u0022,\r\n           position = \u0022dodge\u0022) +\r\n  ggtitle(\u0022Survivors according to boarding point\u0022) +\r\n  xlab(\u0022Boarding point\u0022) +\r\n  ylab(\u0022No of survivors\u0022) +\r\n  labs(fill = \u0022Survived\u0022)\r\n```\r\n\r\n### Fare imputation\r\n\r\nThere is one null value in Fare\r\n```{r}\r\nsum(is.na(titanic$Fare))\r\n```\r\n\r\nWe will try to impute it based on the info on that record.\r\n```{r}\r\nwhich(is.na(titanic$Fare))\r\n\r\ntitanic[which(is.na(titanic$Fare)), ]\r\n\r\ntitanic %\u003e% filter(Pclass == 3 \u0026 Embarked == \u0022S\u0022) %\u003e% summarise(n = median(Fare, na.rm = TRUE))\r\n\r\nggplot(titanic %\u003e% filter(Pclass == 3 \u0026 Embarked == \u0022S\u0022),\r\n       aes(x = Fare)) +\r\n  geom_density() +\r\n  geom_vline(xintercept = 8)\r\n\r\ntitanic$Fare[which(is.na(titanic$Fare))] \u003c- median(titanic[titanic$Pclass == 3 \u0026 titanic$Embarked == \u0022S\u0022, ]$Fare, na.rm = TRUE)\r\n\r\ntitanic[1044, \u0022Fare\u0022]\r\n```\r\n\r\n### Cabin imputation\r\n```{r}\r\nstr(titanic)\r\n\r\ntitanic %\u003e% group_by(Pclass, Deck, Embarked) %\u003e% summarise(mean = mean(Fare, na.rm = TRUE))\r\ntitanic %\u003e% group_by(Pclass, Deck, Embarked) %\u003e% summarise(med = median(Fare, na.rm = TRUE))\r\ntitanic %\u003e% group_by(Pclass, Deck, Embarked) %\u003e% summarise(min = min(Fare, na.rm = TRUE))\r\ntitanic %\u003e% group_by(Pclass, Deck, Embarked) %\u003e% summarise(max = max(Fare, na.rm = TRUE))\r\n```\r\n\r\nThe idea is that it might be possible to impute the **Deck** variable, with the **Pclass**, **Embarked**, **Fare**, and if possible **Ticket** too. Of course, it is easier to use packages like `mice` or `missForest` but I prefer implementing some logic rather than let a random prediction take its course. If anyone has any suggestions on how I can proceed for this, please let me know. I will be skipping this step for now.\r\n\r\n\r\n### Age imputation\r\n\r\nFor imputing age, there are many methods. Two such methods I am aware of are using MICE and randomForest. We\u0027ll define a new column, which says the type of a person\u0027s age, i.e. `age_type` will be *child* or *adult* or *senior*. A third and fourth method which I propose is to use the median age for each class gender wise, and to use ages selected randomly from each class gender wise.\r\n\r\n```{r}\r\nquantile(titanic[titanic$title == \u0022Mr\u0022, ]$Age, na.rm = TRUE)\r\nquantile(titanic[titanic$title == \u0022Mrs\u0022, ]$Age, na.rm = TRUE)\r\n\r\nquantile(titanic[titanic$title == \u0022Mr\u0022, ]$Age, na.rm = TRUE, .05)\r\nquantile(titanic[titanic$title == \u0022Mrs\u0022, ]$Age, na.rm = TRUE, .05)\r\n```\r\n\r\nWe see that people got married at a very young age. Thus, we will use 16 as a good partition for classifying whether or not a person is a child/adult and 60 for adult/senior citizen partition.\r\n\r\n```{r}\r\ntitanic \u003c- titanic %\u003e% mutate(age_type = ifelse(Age \u003c 16, \u0022Child\u0022, ifelse(Age \u003c 60, \u0022Adult\u0022, \u0022Senior\u0022)))\r\n\r\ntitanic %\u003e% group_by(Pclass, age_type, Sex) %\u003e% summarise(age = median(Age, na.rm = TRUE))\r\n\r\ntitanic %\u003e% filter(Age \u003c 16) %\u003e% group_by(Pclass, Sex) %\u003e% summarise(age = median(Age, na.rm = TRUE), age_mean = mean(Age, na.rm = TRUE), age_sd = sd(Age, na.rm = TRUE))\r\n\r\ntitanic %\u003e% filter(Age \u003e= 16 \u0026 Age \u003c 60) %\u003e% group_by(Pclass, Sex) %\u003e% summarise(age = median(Age, na.rm = TRUE), age_mean = mean(Age, na.rm = TRUE), age_sd = sd(Age, na.rm = TRUE))\r\n\r\ntitanic %\u003e% filter(Age \u003e= 60) %\u003e% group_by(Pclass, Sex) %\u003e% summarise(age = median(Age, na.rm = TRUE), age_mean = mean(Age, na.rm = TRUE), age_sd = sd(Age, na.rm = TRUE))\r\n```\r\n\r\nWe will use the mice package to impute the age for now.\r\n\r\n```{r}\r\nsum(is.na(titanic$Age))\r\n\r\nmice_titanic \u003c- mice(data = titanic[ , !names(titanic) %in% c(\u0022PassengerId\u0022, \u0022Survived\u0022, \u0022Name\u0022, \u0022Ticket\u0022, \u0022Cabin\u0022, \u0022surname\u0022, \u0022age_type\u0022)], m = 3, method = \u0022rf\u0022, maxit = 20, seed = 765)\r\n\r\nmice_titanic_op \u003c- complete(mice_titanic)\r\n\r\nggplot() +\r\n  geom_density(aes(x = titanic$Age, col = \u0022blue\u0022)) +\r\n  geom_density(aes(x = mice_titanic_op$Age, col = \u0022red\u0022)) +\r\n  ggtitle(\u0022Distribution of age in original and imputed data set\u0022) +\r\n  xlab(\u0022Age\u0022) +\r\n  ylab(\u0022Density\u0022) +\r\n  labs(col = \u0022Colour\u0022) +\r\n  scale_color_manual(labels = c(\u0022titanic\u0022, \u0022mice\u0022), values = c(\u0022blue\u0022, \u0022red\u0022))\r\n```\r\n\r\nThe distribution looks good. So we will impute the data.\r\n```{r}\r\ntitanic$Age \u003c- mice_titanic_op$Age\r\n```\r\n\r\n\r\n### Age type with imputed ages\r\n```{r}\r\ntitanic \u003c- titanic %\u003e% mutate(age_type = ifelse(Age \u003c 16, \u0022Child\u0022, ifelse(Age \u003c 60, \u0022Adult\u0022, \u0022Senior\u0022)))\r\n```\r\n\r\n\r\n# Prediction models\r\n\r\nNow we will build a prediction model with decision tree.\r\n```{r}\r\ntitanic_factors \u003c- titanic\r\n\r\nstr(titanic_factors)\r\ntitanic_factors$Survived \u003c- as.factor(titanic_factors$Survived)\r\ntitanic_factors$Pclass \u003c- as.factor(titanic_factors$Pclass)\r\ntitanic_factors$Sex \u003c- as.factor(titanic_factors$Sex)\r\ntitanic_factors$Embarked \u003c- as.factor(titanic_factors$Embarked)\r\ntitanic_factors$fam_type \u003c- as.factor(titanic_factors$fam_type)\r\ntitanic_factors$title \u003c- as.factor(titanic_factors$title)\r\ntitanic_factors$age_type \u003c- as.factor(titanic_factors$age_type)\r\n\r\nstr(titanic_factors)\r\n\r\ntitanic_train \u003c- titanic_factors[1:891, ]\r\ntitanic_test \u003c- titanic_factors[892:1309, ]\r\n\r\ntitanic_model_4 \u003c- tree(Survived ~ Pclass + Sex + Age + SibSp + Parch + Embarked + fam_type + title + age_type + Fare, data = titanic_train )\r\n\r\ntitanic_tree_pred \u003c- predict(titanic_model_4, titanic_test, type = \u0022class\u0022)\r\n\r\nsubmission \u003c- data.frame(PassengerId = titanic_test$PassengerId, Survived = titanic_tree_pred)\r\n\r\nwrite.csv(submission, file = \u0022submission_tree.csv\u0022, row.names = FALSE)\r\n```\r\n\r\n```{r, echo = FALSE}\r\n# titanic_model_3 \u003c- randomForest(Survived ~ Pclass + Sex + Age + SibSp + Parch + Embarked + fam_type + title + age_type + Fare, data = titanic_train )\r\n# \r\n# titanic_rf_pred \u003c- predict(titanic_model_3, titanic_test, type = \u0022class\u0022)\r\n# \r\n# submission \u003c- data.frame(PassengerId = titanic_test$PassengerId, Survived = titanic_rf_pred)\r\n# \r\n# write.csv(submission, file = \u0022submission_rf.csv\u0022, row.names = FALSE)\r\n\r\n# titanic_model_1 \u003c- tree(Survived~ Pclass+Sex+Age+SibSp+Fare, data = titanic_train)\r\n# titanic_tree_pred_1 \u003c- predict(titanic_model_1, titanic_test, type = \u0022class\u0022)\r\n# \r\n# submission \u003c- titanic_test\r\n# \r\n# submission$Survived \u003c- titanic_tree_pred_1\r\n# \r\n# submission2 \u003c- submission[,c(\u0022PassengerId\u0022, \u0022Survived\u0022)]\r\n# \r\n# write.csv(x = submission2,file = \u0022submission_2.csv\u0022, row.names = FALSE)\r\n\r\n```\r\n\r\n# Conclusion\r\n\r\nThis was my first kaggle submission. I learnt a lot. The entire process can be improved in many many ways. Looking forward to suggestions from people. :)\r\n\r\n\r\n## Credits\r\n\r\nThank you for helping me out [Kumar Halake](https://www.kaggle.com/kumarhalake), [Megan Risdal\u0027s notebook](https://www.kaggle.com/mrisdal/exploring-survival-on-the-titanic/notebook), [Hari Anantaraman](https://www.kaggle.com/clairvoyance), [Deepu Dilip](https://www.kaggle.com/dd2908).\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","dateCreated":"2017-11-30T05:32:33.493Z"},"resources":null,"isolatorResults":"\u003cresults\u003e\u003cdisk_kb_free\u003e941068\u003c/disk_kb_free\u003e\u003cdocker_image_id\u003esha256:9ea6ab1a817a1c4f71202acf3ca1f13ed730b1ba200a9514ac3a2f628fd6cbca\u003c/docker_image_id\u003e\u003cdocker_image_name\u003egcr.io/kaggle-images/rstats\u003c/docker_image_name\u003e\u003cexit_code\u003e0\u003c/exit_code\u003e\u003cfailure_message /\u003e\u003cout_of_memory\u003eFalse\u003c/out_of_memory\u003e\u003crun_time_seconds\u003e114.933382077958\u003c/run_time_seconds\u003e\u003csucceeded\u003eTrue\u003c/succeeded\u003e\u003ctimeout_exceeded\u003eFalse\u003c/timeout_exceeded\u003e\u003cused_all_space\u003eFalse\u003c/used_all_space\u003e\u003cwas_killed\u003eFalse\u003c/was_killed\u003e\u003c/results\u003e","runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageDigest":null,"dockerImageId":"sha256:9ea6ab1a817a1c4f71202acf3ca1f13ed730b1ba200a9514ac3a2f628fd6cbca","dockerImageName":"kaggle/rstats","diskKbFree":941068,"failureMessage":"","exitCode":0,"queuedSeconds":0,"outputSizeBytes":0,"runTimeSeconds":114.933382077958,"usedAllSpace":false,"timeoutExceeded":false,"isValidStatus":false,"wasGpuEnabled":false,"wasInternetEnabled":false,"outOfMemory":false,"invalidPathErrors":false,"succeeded":true,"wasKilled":false},"outputFilesTotalSizeBytes":4245332,"dockerImageVersionId":null,"usedCustomDockerImage":false},"author":{"id":1243806,"displayName":"Kishore Vancheeshwaran","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"kishvanchee","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","profileUrl":"/kishvanchee","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":1,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"baseUrl":"/kishvanchee/titanic-exploration-and-prediction","collaborators":{"owner":{"userId":1243806,"groupId":null,"groupMemberCount":null,"profileUrl":"/kishvanchee","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","name":"Kishore Vancheeshwaran","slug":"kishvanchee","userTier":1,"joinDate":null,"type":"owner","isUser":true,"isGroup":false},"collaborators":[]},"initialTab":null,"log":"[{\n  \u0022data\u0022: \u0022\\n\\nprocessing file: script.Rmd\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 2.4559431659290567\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |                                                                 |   0%\\r  |                                                                       \\r  |.                                                                |   2%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 2.5839585210196674\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..                                                               |   3%\\nlabel: setup (with options) \\nList of 1\\n $ include: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 2.6147701389854774\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...                                                              |   5%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 2.668521230923943\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....                                                             |   7%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 2.700337365968153\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-1 (with options) \\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 2.775372348027304\n},{\n  \u0022data\u0022: \u0022List of 1\\n $ message: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 2.806500816019252\n},{\n  \u0022data\u0022: \u0022\\nAttaching package: \u0027dplyr\u0027\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.0824182669166476\n},{\n  \u0022data\u0022: \u0022The following objects are masked from \u0027package:stats\u0027:\\n\\n    filter, lag\\n\\nThe following objects are masked from \u0027package:base\u0027:\\n\\n    intersect, setdiff, setequal, union\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.146212805993855\n},{\n  \u0022data\u0022: \u0022Loading required package: methods\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.2287624860182405\n},{\n  \u0022data\u0022: \u0022Loading required package: lattice\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.259772273944691\n},{\n  \u0022data\u0022: \u0022randomForest 4.6-12\\nType rfNews() to see new features/changes/bug fixes.\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 4.220952556002885\n},{\n  \u0022data\u0022: \u0022\\nAttaching package: \u0027randomForest\u0027\\n\\nThe following object is masked from \u0027package:ggplot2\u0027:\\n\\n    margin\\n\\nThe following object is masked from \u0027package:dplyr\u0027:\\n\\n    combine\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 4.252205178956501\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....                                                            |   8%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |......                                                           |  10%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.267981006996706\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-2\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.298986905021593\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......                                                          |  11%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.........                                                        |  13%\\nlabel: unnamed-chunk-3\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.329505508998409\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........                                                       |  15%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.392107413965277\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........                                                      |  16%\\nlabel: unnamed-chunk-4\\n\\r  |                                                                       \\r  |............                                                     |  18%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............                                                    |  20%\\nlabel: unnamed-chunk-5\\n\\r  |                                                                       \\r  |..............                                                   |  21%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...............                                                  |  23%\\nlabel: unnamed-chunk-6\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.422854773001745\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................                                                 |  25%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.................                                                |  26%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.728361940942705\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-7\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.7633450869470835\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..................                                               |  28%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...................                                              |  30%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.725273018004373\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-8\\n\\r  |                                                                       \\r  |....................                                             |  31%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.....................                                            |  33%\\nlabel: unnamed-chunk-9\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.75770927593112\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......................                                           |  34%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.......................                                          |  36%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 8.842254615970887\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-10\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 8.874941300950013\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................                                        |  38%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..........................                                       |  39%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 9.720251161954366\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-11 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 9.7532126349397\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........................                                      |  41%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |............................                                     |  43%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 10.328600215027109\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-12\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 10.366009871009737\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.............................                                    |  44%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..............................                                   |  46%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 10.790227173012681\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-13\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 10.822477547917515\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................                                  |  48%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |................................                                 |  49%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.376585885998793\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-14\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.408718722988851\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................................                                |  51%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..................................                               |  52%\\nlabel: unnamed-chunk-15\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.438917959923856\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...................................                              |  54%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |....................................                             |  56%\\nlabel: unnamed-chunk-16\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.469403258990496\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....................................                            |  57%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |......................................                           |  59%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.509253856958821\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-17\\n\\r  |                                                                       \\r  |.......................................                          |  61%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........................................                         |  62%\\nlabel: unnamed-chunk-18\\n\\r  |                                                                       \\r  |..........................................                       |  64%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...........................................                      |  66%\\nlabel: unnamed-chunk-19\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.540457932977006\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................................                     |  67%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............................................                    |  69%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 12.014948199968785\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-20\\n\\r  |                                                                       \\r  |..............................................                   |  70%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...............................................                  |  72%\\nlabel: unnamed-chunk-21\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 12.056952527025715\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................................................                 |  74%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.................................................                |  75%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 12.412781600025482\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-22\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 12.444925685995258\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..................................................               |  77%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...................................................              |  79%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 12.675107197952457\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-23\\n\\r  |                                                                       \\r  |....................................................             |  80%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.....................................................            |  82%\\nlabel: unnamed-chunk-24\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 12.707597311935388\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......................................................           |  84%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.......................................................          |  85%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 12.812803604989313\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-25\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 12.844586472027004\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |........................................................         |  87%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..........................................................       |  89%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 114.53370724094566\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-26\\n\\r  |                                                                       \\r  |...........................................................      |  90%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |............................................................     |  92%\\nlabel: unnamed-chunk-27\\n\\r  |                                                                       \\r  |.............................................................    |  93%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..............................................................   |  95%\\nlabel: unnamed-chunk-28\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 114.56743215501774\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................................................  |  97%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |................................................................ |  98%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 114.6893226809334\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-29 (with options) \\nList of 1\\n $ echo: logi FALSE\\n\\n\\r  |                                                                       \\r  |.................................................................| 100%\\n  ordinary text without R code\\n\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 114.72090356692206\n},{\n  \u0022data\u0022: \u0022output file: /kaggle/working/script.knit.md\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 114.7385562909767\n},{\n  \u0022data\u0022: \u0022/usr/local/bin/pandoc +RTS -K512m -RTS /kaggle/working/script.utf8.md --to html --from markdown+autolink_bare_uris+ascii_identifiers+tex_math_single_backslash --output /kaggle/working/__results__.html --smart --email-obfuscation none --standalone --section-divs --table-of-contents --toc-depth 3 --template /usr/local/lib/R/site-library/rmarkdown/rmd/h/default.html --no-highlight --variable highlightjs=1 --variable \u0027theme:bootstrap\u0027 --include-in-header /tmp/RtmpM9kxJz/rmarkdown-str128fab085.html --mathjax --variable \u0027mathjax-url:https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\u0027 \\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 114.89738762192428\n},{\n  \u0022data\u0022: \u0022\\nOutput created: __results__.html\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 115.05269697296899\n},{\n  \u0022data\u0022: \u0022Warning messages:\\n1: Removed 177 rows containing missing values (geom_point). \\n2: Removed 1 rows containing non-finite values (stat_density). \\n3: Removed 263 rows containing non-finite values (stat_density). \\n4: In file.rename(from, to) :\\n  cannot rename file \u0027/kaggle/working/__results___files/figure-html\u0027 to \u0027/kaggle/working//kaggle/working/__results___files/figure-html\u0027, reason \u0027No such file or directory\u0027\\n5: In file.rename(from, to) :\\n  cannot rename file \u0027/kaggle/working//kaggle/working/__results___files/figure-html\u0027 to \u0027/kaggle/working/__results___files/figure-html\u0027, reason \u0027No such file or directory\u0027\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 115.08473022002727\n}]","outputFiles":[{"ownerInfo":null,"kernelVersionOutputFileId":8704912,"kernelVersionId":1835916,"kernelId":462696,"size":0,"fullPath":"submission_tree.csv","previewUrl":"/kernels/preview.json/1835916/8d52519e-c39c-242e-fcac-2749e52513ae/submission_tree.csv","downloadUrl":"https://www.kaggleusercontent.com/kf/1835916/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..CVkCW2rhfY1jM5GZR3hikw.LOr4vP5OF_JoUfzvWAsw2XNmqBMt6LnooxqxnqY8EOqMa2KibKrXQpnpKmvEMBErb0nohIcXbWMLmpG3tfKUh4NfykyDYNies9RIqtTFmw59BLvfatwVX7WPavuc8I-6xJ8ZNEY94kECTB5AY7qEz4v1iBD5Ajj5ff3uCOTlYYk.NpgQZceNd5gjk1-bAO3hMg/submission_tree.csv","fileType":".csv","contentLength":3679,"contentType":null,"contentMD5":null,"validationErrors":null,"type":"kernelOutputFile","collapsed":false,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"submission_tree.csv","description":null}],"outputFilesCropped":false,"ouputFilesOwnerInfo":{"databundleVersionId":0,"dataset":null,"competition":null,"kernel":{"kernelId":462696,"kernelVersionId":1835916,"dataviewToken":"eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..DbJ0H_Nos5jxNhDi3CM7VA.05Z-f4PDyZJ0gqpzxwbyjb_8_RBU1e3qrMtIhNk3kKu16mIXouFa17KbzeC_cVg9X7hox3ymsTf1NNscEiOMfRremuIhL406kv1NwmJpQaryAFqrH_eCqV7V6bnO66EzdwFb38RvZapTRE2LkFmMWOsrQSY58JJOFVKl9ozbV4FvbG6d7l-hvu6fRpaQ9nUf46J0MyriaBHTaX6ux-OwJe8zr4MEN7xeN9GLYplJNARXmSuewhxmkkOk4mnFk0MQK63PTVoLTko4JZqoWB9qxTR52_qNoHLvqNs7gsFTXX2fmGVOfKLPc4_kOvRWUMnRoNLnGspQWlTcXoMeJP2bp6IKE80Z5WkCSB1NC5plUHTl9FWxWnSGQC-5uIU136UzxvGG2hUrQ43mn5RDsYzSraGstW9Qtwnjhpsoch8Hwh6FN4lw4cuvOyryFBsiK6KVLLi7eQdUsPcQctkH5LYCg8vgvzkuuYRArta6jII0TnI_Pi-4IuOVKqjGqOJn3yMfsaBzQdZY8xKxx6GaczHDWeORx_B4ScbErS2qBKwnUw3HE-YlsZge5js5JUlejYj4.mocKn2PPuBYR-p6g5OqD1Q","scope":"kishvanchee/titanic-exploration-and-prediction"},"previewsDisabled":false},"pageMessages":[],"dataSources":[{"imageUrl":"https://storage.googleapis.com/kaggle-competitions/kaggle/3136/logos/thumb76_76.png","sourceUrl":"/c/titanic","slug":"titanic","lastUpdated":"2012-09-28T21:13:33.55Z","overview":"Start here! Predict survival on the Titanic and get familiar with ML basics","sourceType":"competition","sourceVersionType":null,"sourceId":3136,"sourceVersionNumber":null,"maxVersionNumber":null,"descriptionMimeType":"text/html","deleted":false,"private":false,"privateButVisible":false,"ownerInfo":{"databundleVersionId":26502,"dataset":null,"competition":{"competitionId":3136,"dataviewToken":null,"scope":"c/titanic"},"kernel":null,"previewsDisabled":true},"type":"dataSource","collapsed":false,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"id":63842,"blobFileId":37991,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/gender_submission.csv","creationDate":"2017-02-01T01:49:18Z","isDummy":false,"size":3258,"fullPath":"../input/gender_submission.csv","previewUrl":"kernels/competition-preview/3136?relativePath=gender_submission.csv","downloadUrl":"/c/titanic/download/gender_submission.csv","fileType":".csv","contentLength":3258,"contentType":"text/csv","contentMD5":"MNEHO5ZKXYFUMexgOg3jUw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"892\n893\n894\n895\n896\n897\n898\n899\n900\n901\n902\n903\n904\n905\n906\n907\n908\n909\n910\n911\n912\n913\n914\n915\n916\n917\n918\n919\n920\n921\n922\n923\n924\n925\n926\n927\n928\n929\n930\n931\n932\n933\n934\n935\n936\n937\n938\n939\n940\n941\n942\n943\n944\n945\n946\n947\n948\n949\n950\n951\n952\n953\n954\n955\n956\n957\n958\n959\n960\n961\n962\n963\n964\n965\n966\n967\n968\n969\n970\n971\n972\n973\n974\n975\n976\n977\n978\n979\n980\n981\n982\n983\n984\n985\n986\n987\n988\n989\n990\n991\n992\n993\n994\n995\n996\n997\n998\n999\n1000\n1001\n1002\n1003\n1004\n1005\n1006\n1007\n1008\n1009\n1010\n1011\n1012\n1013\n1014\n1015\n1016\n1017\n1018\n1019\n1020\n1021\n1022\n1023\n1024\n1025\n1026\n1027\n1028\n1029\n1030\n1031\n1032\n1033\n1034\n1035\n1036\n1037\n1038\n1039\n1040\n1041\n1042\n1043\n1044\n1045\n1046\n1047\n1048\n1049\n1050\n1051\n1052\n1053\n1054\n1055\n1056\n1057\n1058\n1059\n1060\n1061\n1062\n1063\n1064\n1065\n1066\n1067\n1068\n1069\n1070\n1071\n1072\n1073\n1074\n1075\n1076\n1077\n1078\n1079\n1080\n1081\n1082\n1083\n1084\n1085\n1086\n1087\n1088\n1089\n1090\n1091\n1092\n1093\n1094\n1095\n1096\n1097\n1098\n1099\n1100\n1101\n1102\n1103\n1104\n1105\n1106\n1107\n1108\n1109\n1110\n1111\n1112\n1113\n1114\n1115\n1116\n1117\n1118\n1119\n1120\n1121\n1122\n1123\n1124\n1125\n1126\n1127\n1128\n1129\n1130\n1131\n1132\n1133\n1134\n1135\n1136\n1137\n1138\n1139\n1140\n1141\n1142\n1143\n1144\n1145\n1146\n1147\n1148\n1149\n1150\n1151\n1152\n1153\n1154\n1155\n1156\n1157\n1158\n1159\n1160\n1161\n1162\n1163\n1164\n1165\n1166\n1167\n1168\n1169\n1170\n1171\n1172\n1173\n1174\n1175\n1176\n1177\n1178\n1179\n1180\n1181\n1182\n1183\n1184\n1185\n1186\n1187\n1188\n1189\n1190\n1191\n1192\n1193\n1194\n1195\n1196\n1197\n1198\n1199\n1200\n1201\n1202\n1203\n1204\n1205\n1206\n1207\n1208\n1209\n1210\n1211\n1212\n1213\n1214\n1215\n1216\n1217\n1218\n1219\n1220\n1221\n1222\n1223\n1224\n1225\n1226\n1227\n1228\n1229\n1230\n1231\n1232\n1233\n1234\n1235\n1236\n1237\n1238\n1239\n1240\n1241\n1242\n1243\n1244\n1245\n1246\n1247\n1248\n1249\n1250\n1251\n1252\n1253\n1254\n1255\n1256\n1257\n1258\n1259\n1260\n1261\n1262\n1263\n1264\n1265\n1266\n1267\n1268\n1269\n1270\n1271\n1272\n1273\n1274\n1275\n1276\n1277\n1278\n1279\n1280\n1281\n1282\n1283\n1284\n1285\n1286\n1287\n1288\n1289\n1290\n1291\n1292\n1293\n1294\n1295\n1296\n1297\n1298\n1299\n1300\n1301\n1302\n1303\n1304\n1305\n1306\n1307\n1308\n1309\n"},{"order":1,"originalType":"","type":"boolean","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Survived","description":"0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n1\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"gender_submission.csv","description":"892,0\n893,0\n894,0\n895,0\n896,0\n897,0\n898,0\n899,0\n900,0\n901,0\n902,0\n903,0\n904,1\n905,0a\n906,1\n907,0\n908,0\n909,0\n910,0\n911,0\n912,1\n913,0\n914,0\n915,0\n916,1\n917,0\n918,0\n919,0\n920,0\n921,0\n922,0\n923,0\n924,0\n925,0\n926,1\n927,0\n928,0\n929,0\n930,0\n931,1\n932,0\n933,0\n934,0\n935,0\n936,1\n937,0\n938,0\n939,0\n940,1\n941,0\n942,1\n943,0\n944,0\n945,1\n946,0\n947,0\n948,0\n949,0\n950,0\n951,1\n952,0\n953,0\n954,0\n955,0\n956,1\n957,0\n958,0\n959,0\n960,0\n961,1\n962,\n963,0\n964,0\n965,0\n966,1\n967,1\n968,0\n969,0\n970,0\n971,0\n972,0\n973,1\n974,0\n975,0\n976,0\n977,0\n978,0\n979,0\n980,0\n981,0\n982,0\n983,0\n984,0\n985,0\n986,0\n987,0\n988,1\n989,0\n990,0\n991,0\n992,1\n993,0\n994,0\n995,0\n996,0\n997,0\n998,0\n999,0\n1000,0\n1001,0\n1002,0\n1003,0\n1004,0\n1005,0\n1006,1\n1007,0\n1008,0\n1009,0\n1010,1\n1011,0\n1012,0\n1013,0\n1014,1\n1015,0\n1016,0\n1017,0\n1018,0\n1019,0\n1020,0\n1021,0\n1022,0\n1023,0\n1024,0\n1025,0\n1026,0\n1027,0\n1028,0\n1029,0\n1030,0\n1031,0\n1032,0\n1033,1\n1034,1\n1035,0\n1036,0\n1037,0\n1038,1\n1039,0\n1040,0\n1041,0\n1042,1\n1043,0\n1044,0\n1045,0\n1046,0\n1047,0\n1048,1\n1049,0\n1050,0\n1051,0\n1052,0\n1053,0\n1054,0\n1055,0\n1056,0\n1057,0\n1058,1\n1059,0\n1060,0\n1061,0\n1062,0\n1063,0\n1064,0\n1065,0\n1066,0\n1067,0\n1068,0\n1069,1\n1070,0\n1071,1\n1072,0\n1073,1\n1074,1\n1075,0\n1076,1\n1077,0\n1078,0\n1079,0\n1080,1\n1081,0\n1082,0\n1083,0\n1084,0\n1085,0\n1086,0\n1087,0\n1088,1\n1089,0\n1090,0\n1091,0\n1092,0\n1093,0\n1094,1\n1095,0\n1096,0\n1097,0\n1098,0\n1099,0\n1100,0\n1101,0\n1102,0\n1103,0\n1104,1\n1105,0\n1106,0\n1107,0\n1108,0\n1109,1\n1110,1\n1111,0\n1112,0\n1113,0\n1114,0\n1115,0\n1116,0\n1117,0\n1118,0\n1119,0\n1120,0\n1121,0\n1122,1\n1123,0\n1124,0\n1125,0\n1126,1\n1127,0\n1128,1\n1129,0\n1130,0\n1131,1\n1132,0\n1133,0\n1134,1\n1135,0\n1136,0\n1137,1\n1138,0\n1139,0\n1140,0\n1141,0\n1142,0\n1143,0\n1144,1\n1145,0\n1146,0\n1147,0\n1148,0\n1149,0\n1150,0\n1151,0\n1152,0\n1153,0\n1154,0\n1155,0\n1156,0\n1157,0\n1158,0\n1159,0\n1160,0\n1161,0\n1162,1\n1163,0\n1164,1\n1165,0\n1166,0\n1167,0\n1168,0\n1169,0\n1170,0\n1171,0\n1172,0\n1173,0\n1174,0\n1175,0\n1176,0\n1177,0\n1178,0\n1179,1\n1180,0\n1181,0\n1182,0\n1183,0\n1184,0\n1185,1\n1186,0\n1187,0\n1188,0\n1189,0\n1190,1\n1191,0\n1192,0\n1193,0\n1194,0\n1195,0\n1196,0\n1197,0\n1198,1\n1199,0\n1200,1\n1201,0\n1202,0\n1203,0\n1204,0\n1205,0\n1206,1\n1207,0\n1208,1\n1209,0\n1210,0\n1211,0\n1212,0\n1213,0\n1214,0\n1215,0\n1216,1\n1217,0\n1218,0\n1219,1\n1220,0\n1221,0\n1222,0\n1223,0\n1224,0\n1225,0\n1226,0\n1227,0\n1228,0\n1229,0\n1230,0\n1231,0\n1232,0\n1233,0\n1234,1\n1235,1\n1236,0\n1237,0\n1238,0\n1239,0\n1240,0\n1241,0\n1242,1\n1243,0\n1244,1\n1245,1\n1246,0\n1247,0\n1248,1\n1249,0\n1250,0\n1251,0\n1252,1\n1253,0\n1254,0\n1255,0\n1256,1\n1257,1\n1258,0\n1259,0\n1260,0\n1261,0\n1262,0\n1263,1\n1264,0\n1265,0\n1266,1\n1267,1\n1268,0\n1269,0\n1270,1\n1271,0\n1272,0\n1273,0\n1274,0\n1275,0\n1276,0\n1277,1\n1278,0\n1279,0\n1280,0\n1281,0\n1282,1\n1283,0\n1284,0\n1285,0\n1286,0\n1287,1\n1288,0\n1289,1\n1290,0\n1291,0\n1292,1\n1293,0\n1294,0\n1295,1\n1296,0\n1297,0\n1298,0\n1299,1\n1300,0\n1301,0\n1302,0\n1303,1\n1304,0\n1305,0\n1306,1\n1307,0\n1308,0\n1309,0"},{"id":63841,"blobFileId":2613,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/test.csv","creationDate":"2013-06-28T13:40:24.227Z","isDummy":false,"size":28629,"fullPath":"../input/test.csv","previewUrl":"kernels/competition-preview/3136?relativePath=test.csv","downloadUrl":"/c/titanic/download/test.csv","fileType":".csv","contentLength":28629,"contentType":"text/csv","contentMD5":"dTO4Lq5LWCYQy9aKpjawFw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"1"},{"order":1,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Pclass","description":"1"},{"order":2,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Name","description":"the name of the passenger"},{"order":3,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Sex","description":null},{"order":4,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Age","description":null},{"order":5,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"SibSp","description":"of siblings / spouses aboard the Titanic"},{"order":6,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Parch","description":"of parents / children aboard the Titanic"},{"order":7,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Ticket","description":"Ticket number"},{"order":8,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Fare","description":"Passenger fare"},{"order":9,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Cabin","description":"Cabin number"},{"order":10,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Embarked","description":"Port of Embarkation"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"test.csv","description":"test data to check the accuracy of the model created\n"},{"id":63840,"blobFileId":2307,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/train.csv","creationDate":"2013-06-28T13:40:25.23Z","isDummy":false,"size":61194,"fullPath":"../input/train.csv","previewUrl":"kernels/competition-preview/3136?relativePath=train.csv","downloadUrl":"/c/titanic/download/train.csv","fileType":".csv","contentLength":61194,"contentType":"text/csv","contentMD5":"IwnMXwR4Ltm7YBbZ9OOBzw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":891},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"type should be integers"},{"order":1,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Survived","description":"Survived or Not "},{"order":2,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Pclass","description":"Class of Travel"},{"order":3,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Name","description":"Name of Passenger"},{"order":4,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Sex","description":"Gender"},{"order":5,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Age","description":"Age of Passengers"},{"order":6,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"SibSp","description":"Number of Sibling/Spouse aboard"},{"order":7,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Parch","description":"Number of Parent/Child aboard"},{"order":8,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Ticket","description":null},{"order":9,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Fare","description":null},{"order":10,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Cabin","description":null},{"order":11,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Embarked","description":"The port in which a passenger has embarked. C - Cherbourg, S - Southampton, Q = Queenstown"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"train.csv","description":"contains data \n"}],"name":"Titanic: Machine Learning from Disaster","description":"\u003ch3\u003eOverview\u003c/h3\u003e\n\u003cp\u003eThe data has been split into two groups:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003etraining set (train.csv)\u003c/li\u003e\n\u003cli\u003etest set (test.csv)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cb\u003e The training set \u003c/b\u003eshould be used to build your machine learning models. For the training set, we provide the outcome (also known as the “ground truth”) for each passenger. Your model will be based on “features” like passengers’ gender and class. You can also use \u003ca href=\u0022https://triangleinequality.wordpress.com/2013/09/08/basic-feature-engineering-with-the-titanic-data/\u0022 target=\u0022_blank\u0022\u003e feature engineering \u003c/a\u003eto create new features.\u003c/p\u003e\n\u003cp\u003e\u003cb\u003eThe test set \u003c/b\u003eshould be used to see how well your model performs on unseen data. For the test set, we do not provide the ground truth for each passenger. It is your job to predict these outcomes. For each passenger in the test set, use the model you trained to predict whether or not they survived the sinking of the Titanic.\u003c/p\u003e\n\u003cp\u003eWe also include \u003cb\u003egender_submission.csv\u003c/b\u003e, a set of predictions that assume all and only female passengers survive, as an example of what a submission file should look like.\u003c/p\u003e\n\u003ch3\u003eData Dictionary\u003c/h3\u003e\n\u003ctable style=\u0022width: 100%;\u0022\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\u003cth\u003e\u003cb\u003eVariable\u003c/b\u003e\u003c/th\u003e\u003cth\u003e\u003cb\u003eDefinition\u003c/b\u003e\u003c/th\u003e\u003cth\u003e\u003cb\u003eKey\u003c/b\u003e\u003c/th\u003e\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esurvival\u003c/td\u003e\n\u003ctd\u003eSurvival\u003c/td\u003e\n\u003ctd\u003e0 = No, 1 = Yes\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003epclass\u003c/td\u003e\n\u003ctd\u003eTicket class\u003c/td\u003e\n\u003ctd\u003e1 = 1st, 2 = 2nd, 3 = 3rd\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esex\u003c/td\u003e\n\u003ctd\u003eSex\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eAge\u003c/td\u003e\n\u003ctd\u003eAge in years\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esibsp\u003c/td\u003e\n\u003ctd\u003e# of siblings / spouses aboard the Titanic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eparch\u003c/td\u003e\n\u003ctd\u003e# of parents / children aboard the Titanic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eticket\u003c/td\u003e\n\u003ctd\u003eTicket number\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efare\u003c/td\u003e\n\u003ctd\u003ePassenger fare\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ecabin\u003c/td\u003e\n\u003ctd\u003eCabin number\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eembarked\u003c/td\u003e\n\u003ctd\u003ePort of Embarkation\u003c/td\u003e\n\u003ctd\u003eC = Cherbourg, Q = Queenstown, S = Southampton\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003eVariable Notes\u003c/h3\u003e\n\u003cp\u003e\u003cb\u003epclass\u003c/b\u003e: A proxy for socio-economic status (SES)\u003cbr /\u003e 1st = Upper\u003cbr /\u003e 2nd = Middle\u003cbr /\u003e 3rd = Lower\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003eage\u003c/b\u003e: Age is fractional if less than 1. If the age is estimated, is it in the form of xx.5\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003esibsp\u003c/b\u003e: The dataset defines family relations in this way...\u003cbr /\u003e Sibling = brother, sister, stepbrother, stepsister\u003cbr /\u003e Spouse = husband, wife (mistresses and fiancés were ignored)\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003eparch\u003c/b\u003e: The dataset defines family relations in this way...\u003cbr /\u003e Parent = mother, father\u003cbr /\u003e Child = daughter, son, stepdaughter, stepson\u003cbr /\u003e Some children travelled only with a nanny, therefore parch=0 for them.\u003c/p\u003e"}],"versions":[{"id":1835916,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-11-30T05:32:33.493Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":466,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:9ea6ab1a817a1c4f71202acf3ca1f13ed730b1ba200a9514ac3a2f628fd6cbca","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":114.933382077958,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic exploration and Prediction","url":"/kishvanchee/titanic-exploration-and-prediction?scriptVersionId=1835916","versionNumber":1,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null}],"categories":{"categories":[],"type":"script"},"submitToCompetitionInfo":null,"downloadAllFilesUrl":"/kernels/svzip/1835916","submission":{"date":"2017-11-30T05:47:53.517Z","privateScore":null,"publicScore":"0.79425","submissionId":6001666,"teamName":"Kishore Vancheeshwaran"},"menuLinks":[{"href":"/kishvanchee/titanic-exploration-and-prediction/notebook","text":"Report","title":"Notebook","tab":"report","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/kishvanchee/titanic-exploration-and-prediction/code","text":"Code","title":"Code","tab":"code","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/kishvanchee/titanic-exploration-and-prediction/data","text":"Data","title":"Data","tab":"data","count":1,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/kishvanchee/titanic-exploration-and-prediction/output","text":"Output","title":"Output","tab":"output","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/kishvanchee/titanic-exploration-and-prediction/comments","text":"Comments","title":"Comments","tab":"comments","count":1,"showZeroCountExplicitly":true,"reportEventCategory":null,"reportEventType":null},{"href":"/kishvanchee/titanic-exploration-and-prediction/log","text":"Log","title":"Log","tab":"log","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/kishvanchee/titanic-exploration-and-prediction/versions","text":"Versions","title":"Versions","tab":"versions","count":1,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/kishvanchee/titanic-exploration-and-prediction/forks","text":"Forks","title":"Forks","tab":"forks","count":0,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null}],"rightMenuLinks":[],"callToAction":{"href":"/kernels/fork-version/1835916","text":"Fork Script","title":"Fork Script","tab":null,"count":null,"showZeroCountExplicitly":false,"reportEventCategory":"kernels","reportEventType":"anonymousKernelForkCreation"},"voteButton":{"totalVotes":3,"hasAlreadyVotedUp":false,"hasAlreadyVotedDown":false,"canUpvote":true,"canDownvote":false,"voteUpUrl":"/kernels/vote?id=462696","voteDownUrl":null,"voters":[{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/682667-kg.jpg","displayName":"Reinhard","profileUrl":"/reisel","tier":"Contributor","tierInt":1,"userId":682667,"userName":"reisel"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/772050-kg.jpg","displayName":" RoundTable","profileUrl":"/ryu0715","tier":"Novice","tierInt":0,"userId":772050,"userName":"ryu0715"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/932832-kg.png","displayName":"KumarHalake","profileUrl":"/kumarhalake","tier":"Contributor","tierInt":1,"userId":932832,"userName":"kumarhalake"}],"currentUserInfo":null,"showVoters":true,"alwaysShowVoters":true},"parentDataSource":null,"parentName":"Titanic: Machine Learning from Disaster","parentUrl":"/c/titanic","thumbnailImageUrl":"https://storage.googleapis.com/kaggle-competitions/kaggle/3136/logos/thumb76_76.png","canWrite":false,"canAdminister":false,"datasetHidden":false,"forkParentIsRedacted":false,"forkDiffLinesChanged":0,"forkDiffLinesDeleted":0,"forkDiffLinesInserted":0,"forkDiffUrl":null,"forkParentAuthorDisplayName":null,"forkParentAuthorUrl":null,"forkParentTitle":null,"forkParentUrl":null,"canSeeDataExplorerV2":true,"canSeeRevampedViewer":true,"canSeeInnerTableOfContents":true,"canSeeCopyAndEditText":true,"simplifiedViewer":false,"kernelOutputDataset":null});performance && performance.mark && performance.mark("KernelViewer.componentCouldBootstrap");</script>

<form action="/kishvanchee/titanic-exploration-and-prediction" id="__AjaxAntiForgeryForm" method="post"><input name="X-XSRF-TOKEN" type="hidden" value="CfDJ8LdUzqlsSWBPr4Ce3rb9VL8zbwVlq6o1wW5uhYkonVME8mNznupU6GpE-WtTEyWWF5OMA1KMYeyZeUltj8Jny-0HZS0wBbaLseNC4YaplKK7Xhn3nI-jd52QEYvFnEB6fc8DmHF4aVgkpM1kc3bdnzw" /></form>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        "HTML-CSS": {
            preferredFont: "TeX",
            availableFonts: ["STIX", "TeX"],
            linebreaks: {
                automatic: true
            },
            EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
        },
        tex2jax: {
            inlineMath: [["\\(", "\\)"], ["\\\\(", "\\\\)"]],
            displayMath: [["$$", "$$"], ["\\[", "\\]"]],
            processEscapes: true,
            ignoreClass: "tex2jax_ignore|dno"
        },
        TeX: {
            noUndefined: {
                attributes: {
                    mathcolor: "red",
                    mathbackground: "#FFEEEE",
                    mathsize: "90%"
                }
            }
        },
        Macros: {
            href: "{}"
        },
        skipStartupTypeset: true,
        messageStyle: "none"
    });
</script>
<script type="text/javascript" async crossorigin="anonymous" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



    </div>

        <div class="site-layout__footer">
            <footer class="site-footer">
    <div class="site-footer__content">
        <div class="site-footer__copyright">
            <span>&copy; 2019 Kaggle Inc</span>
        </div>
        <nav class="site-footer__nav">
            <a href="/team">Our Team</a>
            <a href="/terms">Terms</a>
            <a href="/privacy">Privacy</a>
            <a href="/contact">Contact/Support</a>
        </nav>
        <nav class="site-footer__social">
            <div data-component-name="SocialIcons" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push();performance && performance.mark && performance.mark("SocialIcons.componentCouldBootstrap");</script>
        </nav>
    </div>
</footer>

        </div>
</div>




    </main>
</body>
</html>
