<!DOCTYPE html>
<html lang="en">
<head>
    <title>Titanic is back in R! | Kaggle</title>
    <meta charset="utf-8" />
    <meta name="robots" content="index, follow" />
    <meta name="turbolinks-cache-control" content="no-cache" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">    <meta name="theme-color" content="#008ABC" />
    <script type="text/javascript">
        window["initialPageLoadStartTime"] = new Date().getTime();
    </script>
    <link rel="dns-prefetch" href="https://www.google-analytics.com" /><link rel="dns-prefetch" href="https://stats.g.doubleclick.net" /><link rel="dns-prefetch" href="https://js.intercomcdn.com" /><link rel="dns-prefetch" href="https://storage.googleapis.com/" />
    <link href="/static/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link rel="manifest" href="/static/json/manifest.json">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic" rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type='text/css'/>
        <link rel="canonical" href="/haylmg/titanic-is-back-in-r" />                    <link rel="stylesheet" type="text/css" href="/static/assets/vendor.css?v=632d145d8598" />
        <link rel="stylesheet" type="text/css" href="/static/assets/app.css?v=1d00932a7505" />
    
    
 
        <script>
        try{(function(a,s,y,n,c,h,i,d,e){d=s.createElement("style");
        d.appendChild(s.createTextNode(""));s.head.appendChild(d);d=d.sheet;
        y=y.map(x => d.insertRule(x + "{ opacity: 0 !important }"));
        h.start=1*new Date;h.end=i=function(){y.forEach(x => d.deleteRule(x))};
        (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
        })(window,document,['.site-header-react__nav'],'dataLayer',2000,{'GTM-52LNT9S':true});}catch{}
    </script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-12629138-1', {
            'optimize_id': 'GTM-52LNT9S',
            'displayFeaturesTask': null,
            'send_page_view': false
        });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12629138-1"></script>

    
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
            n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq("set", "autoConfig", "false", "136809193586742");
    fbq('init', '136809193586742'); 
    fbq('track', 'PageView');
</script>
<noscript>
    <img height="1" width="1" src="https://www.facebook.com/tr?id=136809193586742&ev=PageView&noscript=1"/>
</noscript>

<script>window.intercomSettings = {"app_id":"koj6gxx6"};</script>        <script>(function () { var w = window; var ic = w.Intercom; if (typeof ic === "function") { ic('reattach_activator'); ic('update', intercomSettings); } else { var d = document; var i = function () { i.c(arguments) }; i.q = []; i.c = function (args) { i.q.push(args) }; w.Intercom = i; function l() { var s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'https://widget.intercom.io/widget/koj6gxx6'; var x = d.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); } if (w.attachEvent) { w.attachEvent('onload', l); } else { w.addEventListener('load', l, false); } } })()</script>
    
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@kaggledatasets" />
    <meta name="og:url" content="https://kaggle.com/haylmg/titanic-is-back-in-r" />
    <meta name="og:title" content="Titanic is back in R!" />
    <meta name="og:description" content="Using data from Titanic: Machine Learning from Disaster" />
    <meta name="og:image" content="https://storage.googleapis.com/kaggle-avatars/thumbnails/1031555-gr.jpg" />


    
    

    
    
    
<script type="text/javascript">
    var Kaggle = Kaggle || {};

    Kaggle.Current = {
        antiForgeryToken: 'CfDJ8LdUzqlsSWBPr4Ce3rb9VL-qsVGMlAuryAKT8GDUAbY67V3e3z-YvgAZJ6PGXRIgKsy4v2cKYCWOyZVwRCyPLZAtiVZBWdWMKaOXW1fh5ORmZeBeHNrtov6ifO7Z2HzLmPQzd6fNd6oja0gnfjUrMAU',
        isAnonymous: true,
        analyticsToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjAzMjk3NTIsIlVzZXJJZCI6MH0.OfVcjbvWr8OpGZiVok3n8ubiOb87UNhwzpC2CF9epNM',
        analyticsTokenExpiry: 15,
        internetKernelsEnabled: false,
        
        
        
        
        
        
        
        
        
        
        
    }
        Kaggle.Current.log = function(){};
        Kaggle.Current.warn = function(){};

    var decodeUserDisplayName = function () {
        var escapedUserDisplayName = Kaggle.Current.userDisplayNameEscaped || "";
        try {
            var textVersion = new DOMParser().parseFromString(escapedUserDisplayName, "text/html").documentElement.textContent;
            if (textVersion) {
                return textVersion;
            }
        } catch(ex) {}
        return escapedUserDisplayName;
    }
    Kaggle.Current.userDisplayName = decodeUserDisplayName();
</script>

    

<script type="text/javascript">
    var Kaggle = Kaggle || {};
    Kaggle.PageMessages = [];
</script>

    
<script type="text/javascript">
/* <![CDATA[ */
goog_snippet_vars = function() {
    var w = window;
    w.google_conversion_id = 955616553;
    w.google_conversion_label = "QSjvCKDksHMQqZrWxwM";
    w.google_conversion_value = 0.00;
    w.google_conversion_currency = "USD";
    w.google_remarketing_only = false;
    w.google_conversion_language = "en";
    w.google_conversion_format = "3";
    w.google_conversion_color = "ffffff";
}
// DO NOT CHANGE THE CODE BELOW.
goog_report_conversion = function(url) {
    goog_snippet_vars();
    window.google_conversion_format = "3";
    var opt = new Object();
    opt.onload_callback = function() {
        if (typeof(url) != 'undefined') {
            window.location = url;
        }
    }
    var conv_handler = window['google_trackConversion'];
    if (typeof(conv_handler) == 'function') {
        conv_handler(opt);
    }
}
/* ]]> */
</script>
<script type="text/javascript"
src="//www.googleadservices.com/pagead/conversion_async.js">
</script>



        <script>window['useKaggleAnalytics'] = true;</script>

    <script src="/static/assets/vendor.js?v=4721d2c14786" data-turbolinks-track="reload"></script>
    <script src="/static/assets/app.js?v=1a3cd8c35fe7" data-turbolinks-track="reload"></script>
        <script>
            (function() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register("/static/assets/service-worker.js").then(function(reg) {
                        reg.onupdatefound = function() {
                            var installingWorker = reg.installing;
                            installingWorker.onstatechange = function() {
                                switch (installingWorker.state) {
                                case 'installed':
                                    if (navigator.serviceWorker.controller) {
                                        console.log('New or updated content is available.');
                                    } else {
                                        console.log('Content is now available offline!');
                                    }
                                    break;
                                case 'redundant':
                                    console.error('The installing service worker became redundant.');
                                    break;
                                }
                            };
                        };
                    }).catch(function(e) {
                      console.error('Error during service worker registration:', e);
                    });
                }
            })();
        </script>
    <script>
        function handleClientLoad() {
            try {
                gapi.load('client:auth2');
            } catch (e) {
                // In Opera, readystatechange is an unreliable detection of script load, causing
                // this function to be called before gapi exists on the window. The onload callback
                // is still called at the correct time, so the feature works as expected - it's
                // just generating noisy errors.
            }
        }
    </script>
    <script async defer src="https://apis.google.com/js/api.js"
            onload="this.googleApiOnLoad=function(){};handleClientLoad()"
            onreadystatechange="if (this.readyState === 'complete') this.googleApiOnLoad()">
    </script>
</head>
<body data-turbolinks="true">
    <main>
        






<div class="site-layout">
        <div class="site-layout__header">
            <div data-component-name="SiteHeaderContainer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({});performance && performance.mark && performance.mark("SiteHeaderContainer.componentCouldBootstrap");</script>
        </div>

    <div class="site-layout__main-content">
        

<div data-component-name="KernelViewer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({"kernel":{"id":354499,"title":"Titanic is back in R!","forkParent":null,"currentRunId":1914857,"mostRecentRunId":1914857,"url":"/haylmg/titanic-is-back-in-r","tags":[{"name":"feature engineering","slug":"feature-engineering","url":"/tags/feature-engineering"}],"commentCount":0,"upvoteCount":7,"viewCount":1033,"forkCount":5,"bestPublicScore":null,"author":{"id":1031555,"displayName":"Vikas Dhyani","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"haylmg","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1031555-gr.jpg","profileUrl":"/haylmg","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":0,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"isPrivate":false,"updatedTime":"2017-12-10T17:33:52.23Z","selfLink":"/kernels/354499","pinnedDockerImageVersionId":null,"isLanguageTemplate":false,"medal":null,"topicId":45450,"readGroupId":null,"writeGroupId":null,"slug":"titanic-is-back-in-r"},"kernelBlob":{"id":4950496,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"Competition","sourceId":3136,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\r\ntitle: \u0027Titanic is back in R!\u0027\r\nauthor: \u0027Vikas Dhyani\u0027\r\ndate: \u002729 August 2017\u0027\r\noutput:\r\n  html_document:\r\n    toc: true\r\n    number_sections: true\r\n    fig_width: 7\r\n    fig_height: 4.5\r\n    theme: readable\r\n    highlight: tango\r\n---\r\n\r\nThe basis of this kernel is a tutorial that I would highly recommend to those who are beginning on\r\nKaggle with R. Trevor Stephens has created [this](http://trevorstephens.com/kaggle-titanic-tutorial/getting-started-with-r/ \u0022Titanic: Getting Started With R\u0022) excellent Titanic problem walkthrough that covers\r\nstarting from setting up your R environment to reaching at the upper end of the leaderboard. While I\r\nhave made a few changes wherever I felt the need to experiment, you should too because you learn\r\nwhen you try something new! I am myself a beginner and with this tutorial, I think I have found a \r\ndirection and a *decent* rank in the top 3%. \r\n\r\nThe primary audience of this report are the new kids on the [Data Science](https://www.ironsidegroup.com/2016/06/20/newbie-data-science-guide/) block. So, this report itself is documented\r\nin the form of a tutorial. I have tried to keep things as concise as possible and easy to follow.\r\n\r\n# Introduction\r\n\r\nThe Titanic problem is a binary classification problem where every passenger either survives or \r\nperishes. There are a lot of techniques and models that can be used in this scenario. However, to\r\nachieve a higher accuracy, an ensemble model may be needed. I am going to use `cforest` or Conditional\r\nRandom Forests to build my model. For now, it is all fine to know just that `cforest` is similar to\r\n`randomForest` but uses conditional inference trees as base learners instead of decision trees.\r\n\r\n## Loading datasets\r\n\r\nWe read our datasets as follows\r\n\r\n```{r, warning = FALSE}\r\ntrain \u003c- read.csv(\u0027../input/train.csv\u0027)\r\ntest \u003c- read.csv(\u0027../input/test.csv\u0027)\r\n```\r\n\r\nThe `read.csv()` function reads the datasets into the respective data frames. You will notice here that\r\nthe **test** data frame has one less column than **train**. As obvious, it is missing the *Survived*\r\ncolumn that our job is to predict.\r\n\r\nAfter this, we load some useful packages.\r\n    \r\n```{r, message = FALSE, warning = FALSE}\r\n#for decision trees\r\nlibrary(rpart) \r\n\r\n#for cforest\r\nlibrary(party) \r\n```\r\n\r\n# Feature Engineering\r\n\r\nWe have been provided with a bunch of variables for prediction. But not all of them are going to be\r\nvaluable for us. Some of them that don\u0027t look useful may still carry some importance which is not\r\nimmediately obvious. Further, the model that we will build will perform better if it has more useful\r\nfeatures. This call is for what is known as **Feature Engineering**. \r\n\r\nIn Trevor\u0027s own words, \u0022Feature engineering really boils down to the human element in machine\r\nlearning.\u0022 Because anyone can build models from the available features using readymade packages \r\nand make predictions which make it quite an objective task. Feature Engineering brings the\r\nsubjective part to the table. In this stage, your creativity is your most important companion. \r\n\r\nSo, going ahead, we will first row bind the two datasets to form a single, consolidated dataset. To \r\ndo this, we will first need to make the number of columns same in both. \r\n    \r\n```{r, message=FALSE, warning=FALSE}\r\n#Adding a column of NA (missing) values in test\r\ntest$Survived \u003c- NA     \r\n\r\n# row binding train and test\r\ncombi  \u003c- rbind(train, test) \r\n\r\n# taking a look at the structure of combi\r\nstr(combi) #or View(combi)\r\n```\r\n\r\n## Family Size\r\n\r\nFirst, we will put our focus on the two variables SibSp and Parch. Doesn\u0027t their sum make the\r\nsize of the family of a passenger? We can quickly make this a new feature!\r\n\r\n```{r, warning=FALSE}\r\n# 1 is for the passenger himself/herself\r\ncombi$FamilySize \u003c- combi$SibSp + combi$Parch + 1          \r\n```\r\n\r\nFeature Engineering sounds quite easy, right? Well, this was just the beginning. Let\u0027s move forward\r\nand derive more features. \r\n    \r\n## Titles\r\n    \r\nIf you take a look at the Name column, you may notice that the names also carry their titles along\r\nwith them. See, for example, \r\n\r\n```{r, warning=FALSE}\r\n#to display the first 6 records in the Name column\r\nhead(combi$Name) \r\n```\r\n\r\nThese titles can be in our second feature. But what stands in the way is their encapsulated presence\r\nwithin the Name feature. We need to extract the titles from all the names of the passengers. If we\r\nlook closely, we see that there is a certain pattern in which the titles occur in the name. They\r\nalways occur between a comma \u0027,\u0027 and a period \u0027.\u0027 We have a nice little function at our disposal\r\nthat can make our work of segregating the titles from the names quite easy. Meet our friend,\r\n`strsplit()` --- \r\n\r\n```{r, warning=FALSE}\r\n# first converting to character type\r\ncombi$Name \u003c- as.character(combi$Name)\r\n\r\nstrsplit(combi$Name[1], split = \u0027[,.]\u0027)\r\n```\r\n\r\nThe symbols inside the square brackets are known as regular expressions. We can pick the title\r\ncomponent out of these like this: \r\n    \r\n```{r, warning=FALSE}\r\nstrsplit(combi$Name[1], split = \u0027[,.]\u0027)[[1]][2]\r\n```\r\n    \r\nNow to apply this function to each row of the Name feature, we will have to use another function\r\nknown as `sapply()` ---\r\n    \r\n```{r, warning=FALSE}\r\ncombi$Title \u003c- sapply(combi$Name, FUN = function(x){ strsplit(x, split = \u0027[,.]\u0027)[[1]][2]})\r\n```\r\n    \r\nEach row element goes into our function strsplit as variable x and gets operated upon. Our new\r\nfeature is now almost ready. Only one more operation is required to get rid of the white space\r\nthat exists before every title. We use the `sub()` function for that (sub = substitute),\r\n    \r\n```{r, warning=FALSE}\r\n#substitute the first occurrence of a white space with nothing\r\ncombi$Title \u003c- sub(\u0027 \u0027, \u0027\u0027, combi$Title) \r\n```\r\n    \r\nWe now have our second feature ready! You can have a statistical look at it. \r\n    \r\n```{r, warning=FALSE}\r\ntable(combi$Title)\r\n```\r\n    \r\nWe see there are so much more titles than we had expected. Moreover, there are some titles that only \r\na single passenger has. To make the data more conformable, we will try to merge some titles into\r\na single, broader category.\r\n    \r\n```{r, warning=FALSE}\r\n# The titles \u0027Mme\u0027 and \u0027Mlle\u0027 are merged into one \u0027Mlle\u0027 and similarly, for others. \r\n# %in% is used to satisfy the logical OR condition, means if the title is one among the titles\r\n# in the given vector, condition is satisfied. Below is the way:\r\n    \r\ncombi$Title[combi$Title %in% c(\u0027Mme\u0027, \u0027Mlle\u0027)] \u003c- \u0027Mlle\u0027\r\ncombi$Title[combi$Title %in% c(\u0027Capt\u0027, \u0027Don\u0027, \u0027Jonkheer\u0027, \u0027Major\u0027, \u0027Sir\u0027)] \u003c- \u0027Sir\u0027\r\ncombi$Title[combi$Title %in% c(\u0027Dona\u0027, \u0027Lady\u0027, \u0027Ms\u0027, \u0027the Countess\u0027, \u0027Mlle\u0027)] \u003c- \u0027Lady\u0027\r\n\r\n#To change into factor (datatype that contains categories)\r\ncombi$Title \u003c- factor(combi$Title) \r\ntable(combi$Title)\r\n```\r\n    \r\nAt last, we have our newly engineered Title feature. You can go ahead and experiment with the number\r\nof categories of titles according to your own liking by submitting different outputs at the end of\r\nthis walkthrough. \r\n\r\n## FamilyId\r\n    \r\nOne may be tempted to notice that the Name feature has more to offer than just the titles. It also\r\ncarries with it the surnames of the passengers that may be categorical in nature. We may want to\r\nextract that too, for it may add valuable contribution to our model.\r\n    \r\n```{r, warning=FALSE}\r\ncombi$Surname \u003c- sapply(combi$Name, FUN = function(x){ strsplit(x, split = \u0027[,.]\u0027)[[1]][1]})\r\n```\r\n\r\nWe can also go one level higher by creating an artificial feature. We can combine FamilySize and\r\nSurname together to create FamilyId that would be unique for each family. Maybe, *some* type of\r\nfamilies were more likely to survive than the others because of their **FamilySize**. That\u0027s why we\r\ncan **paste** FamilySize with the Surname and expect accurate results. We can mark those unique families\r\nwith less than 3 members as \u0027Small\u0027. That would save us from having too many FamilyId categories.\r\n\r\n```{r, warning=FALSE}\r\n# pasting the two columns together\r\ncombi$FamilyId \u003c- paste(as.character(combi$FamilySize), combi$Surname, sep = \u0027\u0027) \r\n\r\n# as obvious below, those with family size less than or equal to 2 will be designated as Small\r\ncombi$FamilyId[combi$FamilySize \u003c= 2] \u003c- \u0027Small\u0027\r\n```\r\n    \r\nBut wait, we can see when we run the command `table(combi$FamilyId)` some FamilyId values with \r\ndifferent values of pasted FamilySize and their frequencies, which should have been the same (didn\u0027t\r\nprint it here because the output takes way too space). For instance, \u00273Strom\u0027 should have had at least 3\r\npassengers(frequency) with the same FamilyId. But it has only 1, which could mean that only 1 passenger\r\nwas present in the ship with that FamilyId. This could mean that still, we would need to assign such\r\nFamilyId as \u0027Small\u0027.\r\n    \r\n```{r, warning=FALSE}\r\n# famId, a temporary variable, will store the FamilyId with their frequencies\r\nfamId \u003c- data.frame(table(combi$FamilyId))\r\n\r\n# Now, famId will only contain records with frequency or number of passengers in that family \r\n# less than or equal to 2\r\nfamId \u003c- famId[famId$Freq \u003c= 2, ]\r\n\r\n# Any FamilyId existing in famId would then be declared \u0027Small\u0027\r\ncombi$FamilyId[combi$FamilyId %in% famId$Var1] \u003c- \u0027Small\u0027\r\n\r\n# finally converting to factor\r\ncombi$FamilyId \u003c- factor(combi$FamilyId)\r\n\r\ntable(combi$FamilyId)\r\n```\r\n\r\nLet\u0027s look at other potentially useful columns.\r\n\r\n## Deck\r\n    \r\nWe can see that we have a column called Cabin that carries values like \u0027C85\u0027, \u0027G6\u0027, etc. You can \r\nuse `head(combi$Cabin, n)` with n being any big enough value to see that. Moreover, you will also\r\nnotice a lot of NA values. We will deal with them later, but, what is important here is a pattern\r\nin the Cabin values. The first character is repetitive and maybe, one may guess that it represents \r\nthe deck of the ship. We are going to move ahead with this notion and create further another\r\nfeature called Deck.\r\n    \r\n```{r, warning=FALSE}\r\n#creating a column of NA values first\r\ncombi$Deck \u003c- NA  \r\n\r\n#NULL splits at each position\r\ncombi$Deck \u003c- sapply(as.character(combi$Cabin), function(x){ strsplit(x, NULL)[[1]][1]}) \r\ncombi$Deck \u003c- factor(combi$Deck)\r\nsummary(combi$Deck)\r\n```\r\n    \r\nThis feature too has been successfully created. We will definitely address the issue of NA values\r\nlater. \r\n\r\n\r\nSo, now we have a total of 4 features that we have engineered ourselves from the already existing\r\nfeatures. However, we are yet not in a position to employ them to construct our predictor model.\r\nSome of the features need a little bit of retouching before that.\r\n    \r\n# Preprocessing of Features\r\n\r\nThere are some features that have NA values in them. It is beneficial for us to get rid of those missing\r\nvalues. Moreover, some features may still not contain data in the form suitable for our model. This\r\npart of the walkthrough will deal with such issues.\r\n    \r\n## Treating Missing values\r\n\r\nFirst, we look at the features that we would actually want to use in our model and identify those that\r\ncontain NA values.\r\n    \r\n```{r, warning=FALSE}\r\nsummary(combi)\r\n```\r\n\r\nSo, Age, Fare, Embarked and Deck are those features (Embarked has 2 blanks which are tantamount to NA here).\r\nWe will address them one at a time. First, for Age, we will use decision tree function `rpart()`. We have\r\nalready imported its library. It is a good model that can be used for both classification and regression\r\nproblems (like in the case of Age). \r\n\r\n```{r, warning=FALSE}\r\n# first creating the decision tree on the training data, or only the rows that contain a value for Age column\r\nfitAge \u003c- rpart(Age ~ Pclass + Sex + SibSp + Parch + Fare + Embarked + Title + FamilySize, data = combi[!(is.na(combi$Age)), ], method = \u0022anova\u0022)\r\n\r\n# now putting the predicted Age values in the rows that have NA in their Age column\r\ncombi$Age[is.na(combi$Age)] \u003c- predict(fitAge, combi[is.na(combi$Age), ])\r\n```\r\n\r\nFor Fare, we find that only a single NA is present. We can assign the median value of the Fare values to the \r\nNA.\r\n    \r\n```{r, warning = FALSE}\r\n# which row(s) has NA in the Fare column\r\nwhich(is.na(combi$Fare))  \r\n\r\n# median value assigned to the NA value.\r\ncombi$Fare[1044] \u003c- median(combi$Fare, na.rm = TRUE)\r\n```\r\n\r\nIn case of Embarked, we observe there are just two missing values. Although it is not NA but blank spaces,\r\nit is equivalent to NA and we should clean them up too. To do that, we will replace these low number of \r\nEmbarked blank spaces with the value that appears most frequently, i.e., \u0022Southampton\u0022. So, we replace with \u0022S\u0022.\r\n    \r\n```{r, warning = FALSE}\r\n# which row has blank as Embarked\r\nwhich(combi$Embarked == \u0027\u0027)\r\n\r\ncombi$Embarked[c(62,830)] = \u0027S\u0027\r\n```\r\n\r\nNow, in case of column Deck, we have a lot of NA values. We will again use `rpart()` but this time\r\nwe will use `method = \u0022class\u0022` instead of \u0022anova\u0022 as we did in the case of regression in the Age column\u0027s\r\ntreatment.\r\n\r\n```{r, warning = FALSE}\r\nfitDeck \u003c- rpart(Deck ~ Pclass + Sex + SibSp + Parch + Fare + Embarked + Title + FamilySize + Age, data = combi[!(is.na(combi$Deck)), ], method = \u0022class\u0022)\r\n\r\ncombi$Deck[is.na(combi$Deck)] \u003c- predict(fitDeck, combi[is.na(combi$Deck), ], type = \u0022class\u0022)\r\n```\r\n\r\nGo ahead and experiment with the `rpart()` function by adding or removing the predictor variables.\r\n\r\n## Fare Improvement\r\n\r\nI got this idea from one of the commenters on Trevor\u0027s blog. When I implemented it, my accuracy\r\nimproved marginally, which is enough to jump ahead of a few hundred people in the leaderboard. I want to\r\nthank you, vruizext(Disqus name), if you ever see this. So, how it works is like this: You can find\r\nmultiple passengers sharing the same ticket number and hence the same fare on the ticket. Those passengers\r\nmay not be listed together in the dataset and hence may not be obvious immediately. What we would like\r\nto do here is to determine the **fare per passenger**. To find this, we will divide the Fare amounts\r\nby the total number of passengers sharing the corresponding Ticket numbers. \r\n\r\nFor example, if there are three passengers having Ticket value equal to `12345` and, therefore, having\r\nthe same Fare amount of, let\u0027s say, `66`, then the fare *per passenger* will be equal to 66 divided\r\nby 3, which is 22. We will implement this to all the rows. \r\n\r\n```{r, warning = FALSE}\r\n# create a temporary data frame storing Ticket values\r\ntempo \u003c- data.frame(table(combi$Ticket))\r\n\r\n# store only those Ticket values that belong to more than one passenger\r\ntempo \u003c- tempo[tempo$Freq \u003e 1, ]\r\n\r\ntempo$Fare \u003c- 0\r\n\r\n# run a nested loop to extract the Fare values for the Ticket values in tempo\r\nfor(i in 1:nrow(combi)) {\r\n  for(j in 1:nrow(tempo)) {\r\n    if(combi$Ticket[i] == tempo$Var1[j]) {\r\n      tempo$Fare[j] = combi$Fare[i] } } } \r\n\r\n# calculate the Fare per passenger\r\ntempo$Fare \u003c- tempo$Fare / tempo$Freq\r\n\r\n# put back the Fare per passenger values to the combi data frame\r\nfor(i in 1:nrow(combi)) {\r\n  for(j in 1:nrow(tempo)) {\r\n    if(combi$Ticket[i] == tempo$Var1[j]) {\r\n      combi$Fare[i] = tempo$Fare[j] } } }\r\n\r\n```\r\n    \r\nAnd we are done with our Fare improvement!\r\n\r\n# Building the Model\r\n    \r\nAs said before, we are going to build an ensemble model known as Conditional Random Forest. We have\r\nalready loaded the required package for `cforest()` known as `party`. But before building our model, we\r\nwill split our **train** and **test** datasets from **combi**.\r\n    \r\n```{r, warning = FALSE}\r\n# 1:891 means 1 to 891(included)\r\ntrain \u003c- combi[1:891, ]\r\ntest \u003c- combi[892:1309, ]\r\n```\r\n\r\nNow we are in the position to build our model, the last step before making the predictions!\r\n\r\n```{r, warning = FALSE}\r\n# setting the seed so that everytime the model is created, random numbers produced would be the same\r\nset.seed(400)\r\n\r\n# the way of building a model is quite similar to how we made a couple of decision trees\r\n# ntree specifies number of trees as base learners and mtry is for the number of variables to be used in each tree \r\nfit \u003c- cforest(factor(Survived) ~ Pclass + Age + Sex + SibSp + Parch + Fare + Embarked + Title + FamilySize + FamilyId + Deck, data = train, controls = cforest_unbiased(ntree = 2000, mtry = 3))\r\n\r\n# making a bar plot of the importance of predictor variables for the model\r\npar(las = 2)\r\nbarplot(varimp(fit))\r\n```\r\n\r\nThe bar plot is a testimony to the success of our engineered features, one of which (Title) is the most \r\nimportant of all, i.e., removing that particular variable may cause a high decrease in the prediction\r\naccuracy. \r\n\r\nWe will now move forward to making the predictions on the test set. \r\n\r\n# Prediction\r\n\r\nSince our model is ready, we are all set to predict the survival chances of the rest of the passengers\r\nin the test set. Along with the prediction, we will also prepare our submission CSV file holding 0s\r\nand 1s as **Survived** column values for the passengers.\r\n\r\n```{r, warning = FALSE}\r\n# our model operating upon the test set\r\nPrediction \u003c- predict(fit, test, OOB = TRUE, type = \u0022response\u0022)\r\n\r\n# create the submit data frame\r\nsubmit \u003c- data.frame(PassengerId = test$PassengerId, Survived = Prediction)\r\n\r\n# write the data frame as a csv file without the row numbers as a separate column\r\nwrite.csv(submit, file = \u0022RFcondInfTrees.csv\u0022, row.names = FALSE)\r\n``` \r\n\r\nSo, this is it! Go ahead and make your submission. If you have already submitted before and didn\u0027t get\r\na good score, you may get it this time. \r\n\r\nThis was my first kernel on RMarkdown and I hope you liked it. Please give me feedbacks if you have any\r\nsuggestion or remark on how I can improve this. In case you have any doubt, please feel free to post\r\nit below. And even if I don\u0027t know the answer myself, we\u0027ll hunt for it together. \r\n\r\nThanks for visiting!","dateCreated":"2017-12-10T17:33:50.393Z"},"kernelRun":{"id":1914857,"kernelId":354499,"status":"complete","type":"batch","sourceType":"script","language":"rmarkdown","title":"Titanic is back in R!","dateCreated":"2017-12-10T17:33:50.393Z","dateEvaluated":"2017-12-10T17:33:52.23Z","workerContainerPort":null,"workerUptimeSeconds":328912,"workerIPAddress":"172.16.2.11    ","scriptLanguageId":5,"scriptLanguageName":"RMarkdown","renderedOutputUrl":"https://www.kaggleusercontent.com/kf/1914857/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..5ML2aXNzIM9zh9K6tVfRsw.slgG_Pa57CRZ2D9sx9KE3smjHcHYQa1vs8UwUBx_5mxICO0N51yRAgKyZ1ZloUAGOlb9r8-I2bUzU7s6AK02hByWmdkv3bHt9_eG67LZsTaW_8m5huok1gq4TvkwfKRZg-QGQAeP9a7dGeSR0BZVlQ.xcH86Xe0iuWJ9xcNIDjx0w/__results__.html","commit":{"id":4950496,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"Competition","sourceId":3136,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\r\ntitle: \u0027Titanic is back in R!\u0027\r\nauthor: \u0027Vikas Dhyani\u0027\r\ndate: \u002729 August 2017\u0027\r\noutput:\r\n  html_document:\r\n    toc: true\r\n    number_sections: true\r\n    fig_width: 7\r\n    fig_height: 4.5\r\n    theme: readable\r\n    highlight: tango\r\n---\r\n\r\nThe basis of this kernel is a tutorial that I would highly recommend to those who are beginning on\r\nKaggle with R. Trevor Stephens has created [this](http://trevorstephens.com/kaggle-titanic-tutorial/getting-started-with-r/ \u0022Titanic: Getting Started With R\u0022) excellent Titanic problem walkthrough that covers\r\nstarting from setting up your R environment to reaching at the upper end of the leaderboard. While I\r\nhave made a few changes wherever I felt the need to experiment, you should too because you learn\r\nwhen you try something new! I am myself a beginner and with this tutorial, I think I have found a \r\ndirection and a *decent* rank in the top 3%. \r\n\r\nThe primary audience of this report are the new kids on the [Data Science](https://www.ironsidegroup.com/2016/06/20/newbie-data-science-guide/) block. So, this report itself is documented\r\nin the form of a tutorial. I have tried to keep things as concise as possible and easy to follow.\r\n\r\n# Introduction\r\n\r\nThe Titanic problem is a binary classification problem where every passenger either survives or \r\nperishes. There are a lot of techniques and models that can be used in this scenario. However, to\r\nachieve a higher accuracy, an ensemble model may be needed. I am going to use `cforest` or Conditional\r\nRandom Forests to build my model. For now, it is all fine to know just that `cforest` is similar to\r\n`randomForest` but uses conditional inference trees as base learners instead of decision trees.\r\n\r\n## Loading datasets\r\n\r\nWe read our datasets as follows\r\n\r\n```{r, warning = FALSE}\r\ntrain \u003c- read.csv(\u0027../input/train.csv\u0027)\r\ntest \u003c- read.csv(\u0027../input/test.csv\u0027)\r\n```\r\n\r\nThe `read.csv()` function reads the datasets into the respective data frames. You will notice here that\r\nthe **test** data frame has one less column than **train**. As obvious, it is missing the *Survived*\r\ncolumn that our job is to predict.\r\n\r\nAfter this, we load some useful packages.\r\n    \r\n```{r, message = FALSE, warning = FALSE}\r\n#for decision trees\r\nlibrary(rpart) \r\n\r\n#for cforest\r\nlibrary(party) \r\n```\r\n\r\n# Feature Engineering\r\n\r\nWe have been provided with a bunch of variables for prediction. But not all of them are going to be\r\nvaluable for us. Some of them that don\u0027t look useful may still carry some importance which is not\r\nimmediately obvious. Further, the model that we will build will perform better if it has more useful\r\nfeatures. This call is for what is known as **Feature Engineering**. \r\n\r\nIn Trevor\u0027s own words, \u0022Feature engineering really boils down to the human element in machine\r\nlearning.\u0022 Because anyone can build models from the available features using readymade packages \r\nand make predictions which make it quite an objective task. Feature Engineering brings the\r\nsubjective part to the table. In this stage, your creativity is your most important companion. \r\n\r\nSo, going ahead, we will first row bind the two datasets to form a single, consolidated dataset. To \r\ndo this, we will first need to make the number of columns same in both. \r\n    \r\n```{r, message=FALSE, warning=FALSE}\r\n#Adding a column of NA (missing) values in test\r\ntest$Survived \u003c- NA     \r\n\r\n# row binding train and test\r\ncombi  \u003c- rbind(train, test) \r\n\r\n# taking a look at the structure of combi\r\nstr(combi) #or View(combi)\r\n```\r\n\r\n## Family Size\r\n\r\nFirst, we will put our focus on the two variables SibSp and Parch. Doesn\u0027t their sum make the\r\nsize of the family of a passenger? We can quickly make this a new feature!\r\n\r\n```{r, warning=FALSE}\r\n# 1 is for the passenger himself/herself\r\ncombi$FamilySize \u003c- combi$SibSp + combi$Parch + 1          \r\n```\r\n\r\nFeature Engineering sounds quite easy, right? Well, this was just the beginning. Let\u0027s move forward\r\nand derive more features. \r\n    \r\n## Titles\r\n    \r\nIf you take a look at the Name column, you may notice that the names also carry their titles along\r\nwith them. See, for example, \r\n\r\n```{r, warning=FALSE}\r\n#to display the first 6 records in the Name column\r\nhead(combi$Name) \r\n```\r\n\r\nThese titles can be in our second feature. But what stands in the way is their encapsulated presence\r\nwithin the Name feature. We need to extract the titles from all the names of the passengers. If we\r\nlook closely, we see that there is a certain pattern in which the titles occur in the name. They\r\nalways occur between a comma \u0027,\u0027 and a period \u0027.\u0027 We have a nice little function at our disposal\r\nthat can make our work of segregating the titles from the names quite easy. Meet our friend,\r\n`strsplit()` --- \r\n\r\n```{r, warning=FALSE}\r\n# first converting to character type\r\ncombi$Name \u003c- as.character(combi$Name)\r\n\r\nstrsplit(combi$Name[1], split = \u0027[,.]\u0027)\r\n```\r\n\r\nThe symbols inside the square brackets are known as regular expressions. We can pick the title\r\ncomponent out of these like this: \r\n    \r\n```{r, warning=FALSE}\r\nstrsplit(combi$Name[1], split = \u0027[,.]\u0027)[[1]][2]\r\n```\r\n    \r\nNow to apply this function to each row of the Name feature, we will have to use another function\r\nknown as `sapply()` ---\r\n    \r\n```{r, warning=FALSE}\r\ncombi$Title \u003c- sapply(combi$Name, FUN = function(x){ strsplit(x, split = \u0027[,.]\u0027)[[1]][2]})\r\n```\r\n    \r\nEach row element goes into our function strsplit as variable x and gets operated upon. Our new\r\nfeature is now almost ready. Only one more operation is required to get rid of the white space\r\nthat exists before every title. We use the `sub()` function for that (sub = substitute),\r\n    \r\n```{r, warning=FALSE}\r\n#substitute the first occurrence of a white space with nothing\r\ncombi$Title \u003c- sub(\u0027 \u0027, \u0027\u0027, combi$Title) \r\n```\r\n    \r\nWe now have our second feature ready! You can have a statistical look at it. \r\n    \r\n```{r, warning=FALSE}\r\ntable(combi$Title)\r\n```\r\n    \r\nWe see there are so much more titles than we had expected. Moreover, there are some titles that only \r\na single passenger has. To make the data more conformable, we will try to merge some titles into\r\na single, broader category.\r\n    \r\n```{r, warning=FALSE}\r\n# The titles \u0027Mme\u0027 and \u0027Mlle\u0027 are merged into one \u0027Mlle\u0027 and similarly, for others. \r\n# %in% is used to satisfy the logical OR condition, means if the title is one among the titles\r\n# in the given vector, condition is satisfied. Below is the way:\r\n    \r\ncombi$Title[combi$Title %in% c(\u0027Mme\u0027, \u0027Mlle\u0027)] \u003c- \u0027Mlle\u0027\r\ncombi$Title[combi$Title %in% c(\u0027Capt\u0027, \u0027Don\u0027, \u0027Jonkheer\u0027, \u0027Major\u0027, \u0027Sir\u0027)] \u003c- \u0027Sir\u0027\r\ncombi$Title[combi$Title %in% c(\u0027Dona\u0027, \u0027Lady\u0027, \u0027Ms\u0027, \u0027the Countess\u0027, \u0027Mlle\u0027)] \u003c- \u0027Lady\u0027\r\n\r\n#To change into factor (datatype that contains categories)\r\ncombi$Title \u003c- factor(combi$Title) \r\ntable(combi$Title)\r\n```\r\n    \r\nAt last, we have our newly engineered Title feature. You can go ahead and experiment with the number\r\nof categories of titles according to your own liking by submitting different outputs at the end of\r\nthis walkthrough. \r\n\r\n## FamilyId\r\n    \r\nOne may be tempted to notice that the Name feature has more to offer than just the titles. It also\r\ncarries with it the surnames of the passengers that may be categorical in nature. We may want to\r\nextract that too, for it may add valuable contribution to our model.\r\n    \r\n```{r, warning=FALSE}\r\ncombi$Surname \u003c- sapply(combi$Name, FUN = function(x){ strsplit(x, split = \u0027[,.]\u0027)[[1]][1]})\r\n```\r\n\r\nWe can also go one level higher by creating an artificial feature. We can combine FamilySize and\r\nSurname together to create FamilyId that would be unique for each family. Maybe, *some* type of\r\nfamilies were more likely to survive than the others because of their **FamilySize**. That\u0027s why we\r\ncan **paste** FamilySize with the Surname and expect accurate results. We can mark those unique families\r\nwith less than 3 members as \u0027Small\u0027. That would save us from having too many FamilyId categories.\r\n\r\n```{r, warning=FALSE}\r\n# pasting the two columns together\r\ncombi$FamilyId \u003c- paste(as.character(combi$FamilySize), combi$Surname, sep = \u0027\u0027) \r\n\r\n# as obvious below, those with family size less than or equal to 2 will be designated as Small\r\ncombi$FamilyId[combi$FamilySize \u003c= 2] \u003c- \u0027Small\u0027\r\n```\r\n    \r\nBut wait, we can see when we run the command `table(combi$FamilyId)` some FamilyId values with \r\ndifferent values of pasted FamilySize and their frequencies, which should have been the same (didn\u0027t\r\nprint it here because the output takes way too space). For instance, \u00273Strom\u0027 should have had at least 3\r\npassengers(frequency) with the same FamilyId. But it has only 1, which could mean that only 1 passenger\r\nwas present in the ship with that FamilyId. This could mean that still, we would need to assign such\r\nFamilyId as \u0027Small\u0027.\r\n    \r\n```{r, warning=FALSE}\r\n# famId, a temporary variable, will store the FamilyId with their frequencies\r\nfamId \u003c- data.frame(table(combi$FamilyId))\r\n\r\n# Now, famId will only contain records with frequency or number of passengers in that family \r\n# less than or equal to 2\r\nfamId \u003c- famId[famId$Freq \u003c= 2, ]\r\n\r\n# Any FamilyId existing in famId would then be declared \u0027Small\u0027\r\ncombi$FamilyId[combi$FamilyId %in% famId$Var1] \u003c- \u0027Small\u0027\r\n\r\n# finally converting to factor\r\ncombi$FamilyId \u003c- factor(combi$FamilyId)\r\n\r\ntable(combi$FamilyId)\r\n```\r\n\r\nLet\u0027s look at other potentially useful columns.\r\n\r\n## Deck\r\n    \r\nWe can see that we have a column called Cabin that carries values like \u0027C85\u0027, \u0027G6\u0027, etc. You can \r\nuse `head(combi$Cabin, n)` with n being any big enough value to see that. Moreover, you will also\r\nnotice a lot of NA values. We will deal with them later, but, what is important here is a pattern\r\nin the Cabin values. The first character is repetitive and maybe, one may guess that it represents \r\nthe deck of the ship. We are going to move ahead with this notion and create further another\r\nfeature called Deck.\r\n    \r\n```{r, warning=FALSE}\r\n#creating a column of NA values first\r\ncombi$Deck \u003c- NA  \r\n\r\n#NULL splits at each position\r\ncombi$Deck \u003c- sapply(as.character(combi$Cabin), function(x){ strsplit(x, NULL)[[1]][1]}) \r\ncombi$Deck \u003c- factor(combi$Deck)\r\nsummary(combi$Deck)\r\n```\r\n    \r\nThis feature too has been successfully created. We will definitely address the issue of NA values\r\nlater. \r\n\r\n\r\nSo, now we have a total of 4 features that we have engineered ourselves from the already existing\r\nfeatures. However, we are yet not in a position to employ them to construct our predictor model.\r\nSome of the features need a little bit of retouching before that.\r\n    \r\n# Preprocessing of Features\r\n\r\nThere are some features that have NA values in them. It is beneficial for us to get rid of those missing\r\nvalues. Moreover, some features may still not contain data in the form suitable for our model. This\r\npart of the walkthrough will deal with such issues.\r\n    \r\n## Treating Missing values\r\n\r\nFirst, we look at the features that we would actually want to use in our model and identify those that\r\ncontain NA values.\r\n    \r\n```{r, warning=FALSE}\r\nsummary(combi)\r\n```\r\n\r\nSo, Age, Fare, Embarked and Deck are those features (Embarked has 2 blanks which are tantamount to NA here).\r\nWe will address them one at a time. First, for Age, we will use decision tree function `rpart()`. We have\r\nalready imported its library. It is a good model that can be used for both classification and regression\r\nproblems (like in the case of Age). \r\n\r\n```{r, warning=FALSE}\r\n# first creating the decision tree on the training data, or only the rows that contain a value for Age column\r\nfitAge \u003c- rpart(Age ~ Pclass + Sex + SibSp + Parch + Fare + Embarked + Title + FamilySize, data = combi[!(is.na(combi$Age)), ], method = \u0022anova\u0022)\r\n\r\n# now putting the predicted Age values in the rows that have NA in their Age column\r\ncombi$Age[is.na(combi$Age)] \u003c- predict(fitAge, combi[is.na(combi$Age), ])\r\n```\r\n\r\nFor Fare, we find that only a single NA is present. We can assign the median value of the Fare values to the \r\nNA.\r\n    \r\n```{r, warning = FALSE}\r\n# which row(s) has NA in the Fare column\r\nwhich(is.na(combi$Fare))  \r\n\r\n# median value assigned to the NA value.\r\ncombi$Fare[1044] \u003c- median(combi$Fare, na.rm = TRUE)\r\n```\r\n\r\nIn case of Embarked, we observe there are just two missing values. Although it is not NA but blank spaces,\r\nit is equivalent to NA and we should clean them up too. To do that, we will replace these low number of \r\nEmbarked blank spaces with the value that appears most frequently, i.e., \u0022Southampton\u0022. So, we replace with \u0022S\u0022.\r\n    \r\n```{r, warning = FALSE}\r\n# which row has blank as Embarked\r\nwhich(combi$Embarked == \u0027\u0027)\r\n\r\ncombi$Embarked[c(62,830)] = \u0027S\u0027\r\n```\r\n\r\nNow, in case of column Deck, we have a lot of NA values. We will again use `rpart()` but this time\r\nwe will use `method = \u0022class\u0022` instead of \u0022anova\u0022 as we did in the case of regression in the Age column\u0027s\r\ntreatment.\r\n\r\n```{r, warning = FALSE}\r\nfitDeck \u003c- rpart(Deck ~ Pclass + Sex + SibSp + Parch + Fare + Embarked + Title + FamilySize + Age, data = combi[!(is.na(combi$Deck)), ], method = \u0022class\u0022)\r\n\r\ncombi$Deck[is.na(combi$Deck)] \u003c- predict(fitDeck, combi[is.na(combi$Deck), ], type = \u0022class\u0022)\r\n```\r\n\r\nGo ahead and experiment with the `rpart()` function by adding or removing the predictor variables.\r\n\r\n## Fare Improvement\r\n\r\nI got this idea from one of the commenters on Trevor\u0027s blog. When I implemented it, my accuracy\r\nimproved marginally, which is enough to jump ahead of a few hundred people in the leaderboard. I want to\r\nthank you, vruizext(Disqus name), if you ever see this. So, how it works is like this: You can find\r\nmultiple passengers sharing the same ticket number and hence the same fare on the ticket. Those passengers\r\nmay not be listed together in the dataset and hence may not be obvious immediately. What we would like\r\nto do here is to determine the **fare per passenger**. To find this, we will divide the Fare amounts\r\nby the total number of passengers sharing the corresponding Ticket numbers. \r\n\r\nFor example, if there are three passengers having Ticket value equal to `12345` and, therefore, having\r\nthe same Fare amount of, let\u0027s say, `66`, then the fare *per passenger* will be equal to 66 divided\r\nby 3, which is 22. We will implement this to all the rows. \r\n\r\n```{r, warning = FALSE}\r\n# create a temporary data frame storing Ticket values\r\ntempo \u003c- data.frame(table(combi$Ticket))\r\n\r\n# store only those Ticket values that belong to more than one passenger\r\ntempo \u003c- tempo[tempo$Freq \u003e 1, ]\r\n\r\ntempo$Fare \u003c- 0\r\n\r\n# run a nested loop to extract the Fare values for the Ticket values in tempo\r\nfor(i in 1:nrow(combi)) {\r\n  for(j in 1:nrow(tempo)) {\r\n    if(combi$Ticket[i] == tempo$Var1[j]) {\r\n      tempo$Fare[j] = combi$Fare[i] } } } \r\n\r\n# calculate the Fare per passenger\r\ntempo$Fare \u003c- tempo$Fare / tempo$Freq\r\n\r\n# put back the Fare per passenger values to the combi data frame\r\nfor(i in 1:nrow(combi)) {\r\n  for(j in 1:nrow(tempo)) {\r\n    if(combi$Ticket[i] == tempo$Var1[j]) {\r\n      combi$Fare[i] = tempo$Fare[j] } } }\r\n\r\n```\r\n    \r\nAnd we are done with our Fare improvement!\r\n\r\n# Building the Model\r\n    \r\nAs said before, we are going to build an ensemble model known as Conditional Random Forest. We have\r\nalready loaded the required package for `cforest()` known as `party`. But before building our model, we\r\nwill split our **train** and **test** datasets from **combi**.\r\n    \r\n```{r, warning = FALSE}\r\n# 1:891 means 1 to 891(included)\r\ntrain \u003c- combi[1:891, ]\r\ntest \u003c- combi[892:1309, ]\r\n```\r\n\r\nNow we are in the position to build our model, the last step before making the predictions!\r\n\r\n```{r, warning = FALSE}\r\n# setting the seed so that everytime the model is created, random numbers produced would be the same\r\nset.seed(400)\r\n\r\n# the way of building a model is quite similar to how we made a couple of decision trees\r\n# ntree specifies number of trees as base learners and mtry is for the number of variables to be used in each tree \r\nfit \u003c- cforest(factor(Survived) ~ Pclass + Age + Sex + SibSp + Parch + Fare + Embarked + Title + FamilySize + FamilyId + Deck, data = train, controls = cforest_unbiased(ntree = 2000, mtry = 3))\r\n\r\n# making a bar plot of the importance of predictor variables for the model\r\npar(las = 2)\r\nbarplot(varimp(fit))\r\n```\r\n\r\nThe bar plot is a testimony to the success of our engineered features, one of which (Title) is the most \r\nimportant of all, i.e., removing that particular variable may cause a high decrease in the prediction\r\naccuracy. \r\n\r\nWe will now move forward to making the predictions on the test set. \r\n\r\n# Prediction\r\n\r\nSince our model is ready, we are all set to predict the survival chances of the rest of the passengers\r\nin the test set. Along with the prediction, we will also prepare our submission CSV file holding 0s\r\nand 1s as **Survived** column values for the passengers.\r\n\r\n```{r, warning = FALSE}\r\n# our model operating upon the test set\r\nPrediction \u003c- predict(fit, test, OOB = TRUE, type = \u0022response\u0022)\r\n\r\n# create the submit data frame\r\nsubmit \u003c- data.frame(PassengerId = test$PassengerId, Survived = Prediction)\r\n\r\n# write the data frame as a csv file without the row numbers as a separate column\r\nwrite.csv(submit, file = \u0022RFcondInfTrees.csv\u0022, row.names = FALSE)\r\n``` \r\n\r\nSo, this is it! Go ahead and make your submission. If you have already submitted before and didn\u0027t get\r\na good score, you may get it this time. \r\n\r\nThis was my first kernel on RMarkdown and I hope you liked it. Please give me feedbacks if you have any\r\nsuggestion or remark on how I can improve this. In case you have any doubt, please feel free to post\r\nit below. And even if I don\u0027t know the answer myself, we\u0027ll hunt for it together. \r\n\r\nThanks for visiting!","dateCreated":"2017-12-10T17:33:50.393Z"},"resources":null,"isolatorResults":"\u003cresults\u003e\u003cdisk_kb_free\u003e941580\u003c/disk_kb_free\u003e\u003cdocker_image_id\u003esha256:f1b1e4ed8fbef48a9e5d120d057cb02d0080d777a5b0764135737edd10d36c3f\u003c/docker_image_id\u003e\u003cdocker_image_name\u003egcr.io/kaggle-images/rstats\u003c/docker_image_name\u003e\u003cexit_code\u003e0\u003c/exit_code\u003e\u003cfailure_message /\u003e\u003cout_of_memory\u003eFalse\u003c/out_of_memory\u003e\u003crun_time_seconds\u003e2942.03755357501\u003c/run_time_seconds\u003e\u003csucceeded\u003eTrue\u003c/succeeded\u003e\u003ctimeout_exceeded\u003eFalse\u003c/timeout_exceeded\u003e\u003cused_all_space\u003eFalse\u003c/used_all_space\u003e\u003cwas_killed\u003eFalse\u003c/was_killed\u003e\u003c/results\u003e","runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageDigest":null,"dockerImageId":"sha256:f1b1e4ed8fbef48a9e5d120d057cb02d0080d777a5b0764135737edd10d36c3f","dockerImageName":"kaggle/rstats","diskKbFree":941580,"failureMessage":"","exitCode":0,"queuedSeconds":0,"outputSizeBytes":0,"runTimeSeconds":2942.03755357501,"usedAllSpace":false,"timeoutExceeded":false,"isValidStatus":false,"wasGpuEnabled":false,"wasInternetEnabled":false,"outOfMemory":false,"invalidPathErrors":false,"succeeded":true,"wasKilled":false},"outputFilesTotalSizeBytes":3769419,"dockerImageVersionId":null,"usedCustomDockerImage":false},"author":{"id":1031555,"displayName":"Vikas Dhyani","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"haylmg","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1031555-gr.jpg","profileUrl":"/haylmg","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":0,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"baseUrl":"/haylmg/titanic-is-back-in-r","collaborators":{"owner":{"userId":1031555,"groupId":null,"groupMemberCount":null,"profileUrl":"/haylmg","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1031555-gr.jpg","name":"Vikas Dhyani","slug":"haylmg","userTier":0,"joinDate":null,"type":"owner","isUser":true,"isGroup":false},"collaborators":[]},"initialTab":null,"log":"[{\n  \u0022data\u0022: \u0022\\n\\nprocessing file: script.Rmd\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.0666618380346335\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |                                                                 |   0%\\r  |                                                                       \\r  |.                                                                |   2%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.220330089039635\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...                                                              |   4%\\nlabel: unnamed-chunk-1 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.2512502380413935\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....                                                             |   6%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.411394762049895\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.....                                                            |   8%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.444520218006801\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-2 (with options) \\nList of 2\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.5429311509942636\n},{\n  \u0022data\u0022: \u0022 $ message: logi FALSE\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 3.574160424002912\n},{\n  \u0022data\u0022: \u0022Loading required package: methods\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.769013947050553\n},{\n  \u0022data\u0022: \u0022Loading required package: grid\\nLoading required package: mvtnorm\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.80026747204829\n},{\n  \u0022data\u0022: \u0022Loading required package: modeltools\\nLoading required package: stats4\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.8309909329982474\n},{\n  \u0022data\u0022: \u0022Loading required package: strucchange\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.8906396240345202\n},{\n  \u0022data\u0022: \u0022Loading required package: zoo\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.9213530690176412\n},{\n  \u0022data\u0022: \u0022\\nAttaching package: \u0027zoo\u0027\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.953785506018903\n},{\n  \u0022data\u0022: \u0022The following objects are masked from \u0027package:base\u0027:\\n\\n    as.Date, as.Date.numeric\\n\\nLoading required package: sandwich\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 3.9844633560278453\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......                                                          |  10%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........                                                         |  12%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.047476220002864\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-3 (with options) \\nList of 2\\n $ message: logi FALSE\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |.........                                                        |  14%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...........                                                      |  16%\\nlabel: unnamed-chunk-4 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.079903780017048\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............                                                     |  18%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............                                                    |  20%\\nlabel: unnamed-chunk-5 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |...............                                                  |  22%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |................                                                 |  24%\\nlabel: unnamed-chunk-6 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.112805914017372\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................                                                |  27%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.155852371011861\n},{\n  \u0022data\u0022: \u0022\\r  |...................                                              |  29%\\nlabel: unnamed-chunk-7 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |....................                                             |  31%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.....................                                            |  33%\\nlabel: unnamed-chunk-8 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.186558239045553\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......................                                          |  35%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........................                                         |  37%\\nlabel: unnamed-chunk-9 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |.........................                                        |  39%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...........................                                      |  41%\\nlabel: unnamed-chunk-10 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |............................                                     |  43%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............................                                    |  45%\\nlabel: unnamed-chunk-11 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.217435514030512\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................                                  |  47%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |................................                                 |  49%\\nlabel: unnamed-chunk-12 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.2484879620024\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................................                                |  51%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..................................                               |  53%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.405871333030518\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-13 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |....................................                             |  55%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.....................................                            |  57%\\nlabel: unnamed-chunk-14 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.4379228060133755\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......................................                           |  59%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........................................                         |  61%\\nlabel: unnamed-chunk-15 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |.........................................                        |  63%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..........................................                       |  65%\\nlabel: unnamed-chunk-16 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.468552361999173\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................................                     |  67%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............................................                    |  69%\\nlabel: unnamed-chunk-17 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |..............................................                   |  71%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |................................................                 |  73%\\nlabel: unnamed-chunk-18 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |.................................................                |  76%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..................................................               |  78%\\nlabel: unnamed-chunk-19 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |....................................................             |  80%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.....................................................            |  82%\\nlabel: unnamed-chunk-20 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |......................................................           |  84%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........................................................         |  86%\\nlabel: unnamed-chunk-21 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 5.647862304002047\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................................................        |  88%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..........................................................       |  90%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 1481.4595653000288\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-22 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\\r  |                                                                       \\r  |............................................................     |  92%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............................................................    |  94%\\nlabel: unnamed-chunk-23 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 1481.4910422800458\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............................................................   |  96%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |................................................................ |  98%\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 2930.3585047950037\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-24 (with options) \\nList of 1\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 2930.3911185369943\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................................................................| 100%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 2941.4598990950035\n},{\n  \u0022data\u0022: \u0022output file: /kaggle/working/script.knit.md\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 2941.4890241090325\n},{\n  \u0022data\u0022: \u0022\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 2941.4927960539935\n},{\n  \u0022data\u0022: \u0022/usr/local/bin/pandoc +RTS -K512m -RTS /kaggle/working/script.utf8.md --to html --from markdown+autolink_bare_uris+ascii_identifiers+tex_math_single_backslash --output /kaggle/working/__results__.html --smart --email-obfuscation none --standalone --section-divs --table-of-contents --toc-depth 3 --template /usr/local/lib/R/site-library/rmarkdown/rmd/h/default.html --highlight-style tango --number-sections --variable \u0027theme:readable\u0027 --include-in-header /tmp/Rtmp7egYfZ/rmarkdown-str140bb3132.html --mathjax --variable \u0027mathjax-url:https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\u0027 \\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 2941.617931317014\n},{\n  \u0022data\u0022: \u0022\\nOutput created: __results__.html\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 2941.8424479599926\n},{\n  \u0022data\u0022: \u0022Warning messages:\\n1: In file.rename(from, to) :\\n  cannot rename file \u0027/kaggle/working/__results___files/figure-html\u0027 to \u0027/kaggle/working//kaggle/working/__results___files/figure-html\u0027, reason \u0027No such file or directory\u0027\\n2: In file.rename(from, to) :\\n  cannot rename file \u0027/kaggle/working//kaggle/working/__results___files/figure-html\u0027 to \u0027/kaggle/working/__results___files/figure-html\u0027, reason \u0027No such file or directory\u0027\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 2941.8748335490236\n}]","outputFiles":[{"ownerInfo":null,"kernelVersionOutputFileId":9147828,"kernelVersionId":1914857,"kernelId":354499,"size":0,"fullPath":"RFcondInfTrees.csv","previewUrl":"/kernels/preview.json/1914857/5ef2ad12-3f10-0f13-943e-6f52d1eedacb/RFcondInfTrees.csv","downloadUrl":"https://www.kaggleusercontent.com/kf/1914857/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0.._rf66Dnb-hxHvCj4xwETgw.0ZFfWenosTUqltp0h4lWdoBKOWBf-1GLrEoo_UxapFbmIrxqcBpDjo2XzE6xIfO8MA5VXXC_fHL9T5tUvOCCCAO3c25obiqw5XUcJ5rLjBS1YRv1sGVQBRrv0cVuPRGJjTsDIZkR_VSPjw45-uIL8w.gCDp3ZbFGaNwPud719OKJw/RFcondInfTrees.csv","fileType":".csv","contentLength":3679,"contentType":null,"contentMD5":null,"validationErrors":null,"type":"kernelOutputFile","collapsed":false,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"RFcondInfTrees.csv","description":null}],"outputFilesCropped":false,"ouputFilesOwnerInfo":{"databundleVersionId":0,"dataset":null,"competition":null,"kernel":{"kernelId":354499,"kernelVersionId":1914857,"dataviewToken":"eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..s9gJpgAI0jO7fi3DEf74Jw.peQCCfTV0lFrFKeFAYfb3xiPG6rY9rWQNxM-u6rlvcm5fYDL24QD77tL12ajOpq7PTDPzJx0PYg2V5McuV3BERifvBWallMKEkAl9JIxssslRUIWT6fBQivSuUTIBx9AF-uz9cpMFb7Ye_6qvLpnJ3tvNych8hA0h49NGwW-pM8yINvAohyY1Ra4S-2973KhC3rySCRZyB-m_vgArXiORtHWnf2slPuPigE0NeylGp22KqiDgtlRJl5B4EacNukjqcnEGEYKVbW94MbF_3yijeXiyTTL-RP9bQJJ34qPq3luDa7Y53wx8Ol-f-Y4hnIheXQPJCETuTg_kQzklHhu-ZPvP0gbzLOeHkO2dmls23e9-0Qv48QG6BoXVYwg4yXPTfJjmtDJ7wPJcIwWWEYMc-RhWf_U8dnf8bI2f5DrbH-nMa4bpDF1ysixDSP8a9iXWMMysxWzViLlfkRLLVyUX4rVpkngcCXsOv4mlI6DsjlCv3UlELjfCBs-6eXth0JCqIe8QNo8nEoIDqIiwsQN-zthtq04gNYjsUu-m0ypQ1g.1dE94kkWEzf8LISm0GbPbw","scope":"haylmg/titanic-is-back-in-r"},"previewsDisabled":false},"pageMessages":[],"dataSources":[{"imageUrl":"https://storage.googleapis.com/kaggle-competitions/kaggle/3136/logos/thumb76_76.png","sourceUrl":"/c/titanic","slug":"titanic","lastUpdated":"2012-09-28T21:13:33.55Z","overview":"Start here! Predict survival on the Titanic and get familiar with ML basics","sourceType":"competition","sourceVersionType":null,"sourceId":3136,"sourceVersionNumber":null,"maxVersionNumber":null,"descriptionMimeType":"text/html","deleted":false,"private":false,"privateButVisible":false,"ownerInfo":{"databundleVersionId":26502,"dataset":null,"competition":{"competitionId":3136,"dataviewToken":null,"scope":"c/titanic"},"kernel":null,"previewsDisabled":true},"type":"dataSource","collapsed":false,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"id":63842,"blobFileId":37991,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/gender_submission.csv","creationDate":"2017-02-01T01:49:18Z","isDummy":false,"size":3258,"fullPath":"../input/gender_submission.csv","previewUrl":"kernels/competition-preview/3136?relativePath=gender_submission.csv","downloadUrl":"/c/titanic/download/gender_submission.csv","fileType":".csv","contentLength":3258,"contentType":"text/csv","contentMD5":"MNEHO5ZKXYFUMexgOg3jUw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"892\n893\n894\n895\n896\n897\n898\n899\n900\n901\n902\n903\n904\n905\n906\n907\n908\n909\n910\n911\n912\n913\n914\n915\n916\n917\n918\n919\n920\n921\n922\n923\n924\n925\n926\n927\n928\n929\n930\n931\n932\n933\n934\n935\n936\n937\n938\n939\n940\n941\n942\n943\n944\n945\n946\n947\n948\n949\n950\n951\n952\n953\n954\n955\n956\n957\n958\n959\n960\n961\n962\n963\n964\n965\n966\n967\n968\n969\n970\n971\n972\n973\n974\n975\n976\n977\n978\n979\n980\n981\n982\n983\n984\n985\n986\n987\n988\n989\n990\n991\n992\n993\n994\n995\n996\n997\n998\n999\n1000\n1001\n1002\n1003\n1004\n1005\n1006\n1007\n1008\n1009\n1010\n1011\n1012\n1013\n1014\n1015\n1016\n1017\n1018\n1019\n1020\n1021\n1022\n1023\n1024\n1025\n1026\n1027\n1028\n1029\n1030\n1031\n1032\n1033\n1034\n1035\n1036\n1037\n1038\n1039\n1040\n1041\n1042\n1043\n1044\n1045\n1046\n1047\n1048\n1049\n1050\n1051\n1052\n1053\n1054\n1055\n1056\n1057\n1058\n1059\n1060\n1061\n1062\n1063\n1064\n1065\n1066\n1067\n1068\n1069\n1070\n1071\n1072\n1073\n1074\n1075\n1076\n1077\n1078\n1079\n1080\n1081\n1082\n1083\n1084\n1085\n1086\n1087\n1088\n1089\n1090\n1091\n1092\n1093\n1094\n1095\n1096\n1097\n1098\n1099\n1100\n1101\n1102\n1103\n1104\n1105\n1106\n1107\n1108\n1109\n1110\n1111\n1112\n1113\n1114\n1115\n1116\n1117\n1118\n1119\n1120\n1121\n1122\n1123\n1124\n1125\n1126\n1127\n1128\n1129\n1130\n1131\n1132\n1133\n1134\n1135\n1136\n1137\n1138\n1139\n1140\n1141\n1142\n1143\n1144\n1145\n1146\n1147\n1148\n1149\n1150\n1151\n1152\n1153\n1154\n1155\n1156\n1157\n1158\n1159\n1160\n1161\n1162\n1163\n1164\n1165\n1166\n1167\n1168\n1169\n1170\n1171\n1172\n1173\n1174\n1175\n1176\n1177\n1178\n1179\n1180\n1181\n1182\n1183\n1184\n1185\n1186\n1187\n1188\n1189\n1190\n1191\n1192\n1193\n1194\n1195\n1196\n1197\n1198\n1199\n1200\n1201\n1202\n1203\n1204\n1205\n1206\n1207\n1208\n1209\n1210\n1211\n1212\n1213\n1214\n1215\n1216\n1217\n1218\n1219\n1220\n1221\n1222\n1223\n1224\n1225\n1226\n1227\n1228\n1229\n1230\n1231\n1232\n1233\n1234\n1235\n1236\n1237\n1238\n1239\n1240\n1241\n1242\n1243\n1244\n1245\n1246\n1247\n1248\n1249\n1250\n1251\n1252\n1253\n1254\n1255\n1256\n1257\n1258\n1259\n1260\n1261\n1262\n1263\n1264\n1265\n1266\n1267\n1268\n1269\n1270\n1271\n1272\n1273\n1274\n1275\n1276\n1277\n1278\n1279\n1280\n1281\n1282\n1283\n1284\n1285\n1286\n1287\n1288\n1289\n1290\n1291\n1292\n1293\n1294\n1295\n1296\n1297\n1298\n1299\n1300\n1301\n1302\n1303\n1304\n1305\n1306\n1307\n1308\n1309\n"},{"order":1,"originalType":"","type":"boolean","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Survived","description":"0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n1\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"gender_submission.csv","description":"892,0\n893,0\n894,0\n895,0\n896,0\n897,0\n898,0\n899,0\n900,0\n901,0\n902,0\n903,0\n904,1\n905,0a\n906,1\n907,0\n908,0\n909,0\n910,0\n911,0\n912,1\n913,0\n914,0\n915,0\n916,1\n917,0\n918,0\n919,0\n920,0\n921,0\n922,0\n923,0\n924,0\n925,0\n926,1\n927,0\n928,0\n929,0\n930,0\n931,1\n932,0\n933,0\n934,0\n935,0\n936,1\n937,0\n938,0\n939,0\n940,1\n941,0\n942,1\n943,0\n944,0\n945,1\n946,0\n947,0\n948,0\n949,0\n950,0\n951,1\n952,0\n953,0\n954,0\n955,0\n956,1\n957,0\n958,0\n959,0\n960,0\n961,1\n962,\n963,0\n964,0\n965,0\n966,1\n967,1\n968,0\n969,0\n970,0\n971,0\n972,0\n973,1\n974,0\n975,0\n976,0\n977,0\n978,0\n979,0\n980,0\n981,0\n982,0\n983,0\n984,0\n985,0\n986,0\n987,0\n988,1\n989,0\n990,0\n991,0\n992,1\n993,0\n994,0\n995,0\n996,0\n997,0\n998,0\n999,0\n1000,0\n1001,0\n1002,0\n1003,0\n1004,0\n1005,0\n1006,1\n1007,0\n1008,0\n1009,0\n1010,1\n1011,0\n1012,0\n1013,0\n1014,1\n1015,0\n1016,0\n1017,0\n1018,0\n1019,0\n1020,0\n1021,0\n1022,0\n1023,0\n1024,0\n1025,0\n1026,0\n1027,0\n1028,0\n1029,0\n1030,0\n1031,0\n1032,0\n1033,1\n1034,1\n1035,0\n1036,0\n1037,0\n1038,1\n1039,0\n1040,0\n1041,0\n1042,1\n1043,0\n1044,0\n1045,0\n1046,0\n1047,0\n1048,1\n1049,0\n1050,0\n1051,0\n1052,0\n1053,0\n1054,0\n1055,0\n1056,0\n1057,0\n1058,1\n1059,0\n1060,0\n1061,0\n1062,0\n1063,0\n1064,0\n1065,0\n1066,0\n1067,0\n1068,0\n1069,1\n1070,0\n1071,1\n1072,0\n1073,1\n1074,1\n1075,0\n1076,1\n1077,0\n1078,0\n1079,0\n1080,1\n1081,0\n1082,0\n1083,0\n1084,0\n1085,0\n1086,0\n1087,0\n1088,1\n1089,0\n1090,0\n1091,0\n1092,0\n1093,0\n1094,1\n1095,0\n1096,0\n1097,0\n1098,0\n1099,0\n1100,0\n1101,0\n1102,0\n1103,0\n1104,1\n1105,0\n1106,0\n1107,0\n1108,0\n1109,1\n1110,1\n1111,0\n1112,0\n1113,0\n1114,0\n1115,0\n1116,0\n1117,0\n1118,0\n1119,0\n1120,0\n1121,0\n1122,1\n1123,0\n1124,0\n1125,0\n1126,1\n1127,0\n1128,1\n1129,0\n1130,0\n1131,1\n1132,0\n1133,0\n1134,1\n1135,0\n1136,0\n1137,1\n1138,0\n1139,0\n1140,0\n1141,0\n1142,0\n1143,0\n1144,1\n1145,0\n1146,0\n1147,0\n1148,0\n1149,0\n1150,0\n1151,0\n1152,0\n1153,0\n1154,0\n1155,0\n1156,0\n1157,0\n1158,0\n1159,0\n1160,0\n1161,0\n1162,1\n1163,0\n1164,1\n1165,0\n1166,0\n1167,0\n1168,0\n1169,0\n1170,0\n1171,0\n1172,0\n1173,0\n1174,0\n1175,0\n1176,0\n1177,0\n1178,0\n1179,1\n1180,0\n1181,0\n1182,0\n1183,0\n1184,0\n1185,1\n1186,0\n1187,0\n1188,0\n1189,0\n1190,1\n1191,0\n1192,0\n1193,0\n1194,0\n1195,0\n1196,0\n1197,0\n1198,1\n1199,0\n1200,1\n1201,0\n1202,0\n1203,0\n1204,0\n1205,0\n1206,1\n1207,0\n1208,1\n1209,0\n1210,0\n1211,0\n1212,0\n1213,0\n1214,0\n1215,0\n1216,1\n1217,0\n1218,0\n1219,1\n1220,0\n1221,0\n1222,0\n1223,0\n1224,0\n1225,0\n1226,0\n1227,0\n1228,0\n1229,0\n1230,0\n1231,0\n1232,0\n1233,0\n1234,1\n1235,1\n1236,0\n1237,0\n1238,0\n1239,0\n1240,0\n1241,0\n1242,1\n1243,0\n1244,1\n1245,1\n1246,0\n1247,0\n1248,1\n1249,0\n1250,0\n1251,0\n1252,1\n1253,0\n1254,0\n1255,0\n1256,1\n1257,1\n1258,0\n1259,0\n1260,0\n1261,0\n1262,0\n1263,1\n1264,0\n1265,0\n1266,1\n1267,1\n1268,0\n1269,0\n1270,1\n1271,0\n1272,0\n1273,0\n1274,0\n1275,0\n1276,0\n1277,1\n1278,0\n1279,0\n1280,0\n1281,0\n1282,1\n1283,0\n1284,0\n1285,0\n1286,0\n1287,1\n1288,0\n1289,1\n1290,0\n1291,0\n1292,1\n1293,0\n1294,0\n1295,1\n1296,0\n1297,0\n1298,0\n1299,1\n1300,0\n1301,0\n1302,0\n1303,1\n1304,0\n1305,0\n1306,1\n1307,0\n1308,0\n1309,0"},{"id":63841,"blobFileId":2613,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/test.csv","creationDate":"2013-06-28T13:40:24.227Z","isDummy":false,"size":28629,"fullPath":"../input/test.csv","previewUrl":"kernels/competition-preview/3136?relativePath=test.csv","downloadUrl":"/c/titanic/download/test.csv","fileType":".csv","contentLength":28629,"contentType":"text/csv","contentMD5":"dTO4Lq5LWCYQy9aKpjawFw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"1"},{"order":1,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Pclass","description":"1"},{"order":2,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Name","description":"the name of the passenger"},{"order":3,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Sex","description":null},{"order":4,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Age","description":null},{"order":5,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"SibSp","description":"of siblings / spouses aboard the Titanic"},{"order":6,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Parch","description":"of parents / children aboard the Titanic"},{"order":7,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Ticket","description":"Ticket number"},{"order":8,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Fare","description":"Passenger fare"},{"order":9,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Cabin","description":"Cabin number"},{"order":10,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Embarked","description":"Port of Embarkation"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"test.csv","description":"test data to check the accuracy of the model created\n"},{"id":63840,"blobFileId":2307,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/train.csv","creationDate":"2013-06-28T13:40:25.23Z","isDummy":false,"size":61194,"fullPath":"../input/train.csv","previewUrl":"kernels/competition-preview/3136?relativePath=train.csv","downloadUrl":"/c/titanic/download/train.csv","fileType":".csv","contentLength":61194,"contentType":"text/csv","contentMD5":"IwnMXwR4Ltm7YBbZ9OOBzw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":891},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"type should be integers"},{"order":1,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Survived","description":"Survived or Not "},{"order":2,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Pclass","description":"Class of Travel"},{"order":3,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Name","description":"Name of Passenger"},{"order":4,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Sex","description":"Gender"},{"order":5,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Age","description":"Age of Passengers"},{"order":6,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"SibSp","description":"Number of Sibling/Spouse aboard"},{"order":7,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Parch","description":"Number of Parent/Child aboard"},{"order":8,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Ticket","description":null},{"order":9,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Fare","description":null},{"order":10,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Cabin","description":null},{"order":11,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Embarked","description":"The port in which a passenger has embarked. C - Cherbourg, S - Southampton, Q = Queenstown"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"train.csv","description":"contains data \n"}],"name":"Titanic: Machine Learning from Disaster","description":"\u003ch3\u003eOverview\u003c/h3\u003e\n\u003cp\u003eThe data has been split into two groups:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003etraining set (train.csv)\u003c/li\u003e\n\u003cli\u003etest set (test.csv)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cb\u003e The training set \u003c/b\u003eshould be used to build your machine learning models. For the training set, we provide the outcome (also known as the “ground truth”) for each passenger. Your model will be based on “features” like passengers’ gender and class. You can also use \u003ca href=\u0022https://triangleinequality.wordpress.com/2013/09/08/basic-feature-engineering-with-the-titanic-data/\u0022 target=\u0022_blank\u0022\u003e feature engineering \u003c/a\u003eto create new features.\u003c/p\u003e\n\u003cp\u003e\u003cb\u003eThe test set \u003c/b\u003eshould be used to see how well your model performs on unseen data. For the test set, we do not provide the ground truth for each passenger. It is your job to predict these outcomes. For each passenger in the test set, use the model you trained to predict whether or not they survived the sinking of the Titanic.\u003c/p\u003e\n\u003cp\u003eWe also include \u003cb\u003egender_submission.csv\u003c/b\u003e, a set of predictions that assume all and only female passengers survive, as an example of what a submission file should look like.\u003c/p\u003e\n\u003ch3\u003eData Dictionary\u003c/h3\u003e\n\u003ctable style=\u0022width: 100%;\u0022\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\u003cth\u003e\u003cb\u003eVariable\u003c/b\u003e\u003c/th\u003e\u003cth\u003e\u003cb\u003eDefinition\u003c/b\u003e\u003c/th\u003e\u003cth\u003e\u003cb\u003eKey\u003c/b\u003e\u003c/th\u003e\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esurvival\u003c/td\u003e\n\u003ctd\u003eSurvival\u003c/td\u003e\n\u003ctd\u003e0 = No, 1 = Yes\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003epclass\u003c/td\u003e\n\u003ctd\u003eTicket class\u003c/td\u003e\n\u003ctd\u003e1 = 1st, 2 = 2nd, 3 = 3rd\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esex\u003c/td\u003e\n\u003ctd\u003eSex\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eAge\u003c/td\u003e\n\u003ctd\u003eAge in years\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esibsp\u003c/td\u003e\n\u003ctd\u003e# of siblings / spouses aboard the Titanic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eparch\u003c/td\u003e\n\u003ctd\u003e# of parents / children aboard the Titanic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eticket\u003c/td\u003e\n\u003ctd\u003eTicket number\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efare\u003c/td\u003e\n\u003ctd\u003ePassenger fare\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ecabin\u003c/td\u003e\n\u003ctd\u003eCabin number\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eembarked\u003c/td\u003e\n\u003ctd\u003ePort of Embarkation\u003c/td\u003e\n\u003ctd\u003eC = Cherbourg, Q = Queenstown, S = Southampton\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003eVariable Notes\u003c/h3\u003e\n\u003cp\u003e\u003cb\u003epclass\u003c/b\u003e: A proxy for socio-economic status (SES)\u003cbr /\u003e 1st = Upper\u003cbr /\u003e 2nd = Middle\u003cbr /\u003e 3rd = Lower\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003eage\u003c/b\u003e: Age is fractional if less than 1. If the age is estimated, is it in the form of xx.5\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003esibsp\u003c/b\u003e: The dataset defines family relations in this way...\u003cbr /\u003e Sibling = brother, sister, stepbrother, stepsister\u003cbr /\u003e Spouse = husband, wife (mistresses and fiancés were ignored)\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003eparch\u003c/b\u003e: The dataset defines family relations in this way...\u003cbr /\u003e Parent = mother, father\u003cbr /\u003e Child = daughter, son, stepdaughter, stepson\u003cbr /\u003e Some children travelled only with a nanny, therefore parch=0 for them.\u003c/p\u003e"}],"versions":[{"id":1914857,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-12-10T17:33:50.393Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:f1b1e4ed8fbef48a9e5d120d057cb02d0080d777a5b0764135737edd10d36c3f","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":2942.03755357501,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic is back in R!","url":"/haylmg/titanic-is-back-in-r?scriptVersionId=1914857","versionNumber":9,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1724877,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-11-08T17:20:05.387Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:a1012a8a5b19a781b2c435bc5c0838b38273a0bed004447065e801626df667d3","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":2528.11222442001,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic is back in R!","url":"/haylmg/titanic-is-back-in-r?scriptVersionId=1724877","versionNumber":8,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1691679,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-11-01T14:20:58.073Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":4,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:a1012a8a5b19a781b2c435bc5c0838b38273a0bed004447065e801626df667d3","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":2572.348274588,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic is back in R!","url":"/haylmg/titanic-is-back-in-r?scriptVersionId=1691679","versionNumber":7,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1483990,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-09-06T16:57:56.07Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":54,"linesInsertedFromPrevious":56,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b5b6f656cf208e12c42101972772a366f55af8e558fc3a38fade3ec1248a28c","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1729.52947268449,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic is back in R!","url":"/haylmg/titanic-is-back-in-r?scriptVersionId=1483990","versionNumber":6,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1482873,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-09-06T09:04:52.977Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":15,"linesInsertedFromPrevious":19,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b5b6f656cf208e12c42101972772a366f55af8e558fc3a38fade3ec1248a28c","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1939.90812151483,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic is back in R!","url":"/haylmg/titanic-is-back-in-r?scriptVersionId=1482873","versionNumber":5,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1481238,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-09-05T16:55:46.273Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b5b6f656cf208e12c42101972772a366f55af8e558fc3a38fade3ec1248a28c","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1645.79707810492,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic is back in R!","url":"/haylmg/titanic-is-back-in-r?scriptVersionId=1481238","versionNumber":4,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1481199,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-09-05T16:33:29.167Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b5b6f656cf208e12c42101972772a366f55af8e558fc3a38fade3ec1248a28c","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1830.64266716968,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic is back in R!","url":"/haylmg/titanic-is-back-in-r?scriptVersionId=1481199","versionNumber":3,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1481190,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-09-05T16:29:55.72Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":2,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b5b6f656cf208e12c42101972772a366f55af8e558fc3a38fade3ec1248a28c","dockerImageName":"kaggle/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":5.97039640694857,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic is back in R!","url":"/haylmg/titanic-is-back-in-r?scriptVersionId=1481190","versionNumber":2,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1481185,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-09-05T16:27:42.667Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":399,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b5b6f656cf208e12c42101972772a366f55af8e558fc3a38fade3ec1248a28c","dockerImageName":"kaggle/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":8.36340600438416,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic is back in R!","url":"/haylmg/titanic-is-back-in-r?scriptVersionId=1481185","versionNumber":1,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null}],"categories":{"categories":[{"id":13306,"name":"feature engineering","displayName":"feature engineering","fullPath":"machine learning \u003e feature engineering","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27feature engineering%27","tagUrl":"/tags/feature-engineering","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":44,"competitionCount":0,"scriptCount":1973,"totalCount":2017}],"type":"script"},"submitToCompetitionInfo":null,"downloadAllFilesUrl":"/kernels/svzip/1914857","submission":null,"menuLinks":[{"href":"/haylmg/titanic-is-back-in-r/notebook","text":"Report","title":"Notebook","tab":"report","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/haylmg/titanic-is-back-in-r/code","text":"Code","title":"Code","tab":"code","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/haylmg/titanic-is-back-in-r/data","text":"Data","title":"Data","tab":"data","count":1,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/haylmg/titanic-is-back-in-r/output","text":"Output","title":"Output","tab":"output","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/haylmg/titanic-is-back-in-r/comments","text":"Comments","title":"Comments","tab":"comments","count":2,"showZeroCountExplicitly":true,"reportEventCategory":null,"reportEventType":null},{"href":"/haylmg/titanic-is-back-in-r/log","text":"Log","title":"Log","tab":"log","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/haylmg/titanic-is-back-in-r/versions","text":"Versions","title":"Versions","tab":"versions","count":9,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/haylmg/titanic-is-back-in-r/forks","text":"Forks","title":"Forks","tab":"forks","count":5,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null}],"rightMenuLinks":[],"callToAction":{"href":"/kernels/fork-version/1914857","text":"Fork Script","title":"Fork Script","tab":null,"count":null,"showZeroCountExplicitly":false,"reportEventCategory":"kernels","reportEventType":"anonymousKernelForkCreation"},"voteButton":{"totalVotes":7,"hasAlreadyVotedUp":false,"hasAlreadyVotedDown":false,"canUpvote":true,"canDownvote":false,"voteUpUrl":"/kernels/vote?id=354499","voteDownUrl":null,"voters":[{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/557222-fb.jpg","displayName":"Jihye Sofia Seo","profileUrl":"/jihyeseo","tier":"Expert","tierInt":2,"userId":557222,"userName":"jihyeseo"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/786546-kg.jpg","displayName":"Naveen G","profileUrl":"/naveennafee","tier":"Novice","tierInt":0,"userId":786546,"userName":"naveennafee"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1020983-kg.png","displayName":"Oscar Takeshita","profileUrl":"/pliptor","tier":"Expert","tierInt":2,"userId":1020983,"userName":"pliptor"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1046155-kg.jpg","displayName":"Jenny Lee","profileUrl":"/jeeyounglee","tier":"Novice","tierInt":0,"userId":1046155,"userName":"jeeyounglee"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Asier Arteaga","profileUrl":"/asierarteaga","tier":"Novice","tierInt":0,"userId":1139078,"userName":"asierarteaga"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"K Dendas","profileUrl":"/maunga","tier":"Novice","tierInt":0,"userId":1402779,"userName":"maunga"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Ashish Kadam","profileUrl":"/ashnandkadamster","tier":"Novice","tierInt":0,"userId":1485391,"userName":"ashnandkadamster"}],"currentUserInfo":null,"showVoters":true,"alwaysShowVoters":true},"parentDataSource":null,"parentName":"Titanic: Machine Learning from Disaster","parentUrl":"/c/titanic","thumbnailImageUrl":"https://storage.googleapis.com/kaggle-competitions/kaggle/3136/logos/thumb76_76.png","canWrite":false,"canAdminister":false,"datasetHidden":false,"forkParentIsRedacted":false,"forkDiffLinesChanged":0,"forkDiffLinesDeleted":0,"forkDiffLinesInserted":0,"forkDiffUrl":null,"forkParentAuthorDisplayName":null,"forkParentAuthorUrl":null,"forkParentTitle":null,"forkParentUrl":null,"canSeeDataExplorerV2":true,"canSeeRevampedViewer":true,"canSeeInnerTableOfContents":true,"canSeeCopyAndEditText":true,"simplifiedViewer":false,"kernelOutputDataset":null});performance && performance.mark && performance.mark("KernelViewer.componentCouldBootstrap");</script>

<form action="/haylmg/titanic-is-back-in-r" id="__AjaxAntiForgeryForm" method="post"><input name="X-XSRF-TOKEN" type="hidden" value="CfDJ8LdUzqlsSWBPr4Ce3rb9VL-qsVGMlAuryAKT8GDUAbY67V3e3z-YvgAZJ6PGXRIgKsy4v2cKYCWOyZVwRCyPLZAtiVZBWdWMKaOXW1fh5ORmZeBeHNrtov6ifO7Z2HzLmPQzd6fNd6oja0gnfjUrMAU" /></form>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        "HTML-CSS": {
            preferredFont: "TeX",
            availableFonts: ["STIX", "TeX"],
            linebreaks: {
                automatic: true
            },
            EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
        },
        tex2jax: {
            inlineMath: [["\\(", "\\)"], ["\\\\(", "\\\\)"]],
            displayMath: [["$$", "$$"], ["\\[", "\\]"]],
            processEscapes: true,
            ignoreClass: "tex2jax_ignore|dno"
        },
        TeX: {
            noUndefined: {
                attributes: {
                    mathcolor: "red",
                    mathbackground: "#FFEEEE",
                    mathsize: "90%"
                }
            }
        },
        Macros: {
            href: "{}"
        },
        skipStartupTypeset: true,
        messageStyle: "none"
    });
</script>
<script type="text/javascript" async crossorigin="anonymous" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



    </div>

        <div class="site-layout__footer">
            <footer class="site-footer">
    <div class="site-footer__content">
        <div class="site-footer__copyright">
            <span>&copy; 2019 Kaggle Inc</span>
        </div>
        <nav class="site-footer__nav">
            <a href="/team">Our Team</a>
            <a href="/terms">Terms</a>
            <a href="/privacy">Privacy</a>
            <a href="/contact">Contact/Support</a>
        </nav>
        <nav class="site-footer__social">
            <div data-component-name="SocialIcons" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push();performance && performance.mark && performance.mark("SocialIcons.componentCouldBootstrap");</script>
        </nav>
    </div>
</footer>

        </div>
</div>




    </main>
</body>
</html>
