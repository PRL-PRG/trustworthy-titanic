<!DOCTYPE html>
<html lang="en">
<head>
    <title>Titanic Survivorship Analysis | Kaggle</title>
    <meta charset="utf-8" />
    <meta name="robots" content="index, follow" />
    <meta name="turbolinks-cache-control" content="no-cache" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">    <meta name="theme-color" content="#008ABC" />
    <script type="text/javascript">
        window["initialPageLoadStartTime"] = new Date().getTime();
    </script>
    <link rel="dns-prefetch" href="https://www.google-analytics.com" /><link rel="dns-prefetch" href="https://stats.g.doubleclick.net" /><link rel="dns-prefetch" href="https://js.intercomcdn.com" /><link rel="dns-prefetch" href="https://storage.googleapis.com/" />
    <link href="/static/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link rel="manifest" href="/static/json/manifest.json">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic" rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type='text/css'/>
        <link rel="canonical" href="/gualtieri/titanic-survivorship-analysis" />                    <link rel="stylesheet" type="text/css" href="/static/assets/vendor.css?v=632d145d8598" />
        <link rel="stylesheet" type="text/css" href="/static/assets/app.css?v=1d00932a7505" />
    
    
 
        <script>
        try{(function(a,s,y,n,c,h,i,d,e){d=s.createElement("style");
        d.appendChild(s.createTextNode(""));s.head.appendChild(d);d=d.sheet;
        y=y.map(x => d.insertRule(x + "{ opacity: 0 !important }"));
        h.start=1*new Date;h.end=i=function(){y.forEach(x => d.deleteRule(x))};
        (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
        })(window,document,['.site-header-react__nav'],'dataLayer',2000,{'GTM-52LNT9S':true});}catch{}
    </script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-12629138-1', {
            'optimize_id': 'GTM-52LNT9S',
            'displayFeaturesTask': null,
            'send_page_view': false
        });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12629138-1"></script>

    
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
            n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq("set", "autoConfig", "false", "136809193586742");
    fbq('init', '136809193586742'); 
    fbq('track', 'PageView');
</script>
<noscript>
    <img height="1" width="1" src="https://www.facebook.com/tr?id=136809193586742&ev=PageView&noscript=1"/>
</noscript>

<script>window.intercomSettings = {"app_id":"koj6gxx6"};</script>        <script>(function () { var w = window; var ic = w.Intercom; if (typeof ic === "function") { ic('reattach_activator'); ic('update', intercomSettings); } else { var d = document; var i = function () { i.c(arguments) }; i.q = []; i.c = function (args) { i.q.push(args) }; w.Intercom = i; function l() { var s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'https://widget.intercom.io/widget/koj6gxx6'; var x = d.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); } if (w.attachEvent) { w.attachEvent('onload', l); } else { w.addEventListener('load', l, false); } } })()</script>
    
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@kaggledatasets" />
    <meta name="og:url" content="https://kaggle.com/gualtieri/titanic-survivorship-analysis" />
    <meta name="og:title" content="Titanic Survivorship Analysis" />
    <meta name="og:description" content="Using data from Titanic: Machine Learning from Disaster" />
    <meta name="og:image" content="https://storage.googleapis.com/kaggle-avatars/thumbnails/23652-gr.jpg" />


    
    

    
    
    
<script type="text/javascript">
    var Kaggle = Kaggle || {};

    Kaggle.Current = {
        antiForgeryToken: 'CfDJ8LdUzqlsSWBPr4Ce3rb9VL9x6byr-kyWxBdkotRB3L7UpzT3qZ7MlofY3MK3F1FsVv2FveGd0RlFkkQqX1BXXayxV6kIQigdrycqk1zP6r5yStgnzQAWYBniy-674TMqSkWyIjx0mJ5pwIXEq6CnOQ0',
        isAnonymous: true,
        analyticsToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjAzMjI2MTIsIlVzZXJJZCI6MH0.qYp1FJGp2bbxWCHcIL3W4xr4xnLeKbSzWZ1EMVfnjHg',
        analyticsTokenExpiry: 15,
        internetKernelsEnabled: false,
        
        
        
        
        
        
        
        
        
        
        
    }
        Kaggle.Current.log = function(){};
        Kaggle.Current.warn = function(){};

    var decodeUserDisplayName = function () {
        var escapedUserDisplayName = Kaggle.Current.userDisplayNameEscaped || "";
        try {
            var textVersion = new DOMParser().parseFromString(escapedUserDisplayName, "text/html").documentElement.textContent;
            if (textVersion) {
                return textVersion;
            }
        } catch(ex) {}
        return escapedUserDisplayName;
    }
    Kaggle.Current.userDisplayName = decodeUserDisplayName();
</script>

    

<script type="text/javascript">
    var Kaggle = Kaggle || {};
    Kaggle.PageMessages = [];
</script>

    
<script type="text/javascript">
/* <![CDATA[ */
goog_snippet_vars = function() {
    var w = window;
    w.google_conversion_id = 955616553;
    w.google_conversion_label = "QSjvCKDksHMQqZrWxwM";
    w.google_conversion_value = 0.00;
    w.google_conversion_currency = "USD";
    w.google_remarketing_only = false;
    w.google_conversion_language = "en";
    w.google_conversion_format = "3";
    w.google_conversion_color = "ffffff";
}
// DO NOT CHANGE THE CODE BELOW.
goog_report_conversion = function(url) {
    goog_snippet_vars();
    window.google_conversion_format = "3";
    var opt = new Object();
    opt.onload_callback = function() {
        if (typeof(url) != 'undefined') {
            window.location = url;
        }
    }
    var conv_handler = window['google_trackConversion'];
    if (typeof(conv_handler) == 'function') {
        conv_handler(opt);
    }
}
/* ]]> */
</script>
<script type="text/javascript"
src="//www.googleadservices.com/pagead/conversion_async.js">
</script>



        <script>window['useKaggleAnalytics'] = true;</script>

    <script src="/static/assets/vendor.js?v=4721d2c14786" data-turbolinks-track="reload"></script>
    <script src="/static/assets/app.js?v=1a3cd8c35fe7" data-turbolinks-track="reload"></script>
        <script>
            (function() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register("/static/assets/service-worker.js").then(function(reg) {
                        reg.onupdatefound = function() {
                            var installingWorker = reg.installing;
                            installingWorker.onstatechange = function() {
                                switch (installingWorker.state) {
                                case 'installed':
                                    if (navigator.serviceWorker.controller) {
                                        console.log('New or updated content is available.');
                                    } else {
                                        console.log('Content is now available offline!');
                                    }
                                    break;
                                case 'redundant':
                                    console.error('The installing service worker became redundant.');
                                    break;
                                }
                            };
                        };
                    }).catch(function(e) {
                      console.error('Error during service worker registration:', e);
                    });
                }
            })();
        </script>
    <script>
        function handleClientLoad() {
            try {
                gapi.load('client:auth2');
            } catch (e) {
                // In Opera, readystatechange is an unreliable detection of script load, causing
                // this function to be called before gapi exists on the window. The onload callback
                // is still called at the correct time, so the feature works as expected - it's
                // just generating noisy errors.
            }
        }
    </script>
    <script async defer src="https://apis.google.com/js/api.js"
            onload="this.googleApiOnLoad=function(){};handleClientLoad()"
            onreadystatechange="if (this.readyState === 'complete') this.googleApiOnLoad()">
    </script>
</head>
<body data-turbolinks="true">
    <main>
        






<div class="site-layout">
        <div class="site-layout__header">
            <div data-component-name="SiteHeaderContainer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({});performance && performance.mark && performance.mark("SiteHeaderContainer.componentCouldBootstrap");</script>
        </div>

    <div class="site-layout__main-content">
        

<div data-component-name="KernelViewer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({"kernel":{"id":148389,"title":"Titanic Survivorship Analysis","forkParent":null,"currentRunId":725489,"mostRecentRunId":725489,"url":"/gualtieri/titanic-survivorship-analysis","tags":[],"commentCount":0,"upvoteCount":12,"viewCount":4789,"forkCount":2,"bestPublicScore":null,"author":{"id":23652,"displayName":"Marcio Gualtieri","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"gualtieri","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/23652-gr.jpg","profileUrl":"/gualtieri","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":0,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"isPrivate":false,"updatedTime":"2017-01-18T14:39:10.6533333Z","selfLink":"/kernels/148389","pinnedDockerImageVersionId":null,"isLanguageTemplate":false,"medal":"bronze","topicId":27289,"readGroupId":null,"writeGroupId":null,"slug":"titanic-survivorship-analysis"},"kernelBlob":{"id":4640825,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"Competition","sourceId":3136,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\ntitle: \u0022Titanic Survivorship Analysis\u0022\noutput:\n  html_document:\n    toc: yes\n    toc_depth: 4\n---\n\n# Overview\n\nI intend to use this notebook to showcase my data science and R skills. I\u0027m trying to be verbose for this reason. This notebook also serves as my \u0022bag of tricks\u0022, which I can consult in future projects. Keep in mind that I\u0027m a coder by trade in my way to become a data scientist. Suggestions and constructive critique are always welcome.\n\n# Installing the Required Packages\n\nYou might need to install the following packages if you don\u0027t already have them:\n\n```{r}\n# install.packages(\u0022xtable\u0022)\n# install.packages(\u0022ggplot2\u0022)\n# install.packages(\u0022dplyr\u0022)\n# install.packages(\u0022plyr\u0022)\n# install.packages(\u0022vcd\u0022)\n# install.packages(\u0022png\u0022)\n# install.packages(\u0022caret\u0022)\n# install.packages(\u0022randomForest\u0022)\n# install.packages(\u0022ggrepel\u0022)\n# install.packages(\u0022party\u0022)\n# install.packages(\u0022Amelia\u0022)\n# install.packages(\u0022mice\u0022)\n# install.packages(\u0022mlbench\u0022)\n# install.packages(\u0022party\u0022)\n# install.packages(\u0022rpart\u0022)\n# install.packages(\u0022rpart.plot\u0022)\n# install.packages(\u0022rattle\u0022)\n# install.packages(\u0022ROCR\u0022)\n# install.packages(\u0022Hmisc\u0022)\n```\n\nJust uncomment the packages you need and run this chunk before you run the remaining ones in this notebook.\n\n# Importing the Required Packages\n\nOnce the libraries are installed, you need to load them as follows:\n\n```{r}\nsuppressMessages(library(caret))                                 # Machine learning\nsuppressMessages(library(rpart))\nsuppressMessages(library(e1071))\nsuppressMessages(library(randomForest))\nsuppressMessages(library(mlbench))\nsuppressMessages(library(party))\nsuppressMessages(library(ggplot2))                               # Plotting\nsuppressMessages(library(lattice))\nsuppressMessages(library(grid))\nsuppressMessages(library(gridExtra, warn.conflicts = FALSE))\nsuppressMessages(library(ggrepel))\nsuppressMessages(library(vcd))\nsuppressMessages(library(rpart.plot))\nsuppressMessages(library(rattle))\nsuppressMessages(library(ROCR))\nsuppressMessages(library(mice))                                  # Data imputation\nsuppressMessages(library(xtable))                                # Pretty printing dataframes\nsuppressMessages(library(plyr, warn.conflicts = FALSE))          # Manipulating dataframes\nsuppressMessages(library(Hmisc))\nsuppressMessages(library(Amelia))                                # Missing data\nsuppressMessages(library(dplyr, warn.conflicts = FALSE))\nsuppressMessages(library(stringr))                               # String operations\n```\n\n# Loading Data\n\n## Reading CSV Files\n\nLet\u0027s first load the data-sets:\n\n```{r}\ntrain \u003c- read.csv(\u0027../input/train.csv\u0027, na.strings=c(\u0022NA\u0022, \u0022NULL\u0022, \u0022\u0022), stringsAsFactors = F)\ntest  \u003c- read.csv(\u0027../input/test.csv\u0027, na.strings=c(\u0022NA\u0022, \u0022NULL\u0022, \u0022\u0022), stringsAsFactors = F)\nall \u003c- rbind.fill(train, test)\n```\n\nYou might have noticed that the testing data-set isn\u0027t labeled (`Survived` is not present):\n\n```{r}\nstr(test)\n```\n\nKaggle only provides labels for the training data-set. The testing data-set is using to compute your score (based on accuracy).\n\n## Record Counting\n\nHere\u0027s the record count for the data-sets:\n\n```{r}\ntrainRows \u003c- nrow(train)\ntestRows \u003c- nrow(test)\ntotalRows \u003c- nrow(train) + nrow(test)\n```\n\n|Data-set|Number of Records|\n|-------|------------------|\n|train  |`r trainRows`     |\n|test   |`r testRows`      |\n|total  |`r totalRows`     |\n\n## Taking a Sample\n\nThe standard way data is rendered in a notebook shows nicely in RStudio, but look terrible in the HTML output (which is probably the format you\u0027re reading this right now), so I created a custom function for this purpose:\n\n```{r}\nrenderTable \u003c- function(data) {\n  print(xtable(data), type = \u0022html\u0022)\n}\n\nsampleDataFrame \u003c- function(data, size) {\n  sampleIndex \u003c- sample(1:nrow(train), size)\n  return(data[sampleIndex, ])\n}\n```\n\nHere are some records sampled from the training data-set:\n\n\n```{r, results=\u0022asis\u0022}\nrenderTable(sampleDataFrame(train, 10))\n```\n\n## Data Types\n\nYou\u0027ll find a description of the variables [here](https://www.kaggle.com/c/titanic/data), but in the spirit of making this notebook self-contained:\n\n\u003c/br\u003e\n\n| Name    |Description                      |Type                                                                    |\n|---------|---------------------------------|------------------------------------------------------------------------|\n|Pclass\t  |Passenger’s class                |Numeric / Categorical (1 = 1st class; 2 = 2nd class; 3 = 3rd class)     |\n|Name\t    |Passenger’s name                 |String                                                                  |\n|Sex\t    |Passenger’s gender               |String / Categorical (male, female)                                     |\n|Age\t    |Passenger’s age                  |Numeric                                                                 |\n|SibSp\t  |Number of siblings/spouses aboard|Numeric                                                                 |\n|Parch\t  |Number of parents/children aboard|Numeric                                                                 |\n|Ticket\t  |Ticket Code                      |Alpha-numeric                                                           |\n|Fare\t    |Fare                             |Numeric                                                                 |\n|Cabin\t  |Cabin Code                       |Alpha-numeric                                                           |\n|Embarked\t|Port of embarkation              |Character / Categorical (C = Cherbourg; Q = Queenstown; S = Southampton)|\n\n`read.csv()` will assign types automatically. You can always check your data types evoking `str()`:\n\n```{r}\nstr(train)\n```\n\n# Missing Data\n\n## Detecting Missing Data\n\nIt\u0027s always a good idea to know about missing values from the start:\n\n```{r, fig.width = 12, fig.height = 12}\nmissmap(train, main = \u0022Missing Values (Training Data-set)\u0022, col = c(\u0022red\u0022, \u0022lightgrey\u0022))\n```\n\n\n```{r, fig.width = 12, fig.height = 12}\nmissmap(test, main = \u0022Missing Values (Testing Data-set)\u0022, col = c(\u0022red\u0022, \u0022lightgrey\u0022))\n```\n\n```{r}\nmissingCabinRows \u003c- nrow(all[is.na(all$Cabin), ])\nmissingAgeRows \u003c- nrow(all[is.na(all$Age), ])\nmissingFareRows \u003c- nrow(all[is.na(all$Fare), ])\nmissingEmbarkedRows \u003c- nrow(all[is.na(all$Embarked), ])\n```\n\n`Cabin`, `Age` and `Embarked` are missing for a number of records:\n\n|Variable  |Number of Missing Records|\n|----------|-------------------------|\n|`Cabin`   |`r missingCabinRows`     |\n|`Age`     |`r missingAgeRows`       |\n|`Fare`     |`r missingFareRows`     |\n|`Embarked`|`r missingEmbarkedRows`  |\n\n\u003cbr/\u003e\nThe classifier we\u0027ll create won\u0027t work well with missing data (they either won\u0027t work altogether or you will get NAs as predictions), so we need to estimate missing values using [imputation](https://en.wikipedia.org/wiki/Imputation_(statistics)) methods.\n\n## Dealing with Missing Data\n\n### Missing `Age` and `Fare`\n\nFor continuous variables such as these [mice](https://cran.r-project.org/web/packages/mice/index.html) is a good choice for imputation:\n\n```{r}\nestimateMissingVariables \u003c- function(data) {\n  predictors \u003c- c(\u0022Age\u0022, \u0022Sex\u0022, \u0022Fare\u0022, \u0022Pclass\u0022, \u0022SibSp\u0022, \u0022Parch\u0022, \u0022Embarked\u0022, \u0022Title\u0022)\n  set.seed(345)\n  capture.output(model \u003c- mice(data[, names(data) %in% predictors], method=\u0027rf\u0027))\n  output \u003c- complete(model)\n  data$Age \u003c- output$Age\n  data$Fare \u003c- output$Fare\n  return(data)\n}\n\nfixedAll \u003c- estimateMissingVariables(all)\n```\n\nLet\u0027s do a quick sanity check by comparing histograms before and after estimating the missing values. I have created a custom histogram for this purpose:\n\n```{r}\ncustomHistogram \u003c- function(data, column, title) {\n  missing = nrow(data[is.na(data[,  column]), ])\n  ggplot(data=data, aes_string(x = column)) +\n  geom_histogram(bins = 20, na.rm = TRUE, fill = \u0022blue\u0022, alpha = 0.2) +\n  xlab(paste(column, \u0022(\u0022, title, \u0022, NA Count: \u0022, missing, \u0022)\u0022))\n}\n```\n\nWhich renders the following plots:\n\n```{r, fig.width = 12, fig.height = 12}\nallAge \u003c- customHistogram(all, \u0022Age\u0022, \u0022Original\u0022)\nfixedAllAge \u003c- customHistogram(fixedAll, \u0022Age\u0022, \u0022Fixed\u0022)\n\nallFare \u003c- customHistogram(all, \u0022Fare\u0022, \u0022Original\u0022)\nfixedAllFare \u003c- customHistogram(fixedAll, \u0022Fare\u0022, \u0022Fixed\u0022)\n\ngrid.arrange(allAge, fixedAllAge, \n             allFare, fixedAllFare,\n             ncol=2, nrow=2)\n```\n\nNo NAs and overall shape didn\u0027t change much. Looking good, so let\u0027s use them:\n\n```{r}\nall \u003c- fixedAll\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\n### Missing `Embarked`\n\nThese are the records missing `Embarked`:\n\n```{r missingEmbarked, results=\u0027asis\u0027}\nmissingEmbarkedIndex \u003c- is.na(train$Embarked)\nrenderTable(train[missingEmbarkedIndex, ])\n```\n\n\u003cbr/\u003e\nGiven that `Embarked` is categorical, we could use random forest here, but just to try something different, let\u0027s try a [decision tree](https://en.wikipedia.org/wiki/Decision_tree_learning) from the [rpart](https://cran.r-project.org/web/packages/rpart/index.html) package:\n\n```{r}\nestimateMissingEmbarked \u003c- function(data) {\n  missing \u003c- data[is.na(data$Embarked), ]\n  present \u003c- data[!is.na(data$Embarked), ]\n\n  fol \u003c- formula(Embarked ~ Sex + Age + Fare + Pclass + SibSp + Parch)\n  model \u003c- rpart(fol, method=\u0027class\u0027, data=present)\n  missing$Embarked \u003c-predict(model, missing, type=\u0022class\u0022)\n  all \u003c- rbind.fill(missing, present)\n  all \u003c- all[with(all, order(PassengerId)), ]\n  return(all)\n}\n\nall \u003c- estimateMissingEmbarked(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nThese are the predictions for `Embarked`:\n\n```{r fixedEmbarked, results=\u0027asis\u0027}\nrenderTable(train[missingEmbarkedIndex, ])\n```\n\n\u003cbr/\u003e\nIn the section for [`Fare` Analysis](#fareanalysis) that will follow, we will be able to sanity check these estimations: the distribution of `Fare` can show us that the estimates make sense.\n\n# Feature Engineering\n\n## Converting Categorical Fields to Factors\n\nThe categorical fields need to be converted to factors (which are well-suited for categorical data) for tasks such as plotting and machine learning:\n\n```{r}\ntoFactor \u003c- function(data) {\n   columns \u003c- intersect(names(data), c(\u0022Survived\u0022, \u0022Sex\u0022, \u0022Embarked\u0022, \u0022Pclass\u0022, \u0022Ticket\u0022))\n  data[, columns] \u003c- lapply(data[, columns] , factor)\n  return(data)\n}\n\nall \u003c- toFactor(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nNote that these columns are now factors:\n\n```{r}\nstr(train)\n```\n\n\u003e **NOTE:**\n\u003e When imputating missing values or creating new features, I suggest that you always apply such transformations over the whole data (training + testing) if you\u0027re working with categorical variables. Let\u0027s say that you have a factor named `Pie` with levels `Apple`, `Pecan`, `Cherry` and `Pumpkim`. Could be the case that your training data-set has only entries with levels `Apple` and `Pecan` and that your testing data-set has levels `Cherry` and `Pumpkim`. On factor conversion, `Pie` from training will have different levels from `Pie` from testing (they are incompatible). This will be a pain when you\u0027re ready to train your classifier. Of course, you can always override variable factor levels for both data-sets afterwards, but it\u0027s a somehow ackward operation.\n\n## `Name` Analysis\n\n### Extracting `Surname` from `Name`\n\nLet\u0027s see if we can improve accuracy by squeezing some more information from the remaining variables, starting by `Name`. Here\u0027s a sample from the training data-set:\n\n```{r}\nsample \u003c- head(train, 12)\nsample$Name\n```\n\nThe pattern seem to be \u0022Surname, Title. Names\u0022. We\u0027re particularly interested in \u0022Surname\u0022 and \u0022Title\u0022. I have extracted parsing into functions for cleaner code:\n\n```{r}\nnamePattern \u003c- \u0022(.+),\\\\s*(.+?)\\\\..+\u0022\n\nextractSurname \u003c- function(name) {\n  return(str_match_all(name, namePattern)[[1]][2])\n}\n\naddSurname \u003c- function(data) {\n  data$Surname \u003c- sapply(data$Name, extractSurname)\n  data[, \u0022Surname\u0022] \u003c- as.factor(data[, \u0022Surname\u0022])\n  return(data)\n}\n\nall \u003c- addSurname(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\n### Extracting `Title` from `Name`\n\n```{r}\nextractTitle \u003c- function(name) {\n  return(str_match_all(name, namePattern)[[1]][3])\n}\n\naddTitle \u003c- function(data) {\n  data$Title \u003c- sapply(data$Name, extractTitle)\n  data[, \u0022Title\u0022] \u003c- as.factor(data[, \u0022Title\u0022])\n  return(data)\n}\n\nall \u003c- addTitle(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nHere\u0027s the distribution for `Title`:\n\n```{r, fig.width = 12, fig.height = 12}\ncountBarchart \u003c- function(data, column, title) {\n   ggplot(data, aes_string(x=column)) + \n   geom_bar(fill = \u0022blue\u0022, alpha = 0.2) +\n   geom_text(stat=\u0027count\u0027, aes(label=sprintf(\u0022%d\\n(%d %%)\u0022, ..count.., round(..count.. * 100/sum(..count..), 0)), vjust=0)) +\n   xlab(paste(column, \u0022(\u0022, title, \u0022)\u0022))\n}\n\ncountBarchart(train, \u0022Title\u0022, \u0022Overall\u0022)\n```\n\n#### Outliers\n\nThe most frequent titles are \u0022Mr\u0022, \u0022Miss\u0022, \u0022Mrs\u0022 and \u0022Master\u0022. The remaining ones seem to be outliers. Normally, one would simply remove these, but in the spirit of showing the effect of outliers, let\u0027s create a new column: `TitleWO` (without outliers):\n\n```{r}\naddTitleWO \u003c- function(data) {\n  frequent \u003c- c(\u0022Mr\u0022, \u0022Miss\u0022, \u0022Mrs\u0022, \u0022Master\u0022)\n  data$TitleWO \u003c- sapply(data$Name, extractTitle)\n  data$TitleWO[!(data$Title %in% frequent)] \u003c- \u0022Rare\u0022\n  data[, \u0022TitleWO\u0022] \u003c- as.factor(data[, \u0022TitleWO\u0022])\n  return(data)\n}\n\nall \u003c- addTitleWO(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n\ncountBarchart(train, \u0022TitleWO\u0022, \u0022Overall\u0022)\n```\n\n\u003cbr/\u003e\nThere are different ways to visualize survival rates, but I think that bar charts are the best tool for this purpose:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultCountBarchart \u003c- function(data, column, categoryColumn) {\n  survivors \u003c- plyr::count(data, vars=c(column, categoryColumn))\n  survivors \u003c- group_by_(survivors, column) %\u003e% dplyr::mutate(Percentage = round(freq * 100 / sum(freq)))\n\n  ggplot(data = survivors, aes_string(x = column, y = \u0022Percentage\u0022, fill = categoryColumn)) +\n    geom_bar(stat=\u0022identity\u0022, position = \u0022dodge\u0022) +\n    geom_text(aes(label=sprintf(\u0022%d\\n(%d %%)\u0022, freq, Percentage)))\n}\n\ncategoricalResultCountBarchart(train, \u0022TitleWO\u0022, \u0022Survived\u0022)\n```\n\n\u003e **NOTE:**\n\u003e You might have noticed that the bar heights represent percentages within a given group, not record counts. That\u0027s because we might not get record counts of the same order of magnitude for every group, i.e., a large number of \u0022Mr\u0022 and a small number of \u0022Ms\u0022, which would render the bar for the last nearly invisible. I have labeled the bars with the record count and percentage though, so the reader is informed of the actual count.\n\n## Women and Children First\n\nLet\u0027s start with the first thing that comes to mind in a moment of crisis, that known code of conduct: [\u0022Women and children first.\u0022](https://en.wikipedia.org/wiki/Women_and_children_first).\n\n![[\u0022Women and children first? Really? Shouldn\u0027t be whoever\u0027s closest?\u0022](https://www.youtube.com/watch?v=yL2dGTDQXVo)](https://s5.postimg.org/8zzl5ot53/larry_women_and_children_first.png)\n\n### Gender Survivorship\n\n```{r}\ncategoricalResultCountBarchart(train, \u0022Sex\u0022, \u0022Survived\u0022)\n```\n\nIt\u0027s clear that there is a correlation between gender and survivorship.\n\n### Age Survivorship\n\nOnce again I have created a custom histogram plot function, which shows percentages instead of absolute values:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram \u003c- function(data, column, categoryColumn, breaks) {\n  groupColumn \u003c- paste0(column, \u0022Group\u0022)\n  suppressWarnings(data[, groupColumn] \u003c- cut2(data[, column], g=breaks, digits=0))\n  survivors \u003c- plyr::count(data, vars=c(groupColumn, categoryColumn))\n  survivors \u003c- group_by_(survivors, groupColumn) %\u003e% dplyr::mutate(Percentage = round(freq * 100 / sum(freq)))\n\n  ggplot(data = survivors, aes_string(x = groupColumn, y = \u0022Percentage\u0022, fill = categoryColumn)) +\n    geom_bar(stat=\u0022identity\u0022, position = \u0022dodge\u0022) +\n    geom_text(aes(label=sprintf(\u0022%d\\n(%d %%)\u0022, freq, Percentage))) +\n    xlab(column)\n}\n\ncategoricalResultHistogram(train, \u0022Age\u0022, \u0022Survived\u0022, 10)\n```\n\n\u003cbr/\u003e\nYounger people (less than 12 years old) does seem to have a higher chance of surviving.\n\n#### Outliers\n\nLet\u0027s take this opportunity to develop some tools that will help us to analyze other variables for which the outliers might not be so obvious:\n\n```{r, fig.width = 6, fig.height = 12}\ncreateBoxPlotLabels \u003c- function(data, column) {\n  meta \u003c- boxplot.stats(data[, column])\n  labels \u003c-data.frame(value=round(median(data[, column]), 4), label=\u0022Median\u0022)\n  labels \u003c-rbind(labels,data.frame(value=round(mean(data[, column]), 4), label=\u0022Mean\u0022))\n  labels \u003c-rbind(labels,data.frame(value=meta$stats[2], label=\u00221st Quartile\u0022))\n  labels \u003c-rbind(labels,data.frame(value=meta$stats[4], label=\u00223rd Quartile\u0022))\n  if(length(meta$out) \u003e 0) labels \u003c-rbind(labels,data.frame(value=round(median(meta$out), 4), label=\u0022Outliers Median\u0022))\n  if(length(meta$out) \u003e 0) labels \u003c-rbind(labels,data.frame(value=round(mean(meta$out), 4), label=\u0022Outliers Mean\u0022))\n  return(labels)\n}\n\ncustomBoxPlot \u003c- function(data, column, title) {\n  labels \u003c- createBoxPlotLabels(data, column)\n  ggplot(data, aes_string(x=\u0022factor(0)\u0022, y=column)) +\n  geom_boxplot(fill = \u0022blue\u0022, alpha=0.2) +\n  geom_point(position = position_jitter(width = 0.2), color = \u0022darkblue\u0022) +\n  geom_label_repel(data=labels,\n                   aes(x=factor(0), y=value, label=paste0(label, \u0022: \u0022, value)),\n                   colour=\u0022red\u0022, angle=0, size=3,\n                   point.padding = unit(1.0, \u0022lines\u0022), box.padding = unit(0.5, \u0022lines\u0022)) +\n  xlab(title)\n}\n\ncustomBoxPlot(all, \u0022Age\u0022, \u0022Overall\u0022)\n```\n\nI\u0027m going to remove the outliers by replacing them with the median:\n\n```{r}\nquarter1Indexes \u003c- function(data, column) {\n  meta \u003c- boxplot.stats(data[, column])\n  q1 \u003c- meta$stats[2]\n  return(which(data[, column] \u003c q1))\n}\n\nquarter3Indexes \u003c- function(data, column) {\n  meta \u003c- boxplot.stats(data[, column])\n  q3 \u003c- meta$stats[4]\n  return(which( data[, column] \u003e q3))\n}\n\noutliersMedian \u003c- function(data, column) {\n  meta \u003c- boxplot.stats(data[, column])\n  return(median(meta$out))\n}\n\naddAgeWO \u003c- function(data) {\n  data$AgeWO \u003c- data$Age\n  q1Median \u003c- median(data$Age[quarter1Indexes(data, \u0022Age\u0022)])\n  q3Median \u003c- median(data$Age[quarter3Indexes(data, \u0022Age\u0022)])\n  data$AgeWO[quarter1Indexes(data, \u0022Age\u0022)] \u003c- q1Median\n  data$AgeWO[quarter3Indexes(data, \u0022Age\u0022)] \u003c- q3Median\n  return(data)\n}\n\nall \u003c- addAgeWO(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nLet\u0027s see how it looks like without the outliers:\n\n```{r, fig.width = 12, fig.height = 12}\nageHistogram \u003c- customHistogram(all, \u0022Age\u0022, \u0022Overall\u0022)\nageWOHistogram \u003c- customHistogram(all, \u0022AgeWO\u0022, \u0022Overall\u0022)\n\ngrid.arrange(ageHistogram, ageWOHistogram, ncol = 2)\n```\n\nLet\u0027s look at the survivorship again after removing the outliers:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(train, \u0022AgeWO\u0022, \u0022Survived\u0022, 10)\n```\n\nIt didn\u0027t work so well, so let\u0027s try to define the outliers manually based on the trends we have seen in the histogram:\n\n```{r}\naddAgeWO \u003c- function(data) {\n  data$AgeWO \u003c- data$Age\n  data$AgeWO[data$Age \u003c13] \u003c- 12\n  q3Median \u003c- median(data$Age[quarter3Indexes(data, \u0022Age\u0022)])\n  data$AgeWO[quarter3Indexes(data, \u0022Age\u0022)] \u003c- q3Median\n  return(data)\n}\n\nall \u003c- addAgeWO(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nLet\u0027s see how it looks like:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(train, \u0022AgeWO\u0022, \u0022Survived\u0022, 10)\n```\n\nLooks better, we have preserved the trend we have seen for young people.\n\n#### Checking for Pubes\n\n![[\u0022Are you kidding me? That\u0027s not a kid! That\u0027s a midget! I can tell!\u0022\u0022]((https://www.youtube.com/watch?v=yL2dGTDQXVo))](https://s5.postimg.org/yw8my032f/larry_thats_a_midiget.png)\n\n\u003cbr/\u003e\nLet\u0027s try to go all the way up to eleven and break `Age` into two categories: `IsChild`equals TRUE and `IsChild` equals FALSE:\n\n```{r}\naddIsChild \u003c- function(data) {\n  data$IsChild \u003c- data$Age \u003c 12\n  data[, \u0022IsChild\u0022] \u003c- as.factor(data[, \u0022IsChild\u0022])\n  return(data)\n}\n\nall \u003c- addIsChild(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n\ncategoricalResultCountBarchart(train, \u0022IsChild\u0022, \u0022Survived\u0022)\n```\n\n### Conclusion\n\nChildren do seem to have a greater chance of surviving (as did women).\n\n## Survival of the Richest\n\n### `Fare` Analysis \u003ca name=\u0022fareanalysis\u0022\u003e\u003c/a\u003e\n\nLet\u0027s start with `Fare` as a measure of wealth. Once again I have created a custom plot, this time a density plot:\n\n```{r}\nverticalLine \u003c- function(value, name, color) {\n  label \u003c- paste(\u0022paste(\u0022, shQuote(name), \u0022, \u0022, shQuote(\u0022\\\\n\u0022), \u0022, \u0022, value, \u0022)\u0022)\n  geomObj \u003c- list(geom_vline(aes_string(xintercept=value), colour=color, linetype=\u0027dashed\u0027),\n                  geom_text(aes_string(x=value, y = 0, label=label)))\n  return(geomObj)\n}\n\ncustomDensityPlot \u003c- function(data, xColumn, title) {\n  minXColumn \u003c- paste(\u0022min(\u0022, xColumn, \u0022, na.rm = TRUE)\u0022)\n  medianXColumn \u003c- paste(\u0022median(\u0022, xColumn, \u0022, na.rm = TRUE)\u0022)\n  maxXColumn \u003c- paste(\u0022max(\u0022, xColumn, \u0022, na.rm = TRUE)\u0022)\n  \n  ggplot(data, aes_string(x = xColumn)) + \n  geom_density(na.rm = TRUE, fill = \u0022blue\u0022, alpha=0.2) +\n  xlab(paste(xColumn, \u0022(\u0022, title, \u0022)\u0022)) +\n\n  verticalLine(minXColumn,  \u0022min\u0022, \u0022blue\u0022) +\n  verticalLine(medianXColumn, \u0022median\u0022, \u0022red\u0022) +\n  verticalLine(maxXColumn, \u0022max\u0022, \u0022blue\u0022)\n}\n```\n\n`Fare` depends on `Pclass` (passenger\u0027s class) and `Embarked` (location where the passenger embarked), but let\u0027s start with the overall `Fare`:\n\n```{r, fig.width = 12, fig.height = 12}\ncustomDensityPlot(all, \u0022Fare\u0022, \u0022Overall\u0022)\n```\n\nBreaking the data into all possible combinations of`Embarked` and `Pclass` might be more insightful:\n\n```{r}\ncData \u003c- all[all$Embarked == \u0022C\u0022, ]\nc1Data \u003c- cData[cData$Pclass == 1, ]\nc2Data \u003c- cData[cData$Pclass == 2, ]\nc3Data \u003c- cData[cData$Pclass == 3, ]\n\nsData \u003c- all[all$Embarked == \u0022S\u0022, ]\ns1Data \u003c- sData[sData$Pclass == 1, ]\ns2Data \u003c- sData[sData$Pclass == 2, ]\ns3Data \u003c- sData[sData$Pclass == 3, ]\n\nqData \u003c- all[all$Embarked == \u0022Q\u0022, ]\nq1Data \u003c- qData[qData$Pclass == 1, ]\nq2Data \u003c- qData[qData$Pclass == 2, ]\nq3Data \u003c- qData[qData$Pclass == 3, ]\n```\n\n```{r}\nc1Density \u003c- customDensityPlot(c1Data, \u0022Fare\u0022, \u00221st-class, C\u0022)\nc2Density \u003c- customDensityPlot(c2Data, \u0022Fare\u0022, \u00222nd-class, C\u0022)\nc3Density \u003c- customDensityPlot(c3Data, \u0022Fare\u0022, \u00223rd-class, C\u0022)\n\ns1Density \u003c- customDensityPlot(s1Data, \u0022Fare\u0022, \u00221st-class, S\u0022)\ns2Density \u003c- customDensityPlot(s2Data, \u0022Fare\u0022, \u00222nd-class, S\u0022)\ns3Density \u003c- customDensityPlot(s3Data, \u0022Fare\u0022, \u00223rd-class, S\u0022)\n\nq1Density \u003c- customDensityPlot(q1Data, \u0022Fare\u0022, \u00221st-class, Q\u0022)\nq2Density \u003c- customDensityPlot(q2Data, \u0022Fare\u0022, \u00222nd-class, Q\u0022)\nq3Density \u003c- customDensityPlot(q3Data, \u0022Fare\u0022, \u00223rd-class, Q\u0022)\n```\n\n```{r, fig.width = 12, fig.height = 12}\ngrid.arrange(c1Density, s1Density, q1Density, \n             c2Density, s2Density, q2Density, \n             c3Density, s3Density, q3Density, \n             ncol=3, nrow=3)\n```\n\nI would say that we could use`Fare` and `Pclass` to deduce `Embarked`. These are the records missing `Embarked` in the training data-set:\n\n```{r embarkedAnalysis, results=\u0027asis\u0027}\nrenderTable(train[missingEmbarkedIndex, ])\n```\n\n\u003cbr/\u003e\nThe passengers missing `Embarked` are the ones with `PassengerId` equals to 62 and 830. Note that these records are from 1st-class and their `Fare` are both equal to 80.\nThe density plot for \u0022C\u0022 and 1st-class has its peak around a median of 78.667, thus \u0022C\u0022 for the records missing `Embarked` as estimated previously using a decision tree seems reasonable.\n\nFinally let\u0027s analyse survivorship:\n\nSadly, it seems like wealth increases ones chances of surviving:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(train, \u0022Fare\u0022, \u0022Survived\u0022, 6)\n```\n\n#### Outliers\n\nOnce again we can use the tools we developed for checking outliers when analyzing `Age`:\n\n```{r, fig.width = 6, fig.height = 12}\ncustomBoxPlot(all, \u0022Fare\u0022, \u0022Overall\u0022)\n```\n\nLet\u0027s again remove the outliers by replacing them with the median as we did for `Age`:\n\n```{r}\naddFareWO \u003c- function(data) {\n  data$FareWO \u003c- data$Fare\n  q1Median \u003c- median(data$Age[quarter1Indexes(data, \u0022Fare\u0022)])\n  q3Median \u003c- median(data$Age[quarter3Indexes(data, \u0022Fare\u0022)])\n  data$FareWO[quarter1Indexes(data, \u0022Fare\u0022)] \u003c- q1Median\n  data$FareWO[quarter3Indexes(data, \u0022Fare\u0022)] \u003c- q3Median\n  return(data)\n}\n\nall \u003c- addFareWO(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\n\n```{r, fig.width = 12, fig.height = 12}\nfareHistogram \u003c- customHistogram(all, \u0022Fare\u0022, \u0022Overall\u0022)\nfareWOHistogram \u003c- customHistogram(all, \u0022FareWO\u0022, \u0022Overall\u0022)\n\ngrid.arrange(fareHistogram, fareWOHistogram, ncol = 2)\n```\n\nLet\u0027s analyse survivorship after removing the outliers:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(train, \u0022FareWO\u0022, \u0022Survived\u0022, 6)\n```\n\n\u003cbr/\u003e\nWe can see that the trends we have observed before are move evident now.\n\n### `Pclass` (Passenger\u0027s Class) Analysis\n\nHow about `Pclass` (passenger\u0027s class) as another indicator of wealth?\n\n```{r}\ncategoricalResultCountBarchart(train, \u0022Pclass\u0022, \u0022Survived\u0022)\n```\n\nPassenger class also seem to support that wealth increases one\u0027s chance of surviving...\n\n### Conclusion\n\nWealth seems to increase survivorship for both available indicators (`Fare` and `Pclass`).\n\n![[\u0022I\u0027m so sick of the 1% getting this preferential treatment! Enough is enough!\u0022](https://www.youtube.com/watch?v=yL2dGTDQXVo)](https://s5.postimg.org/ie5iph9c7/bernie_and_larry.png)\n\n## Family Ties\n\nThe next attributes are `SibSp` (passenger\u0027s siblings/spouse count) and `Parch` (passenger\u0027s parents/children count). We might be able to use these to analyse if families stick together in a disaster.\n\n![Actual Picture of Donald Trump\u0027s Grandfather](https://s5.postimg.org/m98ws1shz/drumpf.png)\n\nNo, this gentleman isn\u0027t Trump\u0027s Grandfather. Better to be clear: Silly might [sue me](https://www.youtube.com/watch?v=WB4sGX0R5ak)!\n\n### `SibSp` (Passenger\u0027s Siblings/Spouse count) Analysis\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultCountBarchart(train, \u0022SibSp\u0022, \u0022Survived\u0022)\n```\n\nThere seems to exist a sweet spot around one siblings/spouse (couples? relatives?), but it\u0027s not that clear from the plot that made a big difference.\n\n### `Parch` (Passenger\u0027s Parents/Children) Analysis\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultCountBarchart(train, \u0022Parch\u0022, \u0022Survived\u0022)\n```\n\nThere also seems to be a sweet spot around one parents/children, but it\u0027s also not that clear from the plot that it makes a huge difference.\n\n### Motherhood\n\nOne last think that comes to mind is motherhood. Would a mother with her child have better chances of surviving (a bit of a symbiotic relationship, Who would separate a mother from her child? Ok, Donald Trump would).\n\n[This source](http://www.infoplease.com/ipa/A0005061.html) claims that women got married, in average, at an age of 21.6 years old in the 1900\u0027s. So, I\u0027m going to consider a person over 21 years old, female and with `Parch` greater than zero a mother:\n\n```{r}\naddIsMother \u003c- function(data) {\n  data$IsMother \u003c- data$Age \u003e 21 \u0026 data$Sex == \u0022female\u0022 \u0026 data$Parch \u003e 0\n  data[, \u0022IsMother\u0022] \u003c- as.factor(data[, \u0022IsMother\u0022])\n  return(data)\n}\n\nall \u003c- addIsMother(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n\ncategoricalResultCountBarchart(train, \u0022IsMother\u0022, \u0022Survived\u0022)\n```\n\n## Location, Location, Location\n\n### `Embarked` Analysis\n\n```{r}\ncategoricalResultCountBarchart(train, \u0022Embarked\u0022, \u0022Survived\u0022)\n```\n\n### Conclusion\n\nFor some reason \u0022C\u0022 (Cherbourg) seems to have higher survivorship. Let\u0027s take a look at the data:\n\n```{r}\ncData \u003c- train[train$Embarked == \u0022C\u0022, ]\nqData \u003c- train[train$Embarked == \u0022Q\u0022, ]\nsData \u003c- train[train$Embarked == \u0022S\u0022, ]\n```\n\n```{r}\ncAge \u003c- customHistogram(cData, \u0022Age\u0022, \u0022Embarked = C\u0022)\nqAge \u003c- customHistogram(qData, \u0022Age\u0022, \u0022Embarked = Q\u0022)\nsAge \u003c- customHistogram(sData, \u0022Age\u0022, \u0022Embarked = S\u0022)\n\ncFare \u003c- customHistogram(cData, \u0022Fare\u0022, \u0022Embarked = C\u0022)\nqFare \u003c- customHistogram(qData, \u0022Fare\u0022, \u0022Embarked = Q\u0022)\nsFare \u003c- customHistogram(sData, \u0022Fare\u0022, \u0022Embarked = S\u0022)\n\ncSex \u003c- countBarchart(cData, \u0022Sex\u0022, \u0022Embarked = C\u0022)\nqSex \u003c- countBarchart(qData, \u0022Sex\u0022, \u0022Embarked = Q\u0022)\nsSex \u003c- countBarchart(sData, \u0022Sex\u0022, \u0022Embarked = S\u0022)\n```\n\n```{r, fig.width = 12, fig.height = 12}\ngrid.arrange(cAge, qAge, sAge, \n             cFare, qFare, sFare, \n             cSex, qSex, sSex, \n             ncol=3, nrow=3)\n```\n\nFrom the plots, it seems like the population from \u0022C\u0022 does better than the others in terms of wealth (better than \u0022Q\u0022 and \u0022S\u0022), age (better than \u0022Q\u0022 and comparable to \u0022S\u0022) and gender (comparable to \u0022Q\u0022 and better than \u0022S\u0022).\n\n## Family Ties II: Alex Keaton Travels Back in Time and kills Donald Trump\n\nJust kidding, but wouldn\u0027t you watch this movie?\n\n![\u0022I\u0027m going to build a great iceberg and keep those pesky Italians from reaching New York. Some bad uomini over there.\u0022](https://s5.postimg.org/iod18tnyf/family_ties_ii.png)\n\n### Combining `SibSp` and `Parch` into `FamilySize`\n\nGiven that `FamilySize = SibSp + Parch + 1`, could we combine two variables into one without effect?\n\n```{r}\naddFamilySize \u003c- function(data) {\n  data$FamilySize \u003c- data$SibSp + data$Parch + 1\n  return(data)\n}\n\nall \u003c- addFamilySize(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\n### Using `Surname` to Compute Family Survival Rate\n\nCould we somehow use `Surname`? A question we brought up earlier is: do families stick together? That is, is surviving correlated to the number of people in your family that survived?\n\n```{r}\ncomputeSurvivalRatePerColumn \u003c- function(data, column) {\n  rates \u003c- plyr::count(data, vars=c(column, \u0022Survived\u0022))\n  rates \u003c- group_by_(rates, column) %\u003e% dplyr::mutate(SurvivalRate = round(freq * 100 / sum(freq)))\n  rates \u003c- rates[rates$Survived == 1, ]\n  rates \u003c- rates[, which(names(rates) %in% c(column, \u0022SurvivalRate\u0022))]\n  names(rates)[names(rates) == \u0022SurvivalRate\u0022] \u003c- paste0(\u0022SurvivalRateBy\u0022, column)\n  return(rates)\n}\n\naddSurvivalRate \u003c- function(column, data, rateData) {\n  rates \u003c- computeSurvivalRatePerColumn(rateData, column)\n  rateColumn \u003c- paste0(\u0022SurvivalRateBy\u0022, column)\n  \n  if(rateColumn %in% names(data)) {\n    data \u003c- data[ , -which(names(data) %in% c(rateColumn))]\n  }\n  data \u003c- left_join(data, rates,by=column)\n  data[is.na(data[, rateColumn]), rateColumn] \u003c- 0\n  return(data)\n}\n\nall \u003c- addSurvivalRate(\u0022Surname\u0022, all, train)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nThe following distribution for `FamilySurvivalRate` seems to support that families stick together:\n\n```{r, fig.width = 12, fig.height = 12}\ncountBarchart(train, \u0022SurvivalRateBySurname\u0022, \u0022Overall\u0022)\n```\n\n### Identifying Families\n\nIf you go to the [model evaluation results section](#aftermath2) ahead, you will find that we get a huge reduction in accuracy if we use any of the survival rates. These rates were great to visualize patterns in the data (families stick together), but not as good as predictors. Remember that these rates are merely estimates (we don\u0027t have the whole list of survivors) and therefore the estimates will be way off for families that have a small number of members. Let\u0027s try a different approach. The idea is linking people from the same family together:\n\n```{r}\naddFamilyID \u003c- function(data) {\n  data$FamilyID \u003c- paste0(data$Surname, as.character(data$FamilySize))\n  data[, \u0022FamilyID\u0022] \u003c- as.factor(data[, \u0022FamilyID\u0022])\n  return(data)\n}\n\nall \u003c- addFamilyID(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nNote that we used `Surname` and `FamilySize`. It\u0027s reasonable to assume that if people share the same `Surname` and `FamilySize` they belong together in the same family. People with equal `Surname` not necessarily are related, but using `FamilySize` reduces the chance that we are making this mistake.\n\n#### Outliers\n\nI\u0027ll consider a family any group of people sharing the same `Surname` with at least three people:\n\n```{r}\nMIN_FAMILY_SIZE \u003c- 3\n\ntooSmallFamiliesIndexes \u003c- function(data) {\n  return(which(data$FamilySize \u003c MIN_FAMILY_SIZE))\n}\n\naddFamilyIDWO \u003c- function(data) {\n  data$FamilyIDWO \u003c- paste0(data$Surname, as.character(data$FamilySize))\n  data$FamilyIDWO[tooSmallFamiliesIndexes(data)] \u003c- paste0(\u0022FamilySize\u003c\u0022, toString(MIN_FAMILY_SIZE))\n  data[, \u0022FamilyIDWO\u0022] \u003c- as.factor(data[, \u0022FamilyIDWO\u0022])\n  return(data)\n}\n\nall \u003c- addFamilyIDWO(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n\nall \u003c- addSurvivalRate(\u0022FamilyIDWO\u0022, all, train)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\n### Conclusion\n\nThe majority of people seem to stick together, for the best or for the worst...\n\n![\u0022 Where do you think you\u0027re going? Nobody\u0027s leaving. Nobody\u0027s walking out on this fun, old-fashioned family Christmas. No, no. We\u0027re all in this together.\u0022](https://s5.postimg.org/9s294vxc7/griswold_family.png)\n\n## `Cabin` Analysis\n\nLet\u0027s take a look at a sample from `Cabin` (keeping in mind that is sparse):\n\n```{r}\ncabins \u003c- train[!is.na(train$Cabin), ]$Cabin\nhead(cabins, 12)\n```\n\nI have found the following information [here](http://www.dummies.com/education/history/titanic-facts-the-layout-of-the-ship/):\n\n\u003cbr/\u003e\n\n  -----------------------------------------------------------------------------------------------------------\n  Deck            Fore                             Amidships                   Aft\n  --------------- -------------------------------- --------------------------- ------------------------------\n  Boat            Officer’s bridge (crew)          Promenade (1st)\\            Promenade (2nd)\n                                                   Gymnasium (1st)             \n\n  Promenade (A)   Reading and Writing Room (1st)   Lounge (1st)                Smoking room (1st)\\\n                                                                               Verandah Café (1st)\\\n                                                                               Palm Courts (1st)\n\n  Bridge (B)      Forecastle deck (crew)           Suites, cabins (1st)        À la Carte Restaurant (1st)\\\n                                                                               Café Parisien (1st)\\\n                                                                               Smoking room (2nd)\\\n                                                                               Promenade (poop deck; 3rd)\n\n  Shelter (C)     Crew mess (crew)                 Cabins, staterooms (1st)\\   Library (2nd)\\\n                                                   Crew mess (crew)\\           Smoking room (3rd)\\\n                                                   Purser’s office (crew)      General room (3rd)\n\n  Saloon (D)      Open space (3rd)\\                Dining saloon (1st)\\        Dining saloon (2nd)\\\n                  Cabins (3rd)                     Reception room (1st)\\       Kitchen galleys (crew)\n                                                   Cabins (1st)                \n\n  Upper (E)       Cabins (3rd)                     Cabins (2nd)\\               Cabins (2nd)\\\n                                                   Cabins (crew)               Cabins (3rd)\n\n  Middle (F)      Cabins (3rd)                     Dining saloon (3rd)\\        Cabins (2nd)\\\n                                                   Swimming pool (1st)\\        Cabins (3rd)\n                                                   Turkish baths (1st)         \n\n  Lower (G)       Storage rooms (crew)\\            Boiler rooms (crew)         Squash court (1st)\\\n                  Engine rooms (crew)                                          Post office (crew)\n\n  Orlop           Cargo rooms (crew)\\              Boiler rooms (crew)         Engine rooms (crew)\\\n                  Baggage rooms (crew)\\                                        Cargo rooms (crew)\n                  Mail room (crew)                                             \n\n  Tank Top        Boiler rooms (crew)\\             Boiler rooms (crew)\\        Boiler rooms (crew)\\\n                  Engine rooms (crew)              Engine rooms (crew)         Engine rooms (crew)\n  -----------------------------------------------------------------------------------------------------------\n  \n\n\u003cbr/\u003e\nFrom this table we can tell that 1st-class cabins were located in decks \u0022C\u0022 and \u0022D\u0022, while 2nd-class and 3rd-class were located in decks \u0022E\u0022 and \u0022F\u0022. In the absence of `Pclass`, `Cabin` could be a good proxy if it wasn\u0027t so sparse.\n  \n[Here](https://www.encyclopedia-titanica.org/titanic-deckplans/) you will find blueprints from all decks in the ship. The numbers in `Cabin` don\u0027t seem to have any correlation with survivorship, but I have found an interesting insight in [this BBC article](http://www.bbc.com/news/magazine-17515305):\n\n\u003cbr/\u003e  \n  \n\u003e Each class of passengers had access to their own decks and allocated lifeboats - although crucially no lifeboats were stored in the third class sections of the ship.\nThird class passengers had to find their way through a maze of corridors and staircases to reach the boat deck. First and second class passengers were most likely to reach the lifeboats as the boat deck was a first and second class promenade.\n\nWhich basically says that 3rd-class had some huge disadvantage regarding to reaching the boat deck. The 99% gets it once again...\n\n```{r}\nallPassengers \u003c- nrow(train)\nfirstClassPercent \u003c- round(nrow(train[train$Pclass == 1, ]) * 100 / allPassengers)\nsecondClassPercent \u003c- round(nrow(train[train$Pclass == 2, ]) * 100 / allPassengers)\nthirdClassPercent \u003c- round(nrow(train[train$Pclass == 3, ]) * 100 / allPassengers)\n```\n\nNot really 99%, but `r thirdClassPercent`% though. It seems like there wasn\u0027t such an inequality in terms of number of seats (or survivors) though:\n\n|Pclass|Percentage from Seats |\n|------|----------------------|\n|1st   |`r firstClassPercent` |\n|2st   |`r secondClassPercent`|\n|3st   |`r thirdClassPercent` |\n\nBut helps to clarify the much larger casualties for 3rd-class. The myth is that the wealthy would forcibly keep non-wealthy from reaching the life-boats, but it seems like the ship was engineered to give the 3rd-class an disadvantage in the first place, even if not purposelessly in case of a disaster:\n\n\u003e \u0022Gates did exist which barred the third class passengers from the other passengers. But this was not in anticipation of a shipwreck but in compliance with US immigration laws and the feared spread of infectious diseases.\nThird class passengers included Armenians, Chinese, Dutch, Italians, Russians, Scandinavians and Syrians as well as those from the British Isles - all in search of a new life in America.\n\u0022Under American immigration legislation, immigrants had to be kept separate so that before the Titanic docked in Manhattan, it first stopped at Ellis Island - where the immigrants were taken for health checks and immigration processing,\u0022 Howells says.\u0022\n\n(From [the same BBC article](http://www.bbc.com/news/magazine-17515305) mentioned earlier)\n\n```{r}\nsurvivors \u003c- nrow(train[train$Survived == 1, ])\nfirstClassSurvivorsPercent \u003c- round(nrow(train[train$Pclass == 1 \u0026 train$Survived == 1, ]) * 100 / survivors)\nsecondClassSurvivorsPercent \u003c- round(nrow(train[train$Pclass == 2 \u0026 train$Survived == 1, ]) * 100 / survivors)\nthirdClassSurvivorsPercent \u003c- round(nrow(train[train$Pclass == 3 \u0026 train$Survived == 1, ]) * 100 / survivors)\n```\n\n|Pclass|Percentage from Survivors      |\n|------|-------------------------------|\n|1st   |`r firstClassSurvivorsPercent` |\n|2st   |`r secondClassSurvivorsPercent`|\n|3st   |`r thirdClassSurvivorsPercent` |\n\nStill, more people from 1st-class survived than any other class. Let\u0027s now add `Deck` to the records:\n\n```{r}\nextractDeck \u003c- function(cabin) {\n  return(toString(unique(strsplit(cabin, \u0022[^A-Z]+\u0022)[[1]])))\n}\n\naddDeck \u003c- function(data) {\n  data$Deck \u003c- sapply(data$Cabin, extractDeck)\n  data[, \u0022Deck\u0022] \u003c- as.factor(data[, \u0022Deck\u0022])\n  return(data)\n}\n\nall \u003c- addDeck(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nHere\u0027s the count distribution per `Deck`:\n\n\n```{r, fig.width = 12, fig.height = 12}\ncountBarchart(train, \u0022Deck\u0022, \u0022Overall\u0022)\n```\n\nI think that the data is too sparse to give us any insight, but here follows the survivorship for `Deck`:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultCountBarchart(train, \u0022Deck\u0022, \u0022Survived\u0022)\n```\n\nDoesn\u0027t quite support the claims in the article, but I believe that this is due to the sparsity of the data.\n\nI\u0027m going to try to fix this issue by using `Ticket` (people traveling together have the same ticket code). It\u0027s reasonable to assume that people traveling together might share cabins.\nMaybe only one passenger from a sharing `Ticket` gets `Cabin`? Let\u0027s check:\n\n```{r}\nnormalizeList \u003c- function(elems) {\n  elems \u003c- unique(elems)\n  elems \u003c- elems[!is.na(elems)]\n  s \u003c- paste(elems, collapse = \u0022 \u0022)\n  if(str_length(trimws(s)) == 0) {\n    s \u003c- NA\n  }\n  return(s)\n}\n\ncabins \u003c- all[with(all, order(Ticket)), which(names(all) %in% c(\u0022Ticket\u0022, \u0022Cabin\u0022))]\ncabins \u003c- cabins %\u003e%\n  group_by(Ticket) %\u003e%\n  summarise(Cabin = list(Cabin))\ncabins$Cabin \u003c- sapply(cabins$Cabin, normalizeList)\n\nticketsMissngCabinRows \u003c- nrow(cabins[is.na(cabins$Cabin), ])\n```\n\nThere are `r ticketsMissngCabinRows` missing `Cabin`, so it seems like that\u0027s not the case... `Cabin` seems just too sparse to use...\n\n## `Ticket` Analysis\n\nFrom fiddling around with data, I found out that people that embarked together share the same ticket code. I have grouped the data by `Ticket` and concatenated `Name`, `Surname`, `Title` and `Sex`. I\u0027ve filtered the columns that seemed relevant and aggregated them by `Ticket`:\n\n```{r}\naggregateFunction \u003c- function(s) {\n  return(paste(s, collapse = \u0022 ~ \u0022))\n}\n\ntickets \u003c- train[with(train, order(Ticket)), which(names(train) %in% c(\u0022Ticket\u0022, \u0022Name\u0022, \u0022Surname\u0022, \u0022Title\u0022, \u0022Sex\u0022))]\ntickets \u003c- tickets %\u003e%\n  group_by(Ticket) %\u003e%\n  summarise(Names = aggregateFunction(Name), \n            Surnames = aggregateFunction(Surname), \n            Titles = aggregateFunction(Title), \n            Genders = aggregateFunction(Sex),\n            People = n())\ntickets \u003c- tickets[tickets$People \u003e 1, ]\n```\n\nI have also filtered out people traveling alone, as I\u0027m interested in groups traveling together:\n\n```{r, results=\u0022asis\u0022}\nrenderTable(tickets)\n```\n\n\u003cbr/\u003e\nIf you go through this table, you\u0027ll find whole families under the same `Ticket`. I guess that we could use `Ticket` to establish family connections among passengers, but `Surname` seems more reliable to me.\n\n## Travel Buddies Ties\n\n### Using `Ticket` to Compute Travel Buddies Survival Rate\n\nFrom the previous section, we\u0027ve found out that `Ticket` can be used to connect people traveling together. The question is, do \u0022travel buddies\u0022 stick together? (in a similar way as families did?)\n\n```{r}\nall \u003c- addSurvivalRate(\u0022Ticket\u0022, all, train)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nHere\u0027s the distribution for `SurvivalRateByTicket`:\n\n```{r, fig.width = 12, fig.height = 12}\ncountBarchart(train, \u0022SurvivalRateByTicket\u0022, \u0022Overall\u0022)\n```\n\nIt seems like buddies do stick together, just like families. Of course most people traveling together are related, so `Ticket` could  probably be used as a proxy for `Surname\u0027.\n\n### Conclusion\n\n\u003cbr/\u003e\nA significant fraction of travel buddies seem to survive or die together for the available data.\n\n![Love you, man! Love you too, bud!](https://s5.postimg.org/ozi8p8p6v/i_love_you_man.png)\n\n# Classifier\n\n## Tunning the Classifier\n\nLet\u0027s try some cross validation to find the best parameters for our random forest classifier. The parameters that can be tuned in a random forest classifier are the following:\n\n|Parameter|Description                                                      |Comment                                                             |\n|---------|-----------------------------------------------------------------|--------------------------------------------------------------------|\n|ntree    |Number of trees.                                                 |Should be big enough to avoid over fitting (default is 500).         |\n|mtry     |Number of variables randomly sampled as candidates at each split.|We are going to use cross validation to determine it (default is 5).|\n\nBe warned that cross validation might take a few minutes to finish.\n\n### Random Search Cross Validation\n\nThe following code does a random grid search:\n\n```{r}\nrandomForestRandomCrossValidation \u003c- function(fml, data, metric, radius, repeats) {\n  set.seed(345)\n  control \u003c- trainControl(method=\u0022repeatedcv\u0022, number=10, repeats=repeats, search=\u0022random\u0022)\n  \n  rfCV \u003c- train(fml, data=data, method=\u0022rf\u0022, metric=metric, tuneLength=radius, trControl=control, importance = TRUE)\n  return(rfCV)\n}\n\nfml \u003c-Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch + FamilySize\nplot(randomForestRandomCrossValidation(fml, train, \u0022Accuracy\u0022, 10, 1))\n```\n\nBe warned that this takes a while to complete (gets slower as the number of features and levels per factor increases):\n\n```{r}\nfml \u003c-Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch + FamilySize + Embarked + TitleWO + FamilyIDWO\n#plot(randomForestRandomCrossValidation(fml, train, \u0022Accuracy\u0022, 10, 3))\n```\n\n![Kaggle times out after 20 minutes, so commenting out this and posting the output as an image.](https://s5.postimg.org/mdwmv5vgn/random_forest_cv_plot.png)\n\nAnother alternative to find the optimal mtry is`tuneRF()` from randomForest, which uses [OOBError](https://en.wikipedia.org/wiki/Out-of-bag_error) but unfortunately cannot handle factors with more than 53 levels, so we can\u0027t include `FamilyID`, `FamilyIDWO`, `Surname` or `Ticket`:\n\n```{r}\nmtryTunning \u003c- function(data) {\n  set.seed(345)\n  suppressMessages(mtry \u003c- tuneRF(data[, names(data) %in% attr(terms(fml), \u0022term.labels\u0022)],\n                                  data[, names(data) %in% c(\u0022Survived\u0022)],\n                                  stepFactor=3.0,\n                                  improve=1e-8,\n                                  ntree=500,\n                                  trace=FALSE))\n  return(mtry)\n}\n\nfml \u003c-Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch + FamilySize + Embarked + TitleWO\nprint(mtryTunning(train))\n```\n\n## Creating Models\n\nFrom the cross validation we now know that the optimal value for mtry is 1. The next step is creating the classifier and evaluating them.\n\nBeing a coder, I always try to write decoupled code that can be re-used. R doesn\u0027t quite support [OOP](https://en.wikipedia.org/wiki/Object-oriented_programming), but you at least can come close in terms of emulating encapsulation. Given that functions are objects and you can define objects (including functions) inside objects, I have defined a class of objects named `Builder()`. They all share the same interface (functions `mode()`, `predictions()` and `probabilities()`). I did this so I would not have to duplicate much code. I created a function named `evaluatedModels()`, which provided a list of builders and formulas, can evaluate all of them (because the builders all obey the same contract):\n\n```{r}\nRandomForestBuilder \u003c- function() {\n  mtry = 1\n  \n  name = paste(\u0022Random Forest (randomForest) mtry:\u0022, mtry)\n  \n  model = function(fml, data) {\n    set.seed(345)\n    numVars \u003c- length(attr(terms(fml), \u0022term.labels\u0022))\n    maxMtry \u003c- floor(sqrt(numVars))\n    \n    if (mtry \u003e maxMtry) {\n      return(randomForest(formula(fml), data = data))\n    }\n    return(randomForest(formula(fml), data = data, mtry = mtry))\n  }\n  \n  predictions = function(model, data) {\n    return(stats::predict(model, newdata = data, type = \u0022class\u0022))\n  }\n  \n  probabilities = function(model, data) {\n    result \u003c- predict(model, newdata=data, type=\u0022prob\u0022)\n    return(result[, 2])\n  }\n  \n  return(list(name=name, model=model, predictions=predictions, probabilities=probabilities))\n}\n\nRandomForestRandomCVBuilder \u003c- function() {\n  name = \u0022Random Forest with Random Search Cross Validation (rpart)\u0022\n  \n  model = function(fml, data) {\n    set.seed(345)\n    return(randomForestRandomCrossValidation(fml, data, \u0022Accuracy\u0022, radius=10, repeats=3))\n  }\n  \n  predictions = function(model, data) {\n    return(stats::predict(model, newdata = data, type = \u0022raw\u0022))\n  }\n  \n  probabilities = function(model, data) {\n    result \u003c- predict(model, newdata=data, type=\u0022prob\u0022)\n    return(result[, 2])\n  }\n  \n  return(list(name=name, model=model, predictions=predictions, probabilities=probabilities))\n}\n\nDecisionTreeBuilder \u003c- function() {\n  name = \u0022Decision Tree (rpart)\u0022\n  \n  model = function(fml, data) {\n    set.seed(345)\n    return(rpart(fml, data = data, method=\u0022class\u0022))\n  }\n  \n  predictions = function(model, data) {\n    return(stats::predict(model, newdata = data, type = \u0022class\u0022))\n  }\n  \n  probabilities = function(model, data) {\n    result \u003c- predict(model, newdata=data, type=\u0022prob\u0022)\n    return(result[, 2])\n  }\n  \n  return(list(name=name, model=model, predictions=predictions, probabilities=probabilities))\n}\n\nConditionalInferenceBuilder \u003c- function() {\n  mtry = 3\n  \n  name = paste(\u0022Conditional Inference Forest (party) mtry: \u0022, mtry)\n  \n  model = function(fml, data) {\n    set.seed(345)\n    \n    numVars \u003c- length(attr(terms(fml), \u0022term.labels\u0022))\n    maxMtry \u003c- floor(sqrt(numVars))\n    \n    if (mtry \u003e maxMtry) {\n      return(cforest(fml, data = data, controls=cforest_unbiased()))\n    }\n    return(cforest(fml, data = data, controls=cforest_unbiased(mtry = mtry)))\n  }\n  \n  predictions = function(model, data) {\n    return(stats::predict(model, newdata = data, type = \u0022response\u0022))\n  }\n  \n  probabilities = function(model, data) {\n    result \u003c- predict(model, newdata=data, type=\u0022prob\u0022)\n    result \u003c- lapply(result, `[`, 2)\n    return(result)\n  }\n  \n  return(list(name=name, model=model, predictions=predictions, probabilities=probabilities))\n}\n\nSVMBuilder \u003c- function(fml, data) {\n  name = \u0022SVM (e1071)\u0022\n  \n  model = function(fml, data) {\n    set.seed(345)\n    return(svm(formula(fml), data = data, probability=TRUE))\n  }\n  \n  predictions = function(model, data) {\n    return(stats::predict(model, newdata = data, type = \u0022class\u0022))\n  }\n  \n  probabilities = function(model, data) {\n    result \u003c- stats::predict(model, newdata = data, probability=TRUE)\n    return(attr(result, \u0022probabilities\u0022)[, 2])\n  }\n  \n  return(list(name=name, model=model, predictions=predictions, probabilities=probabilities))\n}\n```\n\nYou may plot the decision tree from `DecisionTreeBuilder` by using the \u0022rattle\u0022 package:\n\n```{r}\nbuilder \u003c- DecisionTreeBuilder()\nfml \u003c-Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch + FamilySize + Embarked + TitleWO + FamilyIDWO\nmodel \u003c- builder$model(fml, train)\nfancyRpartPlot(model)\n```\n\nYou can actually see what\u0027s going on in the classification. Neat, Huhn? Simpler models have this advantage. For more sophisticated models like random forests that would not be so straightforward (even though you could sample a tree from a random forest for instance).\n\n## Evaluating the Classifier\n\nKaggle doesn\u0027t provide labeled testing data, so I\u0027m going to break the training data-set into two data-sets (training and testing) for evaluation purposes.\n\nI have created functions for the purpose of evaluating performance for the models as well:\n\n```{r}\nfmeasure \u003c- function(confusion) {\n  p \u003c- confusion$byClass[\u0022Pos Pred Value\u0022]\n  r \u003c- confusion$byClass[\u0022Sensitivity\u0022]\n  f \u003c- 2 * ((p * r) / (p + r))\n  return(f)\n}\n\naccuracy \u003c- function(confusion) {\n  return(confusion$overall[\u0022Accuracy\u0022])\n}\n\ncreateFormulaName \u003c- function(fml) {\n  formulaName \u003c- paste(format(fml), collapse = \u0022\u0022)\n  formulaName \u003c- str_replace_all(formulaName, \u0022[\\\\s]\u0022, \u0022\u0022)\n  return(formulaName)\n}\n\nevaluateModel \u003c- function(fml, ModelBuilder, predictionColumn, trainData, testData) {\n  formula \u003c- createFormulaName(fml)\n  modelBuilder \u003c- ModelBuilder()\n  model \u003c- modelBuilder$model(fml, trainData)\n  predictions \u003c- modelBuilder$predictions(model, testData)\n  confusion \u003c- confusionMatrix(data = predictions, reference = testData$Survived)\n  evaluation \u003c- data.frame(model = modelBuilder$name, \n                           formula = formula,\n                           accuracy = accuracy(confusion), \n                           fmeasure = fmeasure(confusion), \n                           stringsAsFactors=FALSE)\n  return(evaluation)\n}\n\nevaluateModels \u003c- function(formulas, ModelBuilders, predictionColumn, data, testData = NULL) {\n  set.seed(3456)\n  if(is.null(testData)) {\n    trainIdx \u003c- createDataPartition(data$Survived, p = 0.6, list = FALSE, times = 1)\n    trainData \u003c- data[trainIdx,]\n    testData \u003c- data[-trainIdx,]\n  } else {\n    trainData \u003c- data\n  }\n  \n  evaluations \u003c- data.frame(model = character(), \n                            formula = character(), \n                            accuracy = numeric(0), \n                            fmeasure = numeric(0), \n                            stringsAsFactors=FALSE)\n\n  for (ModelBuilder in ModelBuilders) {\n    for (fml in formulas) {\n      evaluation \u003c- evaluateModel(fml, ModelBuilder, predictionColumn, trainData, testData)\n      evaluations \u003c- bind_rows(evaluations, evaluation)\n    }\n  }\n  renderTable(evaluations)\n}\n```\n\nNote that I\u0027m using [accuracy](https://en.wikipedia.org/wiki/Accuracy_and_precision) and [F-Measure](https://en.wikipedia.org/wiki/F1_score). I\u0027ve seen F-Measure being used more often in machine learning (both in courses and at work), but I often compute both (accuracy seems more intuitive and easier for business to understand).\n\nThe [confusion matrix](https://en.wikipedia.org/wiki/Confusion_matrix) returned by `caret::confusionMatrix()` has many different metrics, for which you can find more about [here](https://topepo.github.io/caret/measuring-performance.html). The metrics don\u0027t include a F-Measure though, so it needs to be computed from existent ones. For more information on the available metrics refer to [this](https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values) and [this](https://en.wikipedia.org/wiki/Precision_and_recall).\n\n### Evaluation Aftermath (Random Forest \u0026 SVM) \u003ca name=\u0022aftermath\u0022\u003e\u003c/a\u003e\n\nLet\u0027s create some models using random forest and different groups of features:\n\n```{r, results=\u0022asis\u0022}\ntrainIdx \u003c- createDataPartition(train$Survived, p = 0.6, list = FALSE, times = 1)\ntrainData \u003c- train[trainIdx,]\ntestData \u003c- train[-trainIdx,]\ntrainData \u003c- addSurvivalRate(\u0022Surname\u0022, trainData, trainData)\ntestData \u003c- addSurvivalRate(\u0022Surname\u0022, testData, trainData)\n\n\ntrainData \u003c- addSurvivalRate(\u0022Ticket\u0022, trainData, trainData)\ntestData \u003c- addSurvivalRate(\u0022Ticket\u0022, testData, trainData)\n\ntrainData \u003c- addSurvivalRate(\u0022FamilyID\u0022, trainData, trainData)\ntestData \u003c- addSurvivalRate(\u0022FamilyID\u0022, testData, trainData)\n\ntrainData \u003c- addSurvivalRate(\u0022FamilyIDWO\u0022, trainData, trainData)\ntestData \u003c- addSurvivalRate(\u0022FamilyIDWO\u0022, testData, trainData)\n\nformulas \u003c- c(Survived ~ Sex,\n              Survived ~ Sex + Age,\n              Survived ~ Sex + Age + Fare,\n              Survived ~ Sex + Age + Fare + Pclass,\n              Survived ~ Sex + Age + Fare + Pclass + SibSp,\n              Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked + Title,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + Fare + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO + IsChild,\n              Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO + IsChild + IsMother)\n\nmodels \u003c- c(RandomForestBuilder, SVMBuilder)\n\nevaluateModels(formulas, models, \u0022Survived\u0022, trainData, testData)\n```\n\nThe following models are a bit slower to generate the classifier (due to cross validation), so I\u0027m running them separately:\n\n```{r, results=\u0022asis\u0022}\nformulas \u003c- c(Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked + Title,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + Fare + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO)\n\nmodels \u003c- c(DecisionTreeBuilder, ConditionalInferenceBuilder, RandomForestRandomCVBuilder)\n\n#evaluateModels(formulas, models, \u0022Survived\u0022, trainData, testData)\n```\n\nKaggle times out after 20 minutes, so commenting out this and posting the output:\n\n\u003c!-- html table generated in R 3.3.2 by xtable 1.8-2 package --\u003e\n\u003c!-- Wed Jan 18 01:59:44 2017 --\u003e\n\u003ctable border=1\u003e\n\u003ctr\u003e \u003cth\u003e  \u003c/th\u003e \u003cth\u003e model \u003c/th\u003e \u003cth\u003e formula \u003c/th\u003e \u003cth\u003e accuracy \u003c/th\u003e \u003cth\u003e fmeasure \u003c/th\u003e  \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 1 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 2 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+Title \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 3 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 4 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 5 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+FareWO+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.82 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 6 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.81 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.86 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 7 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+Title \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 8 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 9 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.88 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 10 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+FareWO+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 11 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 12 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+Title \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.85 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.88 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 13 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.84 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.88 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 14 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 15 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+FareWO+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.84 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.88 \u003c/td\u003e \u003c/tr\u003e\n   \u003c/table\u003e\n\n\n\n\u003cbr/\u003e\nI\u0027m also only running them for the most promising models.\n\n\nAs a final touch, I\u0027m going to plot the [ROC](https://en.wikipedia.org/wiki/Receiver_operating_characteristic) curves.\n\n```{r, fig.width = 16, fig.height = 8}\ncreatePrediction \u003c- function(fml, ModelBuilder, testData) {\n  modelBuilder \u003c- ModelBuilder()\n  model \u003c- modelBuilder$model(fml, trainData)\n  probabilities \u003c- modelBuilder$probabilities(model, testData)\n  return(prediction(as.numeric(probabilities), testData$Survived))\n}\n\ncreatePerformance \u003c- function(prediction) {\n  return(performance(prediction, measure = \u0022tpr\u0022, x.measure = \u0022fpr\u0022))\n}\n\ncreateAuc \u003c- function(prediction) {\n  auc \u003c- performance(prediction, measure = \u0022auc\u0022)\n  return(auc@y.values[[1]])\n}\n\nbuildModelName \u003c- function(fml, ModelBuilder, auc) {\n  formulaName \u003c- createFormulaName(fml)\n  aucName \u003c- paste(\u0022(AUC: \u0022, auc, \u0022)\u0022)\n  modelBuilder \u003c- ModelBuilder()\n  name \u003c- paste0(modelBuilder$name, \u0022\\n\u0022, formulaName, \u0022\\n\u0022, aucName, \u0022\\n\u0022)\n  return(name)\n}\n\ncreateRocPlot \u003c- function(roc) {\n  return(list(geom_ribbon(data = roc, aes(x=FPR, fill = Model, ymin=0, ymax=TPR), alpha = 0.2),\n              geom_line(data = roc, aes(x=FPR, y=TPR, color = Model))))\n}\n\ngenerateAllROCs \u003c- function(formulas, ModelBuilders, trainData, testData) {\n  rocPlots \u003c- c()\n  for (ModelBuilder in ModelBuilders) {\n    for (fml in formulas) {\n      modelBuilder \u003c- ModelBuilder()\n      prediction \u003c- createPrediction(fml, ModelBuilder, testData)\n      performance \u003c- createPerformance(prediction)\n      auc \u003c- createAuc(prediction)\n      roc \u003c- data.frame(FPR=unlist(performance@x.values),\n                        TPR=unlist(performance@y.values),\n                        Model=rep(buildModelName(fml, ModelBuilder, auc), each=length(performance@x.values)))\n      rocPlots \u003c- c(rocPlots, createRocPlot(roc))\n    }\n  }\n  \n  roc \u003c- data.frame(FPR=c(0.0, 1.0),\n                    TPR=c(0.0, 1.0),\n                    Model=rep(\u0022Line of No-discrimination\\n\u0022, each=2))\n  rocPlots \u003c- c(rocPlots, createRocPlot(roc))\n  ggplot() + rocPlots + coord_fixed()\n}\n\nformulas \u003c- c(Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + Fare + Pclass + FamilySize + Embarked + TitleWO)\n\nmodels \u003c- c(RandomForestBuilder, SVMBuilder, DecisionTreeBuilder)\n\ngenerateAllROCs(formulas, models, trainData, testData)\n```\n\nThese two take a while to complete, so I\u0027m running them separatedly:\n\n```{r, fig.width = 16, fig.height = 8}\nmodels \u003c- c(ConditionalInferenceBuilder, RandomForestRandomCVBuilder)\n\n#generateAllROCs(formulas, models, trainData, testData)\n```\n\n![Kaggle times out after 20 minutes, so commenting out this and posting the output as an image.](https://s5.postimg.org/wt2t42snb/roc_plot1.png)\n\n### Evaluation Aftermath II: This Time is Personal (Decision Tree, Conditional Inference Forest \u0026 Cross Validation Random Forest) \u003ca name=\u0022aftermath2\u0022\u003e\u003c/a\u003e\n\nWe can\u0027t use `Surname` or `Ticket` with randomForest package (too many categories for `Surname`), so I\u0027m going to run them separately:\n\n\n```{r, results=\u0022asis\u0022}\nformulas \u003c- c(Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch + FamilySize + Embarked + TitleWO + FamilyIDWO)\n\nmodels \u003c- c(SVMBuilder, DecisionTreeBuilder, ConditionalInferenceBuilder, RandomForestRandomCVBuilder)\n#evaluateModels(formulas, models, \u0022Survived\u0022, train)\n```\n\nKaggle times out after 20 minutes, so commenting out this and posting the output:\n\n\u003c!-- html table generated in R 3.3.2 by xtable 1.8-2 package --\u003e\n\u003c!-- Wed Jan 18 12:38:16 2017 --\u003e\n\u003ctable border=1\u003e\n\u003ctr\u003e \u003cth\u003e  \u003c/th\u003e \u003cth\u003e model \u003c/th\u003e \u003cth\u003e formula \u003c/th\u003e \u003cth\u003e accuracy \u003c/th\u003e \u003cth\u003e fmeasure \u003c/th\u003e  \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 1 \u003c/td\u003e \u003ctd\u003e SVM (e1071) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+SibSp+Parch+FamilySize+Embarked+TitleWO+FamilyIDWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.80 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.84 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 2 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+SibSp+Parch+FamilySize+Embarked+TitleWO+FamilyIDWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.79 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 3 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+SibSp+Parch+FamilySize+Embarked+TitleWO+FamilyIDWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.82 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.86 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 4 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+SibSp+Parch+FamilySize+Embarked+TitleWO+FamilyIDWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.79 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003c/tr\u003e\n   \u003c/table\u003e\n\n\u003cbr/\u003e\nHere are the correspondent ROC curves:\n\n```{r, fig.width = 16, fig.height = 8}\nmodels \u003c- c(DecisionTreeBuilder, ConditionalInferenceBuilder, RandomForestRandomCVBuilder)\n\n#generateAllROCs(formulas, models, trainData, testData)\n```\n\n![Kaggle times out after 20 minutes, so commenting out this and posting the output as an image.](https://s5.postimg.org/upsdwesuf/roc_plot2.png)\n\n# Feature Importance\n\nI believe we\u0027ve exhausted all features we could extract, so we can now build a final model and evaluate their variables\u0027 importance:\n\n```{r, fig.width = 12, fig.height = 6}\ncustomtImpPlot \u003c- function(model, title) {\n  if(!is(model, \u0022RandomForest\u0022) \u0026 !is(model, \u0022randomForest\u0022)) {\n    model \u003c- model$finalModel\n  }\n  if (is(model, \u0022randomForest\u0022)) {\n    varImpPlot(model, type=2, main=title)\n  } else {\n    importance \u003c- varimp(model)\n    dotchart(importance[order(importance)], main = title)\n  }\n}\n\nvarImpPlotAll \u003c- function(formulas, ModelBuilders) {\n    par(mfrow=c(length(formulas), length(ModelBuilders))) \n    varImpPlots \u003c- c()\n    for (ModelBuilder in ModelBuilders) {\n      for (fml in formulas) {\n        builder \u003c- ModelBuilder()\n        model \u003c- builder$model(formula(fml), data=train)\n        title \u003c- paste(builder$name, \u0022\\n\u0022, createFormulaName(fml))\n        customtImpPlot(model, title)\n      }\n    }\n}\n\nformulas \u003c- c(Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO)\n\nmodels \u003c- c(RandomForestBuilder)\n\nvarImpPlotAll(formulas, models)\n```\n\n`randomForest` doesn\u0027t support more than 53 categories (factor levels), so we can build a model with `FamilyIDWO`.\n\n```{r, fig.width = 12, fig.height = 12}\nformulas \u003c- c(Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO + FamilyIDWO)\n\nmodels \u003c- c(ConditionalInferenceBuilder)\n\n#varImpPlotAll(formulas, models)\n```\n\n![Kaggle times out after 20 minutes, so commenting out this and posting the output as an image.](https://s5.postimg.org/gkmkuljt3/var_imp_plot.png)\n\n# Generating Predictions\n\nWe need also to apply all the transformations we came up with during feature engineering:\n\nNow we can create a classifier and generate the predictions:\n\n```{r}\nbuildOutputName \u003c- function(fml, modelName) {\n  formulaName \u003c- paste0(format(fml), collapse = \u0022\u0022)\n  output \u003c- paste0(modelName, formulaName)\n  output \u003c- str_replace_all(output, \u0022[^\\\\w]\u0022, \u0022\u0022)\n  output \u003c- paste0(output, \u0022.csv\u0022)\n  return(output)\n}\n\ngeneratePredictions \u003c- function(fml, ModelBuilder, predictionColumn, trainData, testData) {\n  modelBuilder \u003c- ModelBuilder()\n  model \u003c- modelBuilder$model(fml, trainData)\n  predictions \u003c- modelBuilder$predictions(model, testData)\n  solution \u003c- data.frame(PassengerID = testData$PassengerId, Survived = predictions)\n  output \u003c- buildOutputName(fml, modelBuilder$name)\n  write.csv(solution, file = output, row.names = FALSE)\n  testData$Survived \u003c- predictions\n  return(testData)\n}\n\ngenerateAllPredictions \u003c- function(formulas, ModelBuilders, predictionColumn, trainData, testData) {\n  for (ModelBuilder in ModelBuilders) {\n    for (fml in formulas) {\n      evaluation \u003c- generatePredictions(fml, ModelBuilder, predictionColumn, trainData, testData)\n    }\n  }\n}\n\nfml \u003c-Survived ~ Sex + AgeWO + FareWO + Pclass + SibSp + Parch + FamilySize + Embarked + TitleWO + FamilyIDWO\ntest \u003c- generatePredictions(fml, ConditionalInferenceBuilder, \u0022Survived\u0022, train, test)\n```\n\n# Sanity Check\n\nI\u0027ve saved the predictions to `test$Survived`, this way we can quick check it through plotting.\n\n```{r}\ncountBarchart(test, \u0022Survived\u0022, \u0022Overall\u0022)\n```\n\nI\u0027ve submitted a trivial model to Kaggle where everybody survived to measure the percentage of survivors. There are about 63% survivors in the testing data-set, which is about the same percentage of survivors in the training data-set. That\u0027s a nice sanity check: If your predictions are any good, the percentage of survivors in your predictions should be close to this value.\n\n```{r}\ncategoricalResultCountBarchart(test, \u0022Sex\u0022, \u0022Survived\u0022)\n```\n\nFemale do better than male.\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(test, \u0022AgeWO\u0022, \u0022Survived\u0022, 10)\n```\n\nChildren do better than adults.\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(test, \u0022FareWO\u0022, \u0022Survived\u0022, 10)\n```\n\n```{r}\ncategoricalResultCountBarchart(test, \u0022Pclass\u0022, \u0022Survived\u0022)\n```\n\nWealthy do better than poor. The predictions seem consistent with the observations.\n\n# Kaggle Submission\n\nMy latest submission achieved 0.82775 accuracy, which seems like a very good result (consult the Kaggle discussion fora). I scrutinized this data as much as I could (haven\u0027t found a more comprehensive analysis anywhere). \n\n\u003e **NOTE:**\n\u003e If you\u0027re a beginner: Don\u0027t get discouraged by the top scores. Unfortunately, it\u0027s pretty easy to cheat on this challenge (given that you can find the list of survivors online), thus you will find 100% accuracy scores... I would say that these are definitely cheats, while anything much greater than 80% are probably cheats as well.","dateCreated":"2017-01-18T14:39:12.413Z"},"kernelRun":{"id":725489,"kernelId":148389,"status":"complete","type":"batch","sourceType":"script","language":"rmarkdown","title":"Titanic Survivorship Analysis","dateCreated":"2017-01-18T14:39:12.413Z","dateEvaluated":"2017-01-18T14:39:10.653Z","workerContainerPort":null,"workerUptimeSeconds":56,"workerIPAddress":"10.3.0.7       ","scriptLanguageId":5,"scriptLanguageName":"RMarkdown","renderedOutputUrl":"https://www.kaggleusercontent.com/kf/725489/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..9gM22O4dVvtOu5l61oIE6w.KM1EOs4OA_vPNMkq_annCZazMwcctiRmBVBBPK7ABGlKlrh8_z7ujqlSADkEP5SXh-toavB1AMvQrIWfGm4n0MKI7cPMYmqQKFKI04w51iegb6xHRwMq_HE5QTybLuoy_OJ9eMDkkPFJc82pL67NPg.J5P1p_ZIo_y82UpucD5SsA/__results__.html","commit":{"id":4640825,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"Competition","sourceId":3136,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\ntitle: \u0022Titanic Survivorship Analysis\u0022\noutput:\n  html_document:\n    toc: yes\n    toc_depth: 4\n---\n\n# Overview\n\nI intend to use this notebook to showcase my data science and R skills. I\u0027m trying to be verbose for this reason. This notebook also serves as my \u0022bag of tricks\u0022, which I can consult in future projects. Keep in mind that I\u0027m a coder by trade in my way to become a data scientist. Suggestions and constructive critique are always welcome.\n\n# Installing the Required Packages\n\nYou might need to install the following packages if you don\u0027t already have them:\n\n```{r}\n# install.packages(\u0022xtable\u0022)\n# install.packages(\u0022ggplot2\u0022)\n# install.packages(\u0022dplyr\u0022)\n# install.packages(\u0022plyr\u0022)\n# install.packages(\u0022vcd\u0022)\n# install.packages(\u0022png\u0022)\n# install.packages(\u0022caret\u0022)\n# install.packages(\u0022randomForest\u0022)\n# install.packages(\u0022ggrepel\u0022)\n# install.packages(\u0022party\u0022)\n# install.packages(\u0022Amelia\u0022)\n# install.packages(\u0022mice\u0022)\n# install.packages(\u0022mlbench\u0022)\n# install.packages(\u0022party\u0022)\n# install.packages(\u0022rpart\u0022)\n# install.packages(\u0022rpart.plot\u0022)\n# install.packages(\u0022rattle\u0022)\n# install.packages(\u0022ROCR\u0022)\n# install.packages(\u0022Hmisc\u0022)\n```\n\nJust uncomment the packages you need and run this chunk before you run the remaining ones in this notebook.\n\n# Importing the Required Packages\n\nOnce the libraries are installed, you need to load them as follows:\n\n```{r}\nsuppressMessages(library(caret))                                 # Machine learning\nsuppressMessages(library(rpart))\nsuppressMessages(library(e1071))\nsuppressMessages(library(randomForest))\nsuppressMessages(library(mlbench))\nsuppressMessages(library(party))\nsuppressMessages(library(ggplot2))                               # Plotting\nsuppressMessages(library(lattice))\nsuppressMessages(library(grid))\nsuppressMessages(library(gridExtra, warn.conflicts = FALSE))\nsuppressMessages(library(ggrepel))\nsuppressMessages(library(vcd))\nsuppressMessages(library(rpart.plot))\nsuppressMessages(library(rattle))\nsuppressMessages(library(ROCR))\nsuppressMessages(library(mice))                                  # Data imputation\nsuppressMessages(library(xtable))                                # Pretty printing dataframes\nsuppressMessages(library(plyr, warn.conflicts = FALSE))          # Manipulating dataframes\nsuppressMessages(library(Hmisc))\nsuppressMessages(library(Amelia))                                # Missing data\nsuppressMessages(library(dplyr, warn.conflicts = FALSE))\nsuppressMessages(library(stringr))                               # String operations\n```\n\n# Loading Data\n\n## Reading CSV Files\n\nLet\u0027s first load the data-sets:\n\n```{r}\ntrain \u003c- read.csv(\u0027../input/train.csv\u0027, na.strings=c(\u0022NA\u0022, \u0022NULL\u0022, \u0022\u0022), stringsAsFactors = F)\ntest  \u003c- read.csv(\u0027../input/test.csv\u0027, na.strings=c(\u0022NA\u0022, \u0022NULL\u0022, \u0022\u0022), stringsAsFactors = F)\nall \u003c- rbind.fill(train, test)\n```\n\nYou might have noticed that the testing data-set isn\u0027t labeled (`Survived` is not present):\n\n```{r}\nstr(test)\n```\n\nKaggle only provides labels for the training data-set. The testing data-set is using to compute your score (based on accuracy).\n\n## Record Counting\n\nHere\u0027s the record count for the data-sets:\n\n```{r}\ntrainRows \u003c- nrow(train)\ntestRows \u003c- nrow(test)\ntotalRows \u003c- nrow(train) + nrow(test)\n```\n\n|Data-set|Number of Records|\n|-------|------------------|\n|train  |`r trainRows`     |\n|test   |`r testRows`      |\n|total  |`r totalRows`     |\n\n## Taking a Sample\n\nThe standard way data is rendered in a notebook shows nicely in RStudio, but look terrible in the HTML output (which is probably the format you\u0027re reading this right now), so I created a custom function for this purpose:\n\n```{r}\nrenderTable \u003c- function(data) {\n  print(xtable(data), type = \u0022html\u0022)\n}\n\nsampleDataFrame \u003c- function(data, size) {\n  sampleIndex \u003c- sample(1:nrow(train), size)\n  return(data[sampleIndex, ])\n}\n```\n\nHere are some records sampled from the training data-set:\n\n\n```{r, results=\u0022asis\u0022}\nrenderTable(sampleDataFrame(train, 10))\n```\n\n## Data Types\n\nYou\u0027ll find a description of the variables [here](https://www.kaggle.com/c/titanic/data), but in the spirit of making this notebook self-contained:\n\n\u003c/br\u003e\n\n| Name    |Description                      |Type                                                                    |\n|---------|---------------------------------|------------------------------------------------------------------------|\n|Pclass\t  |Passenger’s class                |Numeric / Categorical (1 = 1st class; 2 = 2nd class; 3 = 3rd class)     |\n|Name\t    |Passenger’s name                 |String                                                                  |\n|Sex\t    |Passenger’s gender               |String / Categorical (male, female)                                     |\n|Age\t    |Passenger’s age                  |Numeric                                                                 |\n|SibSp\t  |Number of siblings/spouses aboard|Numeric                                                                 |\n|Parch\t  |Number of parents/children aboard|Numeric                                                                 |\n|Ticket\t  |Ticket Code                      |Alpha-numeric                                                           |\n|Fare\t    |Fare                             |Numeric                                                                 |\n|Cabin\t  |Cabin Code                       |Alpha-numeric                                                           |\n|Embarked\t|Port of embarkation              |Character / Categorical (C = Cherbourg; Q = Queenstown; S = Southampton)|\n\n`read.csv()` will assign types automatically. You can always check your data types evoking `str()`:\n\n```{r}\nstr(train)\n```\n\n# Missing Data\n\n## Detecting Missing Data\n\nIt\u0027s always a good idea to know about missing values from the start:\n\n```{r, fig.width = 12, fig.height = 12}\nmissmap(train, main = \u0022Missing Values (Training Data-set)\u0022, col = c(\u0022red\u0022, \u0022lightgrey\u0022))\n```\n\n\n```{r, fig.width = 12, fig.height = 12}\nmissmap(test, main = \u0022Missing Values (Testing Data-set)\u0022, col = c(\u0022red\u0022, \u0022lightgrey\u0022))\n```\n\n```{r}\nmissingCabinRows \u003c- nrow(all[is.na(all$Cabin), ])\nmissingAgeRows \u003c- nrow(all[is.na(all$Age), ])\nmissingFareRows \u003c- nrow(all[is.na(all$Fare), ])\nmissingEmbarkedRows \u003c- nrow(all[is.na(all$Embarked), ])\n```\n\n`Cabin`, `Age` and `Embarked` are missing for a number of records:\n\n|Variable  |Number of Missing Records|\n|----------|-------------------------|\n|`Cabin`   |`r missingCabinRows`     |\n|`Age`     |`r missingAgeRows`       |\n|`Fare`     |`r missingFareRows`     |\n|`Embarked`|`r missingEmbarkedRows`  |\n\n\u003cbr/\u003e\nThe classifier we\u0027ll create won\u0027t work well with missing data (they either won\u0027t work altogether or you will get NAs as predictions), so we need to estimate missing values using [imputation](https://en.wikipedia.org/wiki/Imputation_(statistics)) methods.\n\n## Dealing with Missing Data\n\n### Missing `Age` and `Fare`\n\nFor continuous variables such as these [mice](https://cran.r-project.org/web/packages/mice/index.html) is a good choice for imputation:\n\n```{r}\nestimateMissingVariables \u003c- function(data) {\n  predictors \u003c- c(\u0022Age\u0022, \u0022Sex\u0022, \u0022Fare\u0022, \u0022Pclass\u0022, \u0022SibSp\u0022, \u0022Parch\u0022, \u0022Embarked\u0022, \u0022Title\u0022)\n  set.seed(345)\n  capture.output(model \u003c- mice(data[, names(data) %in% predictors], method=\u0027rf\u0027))\n  output \u003c- complete(model)\n  data$Age \u003c- output$Age\n  data$Fare \u003c- output$Fare\n  return(data)\n}\n\nfixedAll \u003c- estimateMissingVariables(all)\n```\n\nLet\u0027s do a quick sanity check by comparing histograms before and after estimating the missing values. I have created a custom histogram for this purpose:\n\n```{r}\ncustomHistogram \u003c- function(data, column, title) {\n  missing = nrow(data[is.na(data[,  column]), ])\n  ggplot(data=data, aes_string(x = column)) +\n  geom_histogram(bins = 20, na.rm = TRUE, fill = \u0022blue\u0022, alpha = 0.2) +\n  xlab(paste(column, \u0022(\u0022, title, \u0022, NA Count: \u0022, missing, \u0022)\u0022))\n}\n```\n\nWhich renders the following plots:\n\n```{r, fig.width = 12, fig.height = 12}\nallAge \u003c- customHistogram(all, \u0022Age\u0022, \u0022Original\u0022)\nfixedAllAge \u003c- customHistogram(fixedAll, \u0022Age\u0022, \u0022Fixed\u0022)\n\nallFare \u003c- customHistogram(all, \u0022Fare\u0022, \u0022Original\u0022)\nfixedAllFare \u003c- customHistogram(fixedAll, \u0022Fare\u0022, \u0022Fixed\u0022)\n\ngrid.arrange(allAge, fixedAllAge, \n             allFare, fixedAllFare,\n             ncol=2, nrow=2)\n```\n\nNo NAs and overall shape didn\u0027t change much. Looking good, so let\u0027s use them:\n\n```{r}\nall \u003c- fixedAll\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\n### Missing `Embarked`\n\nThese are the records missing `Embarked`:\n\n```{r missingEmbarked, results=\u0027asis\u0027}\nmissingEmbarkedIndex \u003c- is.na(train$Embarked)\nrenderTable(train[missingEmbarkedIndex, ])\n```\n\n\u003cbr/\u003e\nGiven that `Embarked` is categorical, we could use random forest here, but just to try something different, let\u0027s try a [decision tree](https://en.wikipedia.org/wiki/Decision_tree_learning) from the [rpart](https://cran.r-project.org/web/packages/rpart/index.html) package:\n\n```{r}\nestimateMissingEmbarked \u003c- function(data) {\n  missing \u003c- data[is.na(data$Embarked), ]\n  present \u003c- data[!is.na(data$Embarked), ]\n\n  fol \u003c- formula(Embarked ~ Sex + Age + Fare + Pclass + SibSp + Parch)\n  model \u003c- rpart(fol, method=\u0027class\u0027, data=present)\n  missing$Embarked \u003c-predict(model, missing, type=\u0022class\u0022)\n  all \u003c- rbind.fill(missing, present)\n  all \u003c- all[with(all, order(PassengerId)), ]\n  return(all)\n}\n\nall \u003c- estimateMissingEmbarked(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nThese are the predictions for `Embarked`:\n\n```{r fixedEmbarked, results=\u0027asis\u0027}\nrenderTable(train[missingEmbarkedIndex, ])\n```\n\n\u003cbr/\u003e\nIn the section for [`Fare` Analysis](#fareanalysis) that will follow, we will be able to sanity check these estimations: the distribution of `Fare` can show us that the estimates make sense.\n\n# Feature Engineering\n\n## Converting Categorical Fields to Factors\n\nThe categorical fields need to be converted to factors (which are well-suited for categorical data) for tasks such as plotting and machine learning:\n\n```{r}\ntoFactor \u003c- function(data) {\n   columns \u003c- intersect(names(data), c(\u0022Survived\u0022, \u0022Sex\u0022, \u0022Embarked\u0022, \u0022Pclass\u0022, \u0022Ticket\u0022))\n  data[, columns] \u003c- lapply(data[, columns] , factor)\n  return(data)\n}\n\nall \u003c- toFactor(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nNote that these columns are now factors:\n\n```{r}\nstr(train)\n```\n\n\u003e **NOTE:**\n\u003e When imputating missing values or creating new features, I suggest that you always apply such transformations over the whole data (training + testing) if you\u0027re working with categorical variables. Let\u0027s say that you have a factor named `Pie` with levels `Apple`, `Pecan`, `Cherry` and `Pumpkim`. Could be the case that your training data-set has only entries with levels `Apple` and `Pecan` and that your testing data-set has levels `Cherry` and `Pumpkim`. On factor conversion, `Pie` from training will have different levels from `Pie` from testing (they are incompatible). This will be a pain when you\u0027re ready to train your classifier. Of course, you can always override variable factor levels for both data-sets afterwards, but it\u0027s a somehow ackward operation.\n\n## `Name` Analysis\n\n### Extracting `Surname` from `Name`\n\nLet\u0027s see if we can improve accuracy by squeezing some more information from the remaining variables, starting by `Name`. Here\u0027s a sample from the training data-set:\n\n```{r}\nsample \u003c- head(train, 12)\nsample$Name\n```\n\nThe pattern seem to be \u0022Surname, Title. Names\u0022. We\u0027re particularly interested in \u0022Surname\u0022 and \u0022Title\u0022. I have extracted parsing into functions for cleaner code:\n\n```{r}\nnamePattern \u003c- \u0022(.+),\\\\s*(.+?)\\\\..+\u0022\n\nextractSurname \u003c- function(name) {\n  return(str_match_all(name, namePattern)[[1]][2])\n}\n\naddSurname \u003c- function(data) {\n  data$Surname \u003c- sapply(data$Name, extractSurname)\n  data[, \u0022Surname\u0022] \u003c- as.factor(data[, \u0022Surname\u0022])\n  return(data)\n}\n\nall \u003c- addSurname(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\n### Extracting `Title` from `Name`\n\n```{r}\nextractTitle \u003c- function(name) {\n  return(str_match_all(name, namePattern)[[1]][3])\n}\n\naddTitle \u003c- function(data) {\n  data$Title \u003c- sapply(data$Name, extractTitle)\n  data[, \u0022Title\u0022] \u003c- as.factor(data[, \u0022Title\u0022])\n  return(data)\n}\n\nall \u003c- addTitle(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nHere\u0027s the distribution for `Title`:\n\n```{r, fig.width = 12, fig.height = 12}\ncountBarchart \u003c- function(data, column, title) {\n   ggplot(data, aes_string(x=column)) + \n   geom_bar(fill = \u0022blue\u0022, alpha = 0.2) +\n   geom_text(stat=\u0027count\u0027, aes(label=sprintf(\u0022%d\\n(%d %%)\u0022, ..count.., round(..count.. * 100/sum(..count..), 0)), vjust=0)) +\n   xlab(paste(column, \u0022(\u0022, title, \u0022)\u0022))\n}\n\ncountBarchart(train, \u0022Title\u0022, \u0022Overall\u0022)\n```\n\n#### Outliers\n\nThe most frequent titles are \u0022Mr\u0022, \u0022Miss\u0022, \u0022Mrs\u0022 and \u0022Master\u0022. The remaining ones seem to be outliers. Normally, one would simply remove these, but in the spirit of showing the effect of outliers, let\u0027s create a new column: `TitleWO` (without outliers):\n\n```{r}\naddTitleWO \u003c- function(data) {\n  frequent \u003c- c(\u0022Mr\u0022, \u0022Miss\u0022, \u0022Mrs\u0022, \u0022Master\u0022)\n  data$TitleWO \u003c- sapply(data$Name, extractTitle)\n  data$TitleWO[!(data$Title %in% frequent)] \u003c- \u0022Rare\u0022\n  data[, \u0022TitleWO\u0022] \u003c- as.factor(data[, \u0022TitleWO\u0022])\n  return(data)\n}\n\nall \u003c- addTitleWO(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n\ncountBarchart(train, \u0022TitleWO\u0022, \u0022Overall\u0022)\n```\n\n\u003cbr/\u003e\nThere are different ways to visualize survival rates, but I think that bar charts are the best tool for this purpose:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultCountBarchart \u003c- function(data, column, categoryColumn) {\n  survivors \u003c- plyr::count(data, vars=c(column, categoryColumn))\n  survivors \u003c- group_by_(survivors, column) %\u003e% dplyr::mutate(Percentage = round(freq * 100 / sum(freq)))\n\n  ggplot(data = survivors, aes_string(x = column, y = \u0022Percentage\u0022, fill = categoryColumn)) +\n    geom_bar(stat=\u0022identity\u0022, position = \u0022dodge\u0022) +\n    geom_text(aes(label=sprintf(\u0022%d\\n(%d %%)\u0022, freq, Percentage)))\n}\n\ncategoricalResultCountBarchart(train, \u0022TitleWO\u0022, \u0022Survived\u0022)\n```\n\n\u003e **NOTE:**\n\u003e You might have noticed that the bar heights represent percentages within a given group, not record counts. That\u0027s because we might not get record counts of the same order of magnitude for every group, i.e., a large number of \u0022Mr\u0022 and a small number of \u0022Ms\u0022, which would render the bar for the last nearly invisible. I have labeled the bars with the record count and percentage though, so the reader is informed of the actual count.\n\n## Women and Children First\n\nLet\u0027s start with the first thing that comes to mind in a moment of crisis, that known code of conduct: [\u0022Women and children first.\u0022](https://en.wikipedia.org/wiki/Women_and_children_first).\n\n![[\u0022Women and children first? Really? Shouldn\u0027t be whoever\u0027s closest?\u0022](https://www.youtube.com/watch?v=yL2dGTDQXVo)](https://s5.postimg.org/8zzl5ot53/larry_women_and_children_first.png)\n\n### Gender Survivorship\n\n```{r}\ncategoricalResultCountBarchart(train, \u0022Sex\u0022, \u0022Survived\u0022)\n```\n\nIt\u0027s clear that there is a correlation between gender and survivorship.\n\n### Age Survivorship\n\nOnce again I have created a custom histogram plot function, which shows percentages instead of absolute values:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram \u003c- function(data, column, categoryColumn, breaks) {\n  groupColumn \u003c- paste0(column, \u0022Group\u0022)\n  suppressWarnings(data[, groupColumn] \u003c- cut2(data[, column], g=breaks, digits=0))\n  survivors \u003c- plyr::count(data, vars=c(groupColumn, categoryColumn))\n  survivors \u003c- group_by_(survivors, groupColumn) %\u003e% dplyr::mutate(Percentage = round(freq * 100 / sum(freq)))\n\n  ggplot(data = survivors, aes_string(x = groupColumn, y = \u0022Percentage\u0022, fill = categoryColumn)) +\n    geom_bar(stat=\u0022identity\u0022, position = \u0022dodge\u0022) +\n    geom_text(aes(label=sprintf(\u0022%d\\n(%d %%)\u0022, freq, Percentage))) +\n    xlab(column)\n}\n\ncategoricalResultHistogram(train, \u0022Age\u0022, \u0022Survived\u0022, 10)\n```\n\n\u003cbr/\u003e\nYounger people (less than 12 years old) does seem to have a higher chance of surviving.\n\n#### Outliers\n\nLet\u0027s take this opportunity to develop some tools that will help us to analyze other variables for which the outliers might not be so obvious:\n\n```{r, fig.width = 6, fig.height = 12}\ncreateBoxPlotLabels \u003c- function(data, column) {\n  meta \u003c- boxplot.stats(data[, column])\n  labels \u003c-data.frame(value=round(median(data[, column]), 4), label=\u0022Median\u0022)\n  labels \u003c-rbind(labels,data.frame(value=round(mean(data[, column]), 4), label=\u0022Mean\u0022))\n  labels \u003c-rbind(labels,data.frame(value=meta$stats[2], label=\u00221st Quartile\u0022))\n  labels \u003c-rbind(labels,data.frame(value=meta$stats[4], label=\u00223rd Quartile\u0022))\n  if(length(meta$out) \u003e 0) labels \u003c-rbind(labels,data.frame(value=round(median(meta$out), 4), label=\u0022Outliers Median\u0022))\n  if(length(meta$out) \u003e 0) labels \u003c-rbind(labels,data.frame(value=round(mean(meta$out), 4), label=\u0022Outliers Mean\u0022))\n  return(labels)\n}\n\ncustomBoxPlot \u003c- function(data, column, title) {\n  labels \u003c- createBoxPlotLabels(data, column)\n  ggplot(data, aes_string(x=\u0022factor(0)\u0022, y=column)) +\n  geom_boxplot(fill = \u0022blue\u0022, alpha=0.2) +\n  geom_point(position = position_jitter(width = 0.2), color = \u0022darkblue\u0022) +\n  geom_label_repel(data=labels,\n                   aes(x=factor(0), y=value, label=paste0(label, \u0022: \u0022, value)),\n                   colour=\u0022red\u0022, angle=0, size=3,\n                   point.padding = unit(1.0, \u0022lines\u0022), box.padding = unit(0.5, \u0022lines\u0022)) +\n  xlab(title)\n}\n\ncustomBoxPlot(all, \u0022Age\u0022, \u0022Overall\u0022)\n```\n\nI\u0027m going to remove the outliers by replacing them with the median:\n\n```{r}\nquarter1Indexes \u003c- function(data, column) {\n  meta \u003c- boxplot.stats(data[, column])\n  q1 \u003c- meta$stats[2]\n  return(which(data[, column] \u003c q1))\n}\n\nquarter3Indexes \u003c- function(data, column) {\n  meta \u003c- boxplot.stats(data[, column])\n  q3 \u003c- meta$stats[4]\n  return(which( data[, column] \u003e q3))\n}\n\noutliersMedian \u003c- function(data, column) {\n  meta \u003c- boxplot.stats(data[, column])\n  return(median(meta$out))\n}\n\naddAgeWO \u003c- function(data) {\n  data$AgeWO \u003c- data$Age\n  q1Median \u003c- median(data$Age[quarter1Indexes(data, \u0022Age\u0022)])\n  q3Median \u003c- median(data$Age[quarter3Indexes(data, \u0022Age\u0022)])\n  data$AgeWO[quarter1Indexes(data, \u0022Age\u0022)] \u003c- q1Median\n  data$AgeWO[quarter3Indexes(data, \u0022Age\u0022)] \u003c- q3Median\n  return(data)\n}\n\nall \u003c- addAgeWO(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nLet\u0027s see how it looks like without the outliers:\n\n```{r, fig.width = 12, fig.height = 12}\nageHistogram \u003c- customHistogram(all, \u0022Age\u0022, \u0022Overall\u0022)\nageWOHistogram \u003c- customHistogram(all, \u0022AgeWO\u0022, \u0022Overall\u0022)\n\ngrid.arrange(ageHistogram, ageWOHistogram, ncol = 2)\n```\n\nLet\u0027s look at the survivorship again after removing the outliers:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(train, \u0022AgeWO\u0022, \u0022Survived\u0022, 10)\n```\n\nIt didn\u0027t work so well, so let\u0027s try to define the outliers manually based on the trends we have seen in the histogram:\n\n```{r}\naddAgeWO \u003c- function(data) {\n  data$AgeWO \u003c- data$Age\n  data$AgeWO[data$Age \u003c13] \u003c- 12\n  q3Median \u003c- median(data$Age[quarter3Indexes(data, \u0022Age\u0022)])\n  data$AgeWO[quarter3Indexes(data, \u0022Age\u0022)] \u003c- q3Median\n  return(data)\n}\n\nall \u003c- addAgeWO(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nLet\u0027s see how it looks like:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(train, \u0022AgeWO\u0022, \u0022Survived\u0022, 10)\n```\n\nLooks better, we have preserved the trend we have seen for young people.\n\n#### Checking for Pubes\n\n![[\u0022Are you kidding me? That\u0027s not a kid! That\u0027s a midget! I can tell!\u0022\u0022]((https://www.youtube.com/watch?v=yL2dGTDQXVo))](https://s5.postimg.org/yw8my032f/larry_thats_a_midiget.png)\n\n\u003cbr/\u003e\nLet\u0027s try to go all the way up to eleven and break `Age` into two categories: `IsChild`equals TRUE and `IsChild` equals FALSE:\n\n```{r}\naddIsChild \u003c- function(data) {\n  data$IsChild \u003c- data$Age \u003c 12\n  data[, \u0022IsChild\u0022] \u003c- as.factor(data[, \u0022IsChild\u0022])\n  return(data)\n}\n\nall \u003c- addIsChild(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n\ncategoricalResultCountBarchart(train, \u0022IsChild\u0022, \u0022Survived\u0022)\n```\n\n### Conclusion\n\nChildren do seem to have a greater chance of surviving (as did women).\n\n## Survival of the Richest\n\n### `Fare` Analysis \u003ca name=\u0022fareanalysis\u0022\u003e\u003c/a\u003e\n\nLet\u0027s start with `Fare` as a measure of wealth. Once again I have created a custom plot, this time a density plot:\n\n```{r}\nverticalLine \u003c- function(value, name, color) {\n  label \u003c- paste(\u0022paste(\u0022, shQuote(name), \u0022, \u0022, shQuote(\u0022\\\\n\u0022), \u0022, \u0022, value, \u0022)\u0022)\n  geomObj \u003c- list(geom_vline(aes_string(xintercept=value), colour=color, linetype=\u0027dashed\u0027),\n                  geom_text(aes_string(x=value, y = 0, label=label)))\n  return(geomObj)\n}\n\ncustomDensityPlot \u003c- function(data, xColumn, title) {\n  minXColumn \u003c- paste(\u0022min(\u0022, xColumn, \u0022, na.rm = TRUE)\u0022)\n  medianXColumn \u003c- paste(\u0022median(\u0022, xColumn, \u0022, na.rm = TRUE)\u0022)\n  maxXColumn \u003c- paste(\u0022max(\u0022, xColumn, \u0022, na.rm = TRUE)\u0022)\n  \n  ggplot(data, aes_string(x = xColumn)) + \n  geom_density(na.rm = TRUE, fill = \u0022blue\u0022, alpha=0.2) +\n  xlab(paste(xColumn, \u0022(\u0022, title, \u0022)\u0022)) +\n\n  verticalLine(minXColumn,  \u0022min\u0022, \u0022blue\u0022) +\n  verticalLine(medianXColumn, \u0022median\u0022, \u0022red\u0022) +\n  verticalLine(maxXColumn, \u0022max\u0022, \u0022blue\u0022)\n}\n```\n\n`Fare` depends on `Pclass` (passenger\u0027s class) and `Embarked` (location where the passenger embarked), but let\u0027s start with the overall `Fare`:\n\n```{r, fig.width = 12, fig.height = 12}\ncustomDensityPlot(all, \u0022Fare\u0022, \u0022Overall\u0022)\n```\n\nBreaking the data into all possible combinations of`Embarked` and `Pclass` might be more insightful:\n\n```{r}\ncData \u003c- all[all$Embarked == \u0022C\u0022, ]\nc1Data \u003c- cData[cData$Pclass == 1, ]\nc2Data \u003c- cData[cData$Pclass == 2, ]\nc3Data \u003c- cData[cData$Pclass == 3, ]\n\nsData \u003c- all[all$Embarked == \u0022S\u0022, ]\ns1Data \u003c- sData[sData$Pclass == 1, ]\ns2Data \u003c- sData[sData$Pclass == 2, ]\ns3Data \u003c- sData[sData$Pclass == 3, ]\n\nqData \u003c- all[all$Embarked == \u0022Q\u0022, ]\nq1Data \u003c- qData[qData$Pclass == 1, ]\nq2Data \u003c- qData[qData$Pclass == 2, ]\nq3Data \u003c- qData[qData$Pclass == 3, ]\n```\n\n```{r}\nc1Density \u003c- customDensityPlot(c1Data, \u0022Fare\u0022, \u00221st-class, C\u0022)\nc2Density \u003c- customDensityPlot(c2Data, \u0022Fare\u0022, \u00222nd-class, C\u0022)\nc3Density \u003c- customDensityPlot(c3Data, \u0022Fare\u0022, \u00223rd-class, C\u0022)\n\ns1Density \u003c- customDensityPlot(s1Data, \u0022Fare\u0022, \u00221st-class, S\u0022)\ns2Density \u003c- customDensityPlot(s2Data, \u0022Fare\u0022, \u00222nd-class, S\u0022)\ns3Density \u003c- customDensityPlot(s3Data, \u0022Fare\u0022, \u00223rd-class, S\u0022)\n\nq1Density \u003c- customDensityPlot(q1Data, \u0022Fare\u0022, \u00221st-class, Q\u0022)\nq2Density \u003c- customDensityPlot(q2Data, \u0022Fare\u0022, \u00222nd-class, Q\u0022)\nq3Density \u003c- customDensityPlot(q3Data, \u0022Fare\u0022, \u00223rd-class, Q\u0022)\n```\n\n```{r, fig.width = 12, fig.height = 12}\ngrid.arrange(c1Density, s1Density, q1Density, \n             c2Density, s2Density, q2Density, \n             c3Density, s3Density, q3Density, \n             ncol=3, nrow=3)\n```\n\nI would say that we could use`Fare` and `Pclass` to deduce `Embarked`. These are the records missing `Embarked` in the training data-set:\n\n```{r embarkedAnalysis, results=\u0027asis\u0027}\nrenderTable(train[missingEmbarkedIndex, ])\n```\n\n\u003cbr/\u003e\nThe passengers missing `Embarked` are the ones with `PassengerId` equals to 62 and 830. Note that these records are from 1st-class and their `Fare` are both equal to 80.\nThe density plot for \u0022C\u0022 and 1st-class has its peak around a median of 78.667, thus \u0022C\u0022 for the records missing `Embarked` as estimated previously using a decision tree seems reasonable.\n\nFinally let\u0027s analyse survivorship:\n\nSadly, it seems like wealth increases ones chances of surviving:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(train, \u0022Fare\u0022, \u0022Survived\u0022, 6)\n```\n\n#### Outliers\n\nOnce again we can use the tools we developed for checking outliers when analyzing `Age`:\n\n```{r, fig.width = 6, fig.height = 12}\ncustomBoxPlot(all, \u0022Fare\u0022, \u0022Overall\u0022)\n```\n\nLet\u0027s again remove the outliers by replacing them with the median as we did for `Age`:\n\n```{r}\naddFareWO \u003c- function(data) {\n  data$FareWO \u003c- data$Fare\n  q1Median \u003c- median(data$Age[quarter1Indexes(data, \u0022Fare\u0022)])\n  q3Median \u003c- median(data$Age[quarter3Indexes(data, \u0022Fare\u0022)])\n  data$FareWO[quarter1Indexes(data, \u0022Fare\u0022)] \u003c- q1Median\n  data$FareWO[quarter3Indexes(data, \u0022Fare\u0022)] \u003c- q3Median\n  return(data)\n}\n\nall \u003c- addFareWO(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\n\n```{r, fig.width = 12, fig.height = 12}\nfareHistogram \u003c- customHistogram(all, \u0022Fare\u0022, \u0022Overall\u0022)\nfareWOHistogram \u003c- customHistogram(all, \u0022FareWO\u0022, \u0022Overall\u0022)\n\ngrid.arrange(fareHistogram, fareWOHistogram, ncol = 2)\n```\n\nLet\u0027s analyse survivorship after removing the outliers:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(train, \u0022FareWO\u0022, \u0022Survived\u0022, 6)\n```\n\n\u003cbr/\u003e\nWe can see that the trends we have observed before are move evident now.\n\n### `Pclass` (Passenger\u0027s Class) Analysis\n\nHow about `Pclass` (passenger\u0027s class) as another indicator of wealth?\n\n```{r}\ncategoricalResultCountBarchart(train, \u0022Pclass\u0022, \u0022Survived\u0022)\n```\n\nPassenger class also seem to support that wealth increases one\u0027s chance of surviving...\n\n### Conclusion\n\nWealth seems to increase survivorship for both available indicators (`Fare` and `Pclass`).\n\n![[\u0022I\u0027m so sick of the 1% getting this preferential treatment! Enough is enough!\u0022](https://www.youtube.com/watch?v=yL2dGTDQXVo)](https://s5.postimg.org/ie5iph9c7/bernie_and_larry.png)\n\n## Family Ties\n\nThe next attributes are `SibSp` (passenger\u0027s siblings/spouse count) and `Parch` (passenger\u0027s parents/children count). We might be able to use these to analyse if families stick together in a disaster.\n\n![Actual Picture of Donald Trump\u0027s Grandfather](https://s5.postimg.org/m98ws1shz/drumpf.png)\n\nNo, this gentleman isn\u0027t Trump\u0027s Grandfather. Better to be clear: Silly might [sue me](https://www.youtube.com/watch?v=WB4sGX0R5ak)!\n\n### `SibSp` (Passenger\u0027s Siblings/Spouse count) Analysis\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultCountBarchart(train, \u0022SibSp\u0022, \u0022Survived\u0022)\n```\n\nThere seems to exist a sweet spot around one siblings/spouse (couples? relatives?), but it\u0027s not that clear from the plot that made a big difference.\n\n### `Parch` (Passenger\u0027s Parents/Children) Analysis\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultCountBarchart(train, \u0022Parch\u0022, \u0022Survived\u0022)\n```\n\nThere also seems to be a sweet spot around one parents/children, but it\u0027s also not that clear from the plot that it makes a huge difference.\n\n### Motherhood\n\nOne last think that comes to mind is motherhood. Would a mother with her child have better chances of surviving (a bit of a symbiotic relationship, Who would separate a mother from her child? Ok, Donald Trump would).\n\n[This source](http://www.infoplease.com/ipa/A0005061.html) claims that women got married, in average, at an age of 21.6 years old in the 1900\u0027s. So, I\u0027m going to consider a person over 21 years old, female and with `Parch` greater than zero a mother:\n\n```{r}\naddIsMother \u003c- function(data) {\n  data$IsMother \u003c- data$Age \u003e 21 \u0026 data$Sex == \u0022female\u0022 \u0026 data$Parch \u003e 0\n  data[, \u0022IsMother\u0022] \u003c- as.factor(data[, \u0022IsMother\u0022])\n  return(data)\n}\n\nall \u003c- addIsMother(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n\ncategoricalResultCountBarchart(train, \u0022IsMother\u0022, \u0022Survived\u0022)\n```\n\n## Location, Location, Location\n\n### `Embarked` Analysis\n\n```{r}\ncategoricalResultCountBarchart(train, \u0022Embarked\u0022, \u0022Survived\u0022)\n```\n\n### Conclusion\n\nFor some reason \u0022C\u0022 (Cherbourg) seems to have higher survivorship. Let\u0027s take a look at the data:\n\n```{r}\ncData \u003c- train[train$Embarked == \u0022C\u0022, ]\nqData \u003c- train[train$Embarked == \u0022Q\u0022, ]\nsData \u003c- train[train$Embarked == \u0022S\u0022, ]\n```\n\n```{r}\ncAge \u003c- customHistogram(cData, \u0022Age\u0022, \u0022Embarked = C\u0022)\nqAge \u003c- customHistogram(qData, \u0022Age\u0022, \u0022Embarked = Q\u0022)\nsAge \u003c- customHistogram(sData, \u0022Age\u0022, \u0022Embarked = S\u0022)\n\ncFare \u003c- customHistogram(cData, \u0022Fare\u0022, \u0022Embarked = C\u0022)\nqFare \u003c- customHistogram(qData, \u0022Fare\u0022, \u0022Embarked = Q\u0022)\nsFare \u003c- customHistogram(sData, \u0022Fare\u0022, \u0022Embarked = S\u0022)\n\ncSex \u003c- countBarchart(cData, \u0022Sex\u0022, \u0022Embarked = C\u0022)\nqSex \u003c- countBarchart(qData, \u0022Sex\u0022, \u0022Embarked = Q\u0022)\nsSex \u003c- countBarchart(sData, \u0022Sex\u0022, \u0022Embarked = S\u0022)\n```\n\n```{r, fig.width = 12, fig.height = 12}\ngrid.arrange(cAge, qAge, sAge, \n             cFare, qFare, sFare, \n             cSex, qSex, sSex, \n             ncol=3, nrow=3)\n```\n\nFrom the plots, it seems like the population from \u0022C\u0022 does better than the others in terms of wealth (better than \u0022Q\u0022 and \u0022S\u0022), age (better than \u0022Q\u0022 and comparable to \u0022S\u0022) and gender (comparable to \u0022Q\u0022 and better than \u0022S\u0022).\n\n## Family Ties II: Alex Keaton Travels Back in Time and kills Donald Trump\n\nJust kidding, but wouldn\u0027t you watch this movie?\n\n![\u0022I\u0027m going to build a great iceberg and keep those pesky Italians from reaching New York. Some bad uomini over there.\u0022](https://s5.postimg.org/iod18tnyf/family_ties_ii.png)\n\n### Combining `SibSp` and `Parch` into `FamilySize`\n\nGiven that `FamilySize = SibSp + Parch + 1`, could we combine two variables into one without effect?\n\n```{r}\naddFamilySize \u003c- function(data) {\n  data$FamilySize \u003c- data$SibSp + data$Parch + 1\n  return(data)\n}\n\nall \u003c- addFamilySize(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\n### Using `Surname` to Compute Family Survival Rate\n\nCould we somehow use `Surname`? A question we brought up earlier is: do families stick together? That is, is surviving correlated to the number of people in your family that survived?\n\n```{r}\ncomputeSurvivalRatePerColumn \u003c- function(data, column) {\n  rates \u003c- plyr::count(data, vars=c(column, \u0022Survived\u0022))\n  rates \u003c- group_by_(rates, column) %\u003e% dplyr::mutate(SurvivalRate = round(freq * 100 / sum(freq)))\n  rates \u003c- rates[rates$Survived == 1, ]\n  rates \u003c- rates[, which(names(rates) %in% c(column, \u0022SurvivalRate\u0022))]\n  names(rates)[names(rates) == \u0022SurvivalRate\u0022] \u003c- paste0(\u0022SurvivalRateBy\u0022, column)\n  return(rates)\n}\n\naddSurvivalRate \u003c- function(column, data, rateData) {\n  rates \u003c- computeSurvivalRatePerColumn(rateData, column)\n  rateColumn \u003c- paste0(\u0022SurvivalRateBy\u0022, column)\n  \n  if(rateColumn %in% names(data)) {\n    data \u003c- data[ , -which(names(data) %in% c(rateColumn))]\n  }\n  data \u003c- left_join(data, rates,by=column)\n  data[is.na(data[, rateColumn]), rateColumn] \u003c- 0\n  return(data)\n}\n\nall \u003c- addSurvivalRate(\u0022Surname\u0022, all, train)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nThe following distribution for `FamilySurvivalRate` seems to support that families stick together:\n\n```{r, fig.width = 12, fig.height = 12}\ncountBarchart(train, \u0022SurvivalRateBySurname\u0022, \u0022Overall\u0022)\n```\n\n### Identifying Families\n\nIf you go to the [model evaluation results section](#aftermath2) ahead, you will find that we get a huge reduction in accuracy if we use any of the survival rates. These rates were great to visualize patterns in the data (families stick together), but not as good as predictors. Remember that these rates are merely estimates (we don\u0027t have the whole list of survivors) and therefore the estimates will be way off for families that have a small number of members. Let\u0027s try a different approach. The idea is linking people from the same family together:\n\n```{r}\naddFamilyID \u003c- function(data) {\n  data$FamilyID \u003c- paste0(data$Surname, as.character(data$FamilySize))\n  data[, \u0022FamilyID\u0022] \u003c- as.factor(data[, \u0022FamilyID\u0022])\n  return(data)\n}\n\nall \u003c- addFamilyID(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nNote that we used `Surname` and `FamilySize`. It\u0027s reasonable to assume that if people share the same `Surname` and `FamilySize` they belong together in the same family. People with equal `Surname` not necessarily are related, but using `FamilySize` reduces the chance that we are making this mistake.\n\n#### Outliers\n\nI\u0027ll consider a family any group of people sharing the same `Surname` with at least three people:\n\n```{r}\nMIN_FAMILY_SIZE \u003c- 3\n\ntooSmallFamiliesIndexes \u003c- function(data) {\n  return(which(data$FamilySize \u003c MIN_FAMILY_SIZE))\n}\n\naddFamilyIDWO \u003c- function(data) {\n  data$FamilyIDWO \u003c- paste0(data$Surname, as.character(data$FamilySize))\n  data$FamilyIDWO[tooSmallFamiliesIndexes(data)] \u003c- paste0(\u0022FamilySize\u003c\u0022, toString(MIN_FAMILY_SIZE))\n  data[, \u0022FamilyIDWO\u0022] \u003c- as.factor(data[, \u0022FamilyIDWO\u0022])\n  return(data)\n}\n\nall \u003c- addFamilyIDWO(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n\nall \u003c- addSurvivalRate(\u0022FamilyIDWO\u0022, all, train)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\n### Conclusion\n\nThe majority of people seem to stick together, for the best or for the worst...\n\n![\u0022 Where do you think you\u0027re going? Nobody\u0027s leaving. Nobody\u0027s walking out on this fun, old-fashioned family Christmas. No, no. We\u0027re all in this together.\u0022](https://s5.postimg.org/9s294vxc7/griswold_family.png)\n\n## `Cabin` Analysis\n\nLet\u0027s take a look at a sample from `Cabin` (keeping in mind that is sparse):\n\n```{r}\ncabins \u003c- train[!is.na(train$Cabin), ]$Cabin\nhead(cabins, 12)\n```\n\nI have found the following information [here](http://www.dummies.com/education/history/titanic-facts-the-layout-of-the-ship/):\n\n\u003cbr/\u003e\n\n  -----------------------------------------------------------------------------------------------------------\n  Deck            Fore                             Amidships                   Aft\n  --------------- -------------------------------- --------------------------- ------------------------------\n  Boat            Officer’s bridge (crew)          Promenade (1st)\\            Promenade (2nd)\n                                                   Gymnasium (1st)             \n\n  Promenade (A)   Reading and Writing Room (1st)   Lounge (1st)                Smoking room (1st)\\\n                                                                               Verandah Café (1st)\\\n                                                                               Palm Courts (1st)\n\n  Bridge (B)      Forecastle deck (crew)           Suites, cabins (1st)        À la Carte Restaurant (1st)\\\n                                                                               Café Parisien (1st)\\\n                                                                               Smoking room (2nd)\\\n                                                                               Promenade (poop deck; 3rd)\n\n  Shelter (C)     Crew mess (crew)                 Cabins, staterooms (1st)\\   Library (2nd)\\\n                                                   Crew mess (crew)\\           Smoking room (3rd)\\\n                                                   Purser’s office (crew)      General room (3rd)\n\n  Saloon (D)      Open space (3rd)\\                Dining saloon (1st)\\        Dining saloon (2nd)\\\n                  Cabins (3rd)                     Reception room (1st)\\       Kitchen galleys (crew)\n                                                   Cabins (1st)                \n\n  Upper (E)       Cabins (3rd)                     Cabins (2nd)\\               Cabins (2nd)\\\n                                                   Cabins (crew)               Cabins (3rd)\n\n  Middle (F)      Cabins (3rd)                     Dining saloon (3rd)\\        Cabins (2nd)\\\n                                                   Swimming pool (1st)\\        Cabins (3rd)\n                                                   Turkish baths (1st)         \n\n  Lower (G)       Storage rooms (crew)\\            Boiler rooms (crew)         Squash court (1st)\\\n                  Engine rooms (crew)                                          Post office (crew)\n\n  Orlop           Cargo rooms (crew)\\              Boiler rooms (crew)         Engine rooms (crew)\\\n                  Baggage rooms (crew)\\                                        Cargo rooms (crew)\n                  Mail room (crew)                                             \n\n  Tank Top        Boiler rooms (crew)\\             Boiler rooms (crew)\\        Boiler rooms (crew)\\\n                  Engine rooms (crew)              Engine rooms (crew)         Engine rooms (crew)\n  -----------------------------------------------------------------------------------------------------------\n  \n\n\u003cbr/\u003e\nFrom this table we can tell that 1st-class cabins were located in decks \u0022C\u0022 and \u0022D\u0022, while 2nd-class and 3rd-class were located in decks \u0022E\u0022 and \u0022F\u0022. In the absence of `Pclass`, `Cabin` could be a good proxy if it wasn\u0027t so sparse.\n  \n[Here](https://www.encyclopedia-titanica.org/titanic-deckplans/) you will find blueprints from all decks in the ship. The numbers in `Cabin` don\u0027t seem to have any correlation with survivorship, but I have found an interesting insight in [this BBC article](http://www.bbc.com/news/magazine-17515305):\n\n\u003cbr/\u003e  \n  \n\u003e Each class of passengers had access to their own decks and allocated lifeboats - although crucially no lifeboats were stored in the third class sections of the ship.\nThird class passengers had to find their way through a maze of corridors and staircases to reach the boat deck. First and second class passengers were most likely to reach the lifeboats as the boat deck was a first and second class promenade.\n\nWhich basically says that 3rd-class had some huge disadvantage regarding to reaching the boat deck. The 99% gets it once again...\n\n```{r}\nallPassengers \u003c- nrow(train)\nfirstClassPercent \u003c- round(nrow(train[train$Pclass == 1, ]) * 100 / allPassengers)\nsecondClassPercent \u003c- round(nrow(train[train$Pclass == 2, ]) * 100 / allPassengers)\nthirdClassPercent \u003c- round(nrow(train[train$Pclass == 3, ]) * 100 / allPassengers)\n```\n\nNot really 99%, but `r thirdClassPercent`% though. It seems like there wasn\u0027t such an inequality in terms of number of seats (or survivors) though:\n\n|Pclass|Percentage from Seats |\n|------|----------------------|\n|1st   |`r firstClassPercent` |\n|2st   |`r secondClassPercent`|\n|3st   |`r thirdClassPercent` |\n\nBut helps to clarify the much larger casualties for 3rd-class. The myth is that the wealthy would forcibly keep non-wealthy from reaching the life-boats, but it seems like the ship was engineered to give the 3rd-class an disadvantage in the first place, even if not purposelessly in case of a disaster:\n\n\u003e \u0022Gates did exist which barred the third class passengers from the other passengers. But this was not in anticipation of a shipwreck but in compliance with US immigration laws and the feared spread of infectious diseases.\nThird class passengers included Armenians, Chinese, Dutch, Italians, Russians, Scandinavians and Syrians as well as those from the British Isles - all in search of a new life in America.\n\u0022Under American immigration legislation, immigrants had to be kept separate so that before the Titanic docked in Manhattan, it first stopped at Ellis Island - where the immigrants were taken for health checks and immigration processing,\u0022 Howells says.\u0022\n\n(From [the same BBC article](http://www.bbc.com/news/magazine-17515305) mentioned earlier)\n\n```{r}\nsurvivors \u003c- nrow(train[train$Survived == 1, ])\nfirstClassSurvivorsPercent \u003c- round(nrow(train[train$Pclass == 1 \u0026 train$Survived == 1, ]) * 100 / survivors)\nsecondClassSurvivorsPercent \u003c- round(nrow(train[train$Pclass == 2 \u0026 train$Survived == 1, ]) * 100 / survivors)\nthirdClassSurvivorsPercent \u003c- round(nrow(train[train$Pclass == 3 \u0026 train$Survived == 1, ]) * 100 / survivors)\n```\n\n|Pclass|Percentage from Survivors      |\n|------|-------------------------------|\n|1st   |`r firstClassSurvivorsPercent` |\n|2st   |`r secondClassSurvivorsPercent`|\n|3st   |`r thirdClassSurvivorsPercent` |\n\nStill, more people from 1st-class survived than any other class. Let\u0027s now add `Deck` to the records:\n\n```{r}\nextractDeck \u003c- function(cabin) {\n  return(toString(unique(strsplit(cabin, \u0022[^A-Z]+\u0022)[[1]])))\n}\n\naddDeck \u003c- function(data) {\n  data$Deck \u003c- sapply(data$Cabin, extractDeck)\n  data[, \u0022Deck\u0022] \u003c- as.factor(data[, \u0022Deck\u0022])\n  return(data)\n}\n\nall \u003c- addDeck(all)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nHere\u0027s the count distribution per `Deck`:\n\n\n```{r, fig.width = 12, fig.height = 12}\ncountBarchart(train, \u0022Deck\u0022, \u0022Overall\u0022)\n```\n\nI think that the data is too sparse to give us any insight, but here follows the survivorship for `Deck`:\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultCountBarchart(train, \u0022Deck\u0022, \u0022Survived\u0022)\n```\n\nDoesn\u0027t quite support the claims in the article, but I believe that this is due to the sparsity of the data.\n\nI\u0027m going to try to fix this issue by using `Ticket` (people traveling together have the same ticket code). It\u0027s reasonable to assume that people traveling together might share cabins.\nMaybe only one passenger from a sharing `Ticket` gets `Cabin`? Let\u0027s check:\n\n```{r}\nnormalizeList \u003c- function(elems) {\n  elems \u003c- unique(elems)\n  elems \u003c- elems[!is.na(elems)]\n  s \u003c- paste(elems, collapse = \u0022 \u0022)\n  if(str_length(trimws(s)) == 0) {\n    s \u003c- NA\n  }\n  return(s)\n}\n\ncabins \u003c- all[with(all, order(Ticket)), which(names(all) %in% c(\u0022Ticket\u0022, \u0022Cabin\u0022))]\ncabins \u003c- cabins %\u003e%\n  group_by(Ticket) %\u003e%\n  summarise(Cabin = list(Cabin))\ncabins$Cabin \u003c- sapply(cabins$Cabin, normalizeList)\n\nticketsMissngCabinRows \u003c- nrow(cabins[is.na(cabins$Cabin), ])\n```\n\nThere are `r ticketsMissngCabinRows` missing `Cabin`, so it seems like that\u0027s not the case... `Cabin` seems just too sparse to use...\n\n## `Ticket` Analysis\n\nFrom fiddling around with data, I found out that people that embarked together share the same ticket code. I have grouped the data by `Ticket` and concatenated `Name`, `Surname`, `Title` and `Sex`. I\u0027ve filtered the columns that seemed relevant and aggregated them by `Ticket`:\n\n```{r}\naggregateFunction \u003c- function(s) {\n  return(paste(s, collapse = \u0022 ~ \u0022))\n}\n\ntickets \u003c- train[with(train, order(Ticket)), which(names(train) %in% c(\u0022Ticket\u0022, \u0022Name\u0022, \u0022Surname\u0022, \u0022Title\u0022, \u0022Sex\u0022))]\ntickets \u003c- tickets %\u003e%\n  group_by(Ticket) %\u003e%\n  summarise(Names = aggregateFunction(Name), \n            Surnames = aggregateFunction(Surname), \n            Titles = aggregateFunction(Title), \n            Genders = aggregateFunction(Sex),\n            People = n())\ntickets \u003c- tickets[tickets$People \u003e 1, ]\n```\n\nI have also filtered out people traveling alone, as I\u0027m interested in groups traveling together:\n\n```{r, results=\u0022asis\u0022}\nrenderTable(tickets)\n```\n\n\u003cbr/\u003e\nIf you go through this table, you\u0027ll find whole families under the same `Ticket`. I guess that we could use `Ticket` to establish family connections among passengers, but `Surname` seems more reliable to me.\n\n## Travel Buddies Ties\n\n### Using `Ticket` to Compute Travel Buddies Survival Rate\n\nFrom the previous section, we\u0027ve found out that `Ticket` can be used to connect people traveling together. The question is, do \u0022travel buddies\u0022 stick together? (in a similar way as families did?)\n\n```{r}\nall \u003c- addSurvivalRate(\u0022Ticket\u0022, all, train)\ntrain \u003c- all[all$PassengerId %in% train$PassengerId, ]\ntest \u003c- all[all$PassengerId %in% test$PassengerId, ]\n```\n\nHere\u0027s the distribution for `SurvivalRateByTicket`:\n\n```{r, fig.width = 12, fig.height = 12}\ncountBarchart(train, \u0022SurvivalRateByTicket\u0022, \u0022Overall\u0022)\n```\n\nIt seems like buddies do stick together, just like families. Of course most people traveling together are related, so `Ticket` could  probably be used as a proxy for `Surname\u0027.\n\n### Conclusion\n\n\u003cbr/\u003e\nA significant fraction of travel buddies seem to survive or die together for the available data.\n\n![Love you, man! Love you too, bud!](https://s5.postimg.org/ozi8p8p6v/i_love_you_man.png)\n\n# Classifier\n\n## Tunning the Classifier\n\nLet\u0027s try some cross validation to find the best parameters for our random forest classifier. The parameters that can be tuned in a random forest classifier are the following:\n\n|Parameter|Description                                                      |Comment                                                             |\n|---------|-----------------------------------------------------------------|--------------------------------------------------------------------|\n|ntree    |Number of trees.                                                 |Should be big enough to avoid over fitting (default is 500).         |\n|mtry     |Number of variables randomly sampled as candidates at each split.|We are going to use cross validation to determine it (default is 5).|\n\nBe warned that cross validation might take a few minutes to finish.\n\n### Random Search Cross Validation\n\nThe following code does a random grid search:\n\n```{r}\nrandomForestRandomCrossValidation \u003c- function(fml, data, metric, radius, repeats) {\n  set.seed(345)\n  control \u003c- trainControl(method=\u0022repeatedcv\u0022, number=10, repeats=repeats, search=\u0022random\u0022)\n  \n  rfCV \u003c- train(fml, data=data, method=\u0022rf\u0022, metric=metric, tuneLength=radius, trControl=control, importance = TRUE)\n  return(rfCV)\n}\n\nfml \u003c-Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch + FamilySize\nplot(randomForestRandomCrossValidation(fml, train, \u0022Accuracy\u0022, 10, 1))\n```\n\nBe warned that this takes a while to complete (gets slower as the number of features and levels per factor increases):\n\n```{r}\nfml \u003c-Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch + FamilySize + Embarked + TitleWO + FamilyIDWO\n#plot(randomForestRandomCrossValidation(fml, train, \u0022Accuracy\u0022, 10, 3))\n```\n\n![Kaggle times out after 20 minutes, so commenting out this and posting the output as an image.](https://s5.postimg.org/mdwmv5vgn/random_forest_cv_plot.png)\n\nAnother alternative to find the optimal mtry is`tuneRF()` from randomForest, which uses [OOBError](https://en.wikipedia.org/wiki/Out-of-bag_error) but unfortunately cannot handle factors with more than 53 levels, so we can\u0027t include `FamilyID`, `FamilyIDWO`, `Surname` or `Ticket`:\n\n```{r}\nmtryTunning \u003c- function(data) {\n  set.seed(345)\n  suppressMessages(mtry \u003c- tuneRF(data[, names(data) %in% attr(terms(fml), \u0022term.labels\u0022)],\n                                  data[, names(data) %in% c(\u0022Survived\u0022)],\n                                  stepFactor=3.0,\n                                  improve=1e-8,\n                                  ntree=500,\n                                  trace=FALSE))\n  return(mtry)\n}\n\nfml \u003c-Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch + FamilySize + Embarked + TitleWO\nprint(mtryTunning(train))\n```\n\n## Creating Models\n\nFrom the cross validation we now know that the optimal value for mtry is 1. The next step is creating the classifier and evaluating them.\n\nBeing a coder, I always try to write decoupled code that can be re-used. R doesn\u0027t quite support [OOP](https://en.wikipedia.org/wiki/Object-oriented_programming), but you at least can come close in terms of emulating encapsulation. Given that functions are objects and you can define objects (including functions) inside objects, I have defined a class of objects named `Builder()`. They all share the same interface (functions `mode()`, `predictions()` and `probabilities()`). I did this so I would not have to duplicate much code. I created a function named `evaluatedModels()`, which provided a list of builders and formulas, can evaluate all of them (because the builders all obey the same contract):\n\n```{r}\nRandomForestBuilder \u003c- function() {\n  mtry = 1\n  \n  name = paste(\u0022Random Forest (randomForest) mtry:\u0022, mtry)\n  \n  model = function(fml, data) {\n    set.seed(345)\n    numVars \u003c- length(attr(terms(fml), \u0022term.labels\u0022))\n    maxMtry \u003c- floor(sqrt(numVars))\n    \n    if (mtry \u003e maxMtry) {\n      return(randomForest(formula(fml), data = data))\n    }\n    return(randomForest(formula(fml), data = data, mtry = mtry))\n  }\n  \n  predictions = function(model, data) {\n    return(stats::predict(model, newdata = data, type = \u0022class\u0022))\n  }\n  \n  probabilities = function(model, data) {\n    result \u003c- predict(model, newdata=data, type=\u0022prob\u0022)\n    return(result[, 2])\n  }\n  \n  return(list(name=name, model=model, predictions=predictions, probabilities=probabilities))\n}\n\nRandomForestRandomCVBuilder \u003c- function() {\n  name = \u0022Random Forest with Random Search Cross Validation (rpart)\u0022\n  \n  model = function(fml, data) {\n    set.seed(345)\n    return(randomForestRandomCrossValidation(fml, data, \u0022Accuracy\u0022, radius=10, repeats=3))\n  }\n  \n  predictions = function(model, data) {\n    return(stats::predict(model, newdata = data, type = \u0022raw\u0022))\n  }\n  \n  probabilities = function(model, data) {\n    result \u003c- predict(model, newdata=data, type=\u0022prob\u0022)\n    return(result[, 2])\n  }\n  \n  return(list(name=name, model=model, predictions=predictions, probabilities=probabilities))\n}\n\nDecisionTreeBuilder \u003c- function() {\n  name = \u0022Decision Tree (rpart)\u0022\n  \n  model = function(fml, data) {\n    set.seed(345)\n    return(rpart(fml, data = data, method=\u0022class\u0022))\n  }\n  \n  predictions = function(model, data) {\n    return(stats::predict(model, newdata = data, type = \u0022class\u0022))\n  }\n  \n  probabilities = function(model, data) {\n    result \u003c- predict(model, newdata=data, type=\u0022prob\u0022)\n    return(result[, 2])\n  }\n  \n  return(list(name=name, model=model, predictions=predictions, probabilities=probabilities))\n}\n\nConditionalInferenceBuilder \u003c- function() {\n  mtry = 3\n  \n  name = paste(\u0022Conditional Inference Forest (party) mtry: \u0022, mtry)\n  \n  model = function(fml, data) {\n    set.seed(345)\n    \n    numVars \u003c- length(attr(terms(fml), \u0022term.labels\u0022))\n    maxMtry \u003c- floor(sqrt(numVars))\n    \n    if (mtry \u003e maxMtry) {\n      return(cforest(fml, data = data, controls=cforest_unbiased()))\n    }\n    return(cforest(fml, data = data, controls=cforest_unbiased(mtry = mtry)))\n  }\n  \n  predictions = function(model, data) {\n    return(stats::predict(model, newdata = data, type = \u0022response\u0022))\n  }\n  \n  probabilities = function(model, data) {\n    result \u003c- predict(model, newdata=data, type=\u0022prob\u0022)\n    result \u003c- lapply(result, `[`, 2)\n    return(result)\n  }\n  \n  return(list(name=name, model=model, predictions=predictions, probabilities=probabilities))\n}\n\nSVMBuilder \u003c- function(fml, data) {\n  name = \u0022SVM (e1071)\u0022\n  \n  model = function(fml, data) {\n    set.seed(345)\n    return(svm(formula(fml), data = data, probability=TRUE))\n  }\n  \n  predictions = function(model, data) {\n    return(stats::predict(model, newdata = data, type = \u0022class\u0022))\n  }\n  \n  probabilities = function(model, data) {\n    result \u003c- stats::predict(model, newdata = data, probability=TRUE)\n    return(attr(result, \u0022probabilities\u0022)[, 2])\n  }\n  \n  return(list(name=name, model=model, predictions=predictions, probabilities=probabilities))\n}\n```\n\nYou may plot the decision tree from `DecisionTreeBuilder` by using the \u0022rattle\u0022 package:\n\n```{r}\nbuilder \u003c- DecisionTreeBuilder()\nfml \u003c-Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch + FamilySize + Embarked + TitleWO + FamilyIDWO\nmodel \u003c- builder$model(fml, train)\nfancyRpartPlot(model)\n```\n\nYou can actually see what\u0027s going on in the classification. Neat, Huhn? Simpler models have this advantage. For more sophisticated models like random forests that would not be so straightforward (even though you could sample a tree from a random forest for instance).\n\n## Evaluating the Classifier\n\nKaggle doesn\u0027t provide labeled testing data, so I\u0027m going to break the training data-set into two data-sets (training and testing) for evaluation purposes.\n\nI have created functions for the purpose of evaluating performance for the models as well:\n\n```{r}\nfmeasure \u003c- function(confusion) {\n  p \u003c- confusion$byClass[\u0022Pos Pred Value\u0022]\n  r \u003c- confusion$byClass[\u0022Sensitivity\u0022]\n  f \u003c- 2 * ((p * r) / (p + r))\n  return(f)\n}\n\naccuracy \u003c- function(confusion) {\n  return(confusion$overall[\u0022Accuracy\u0022])\n}\n\ncreateFormulaName \u003c- function(fml) {\n  formulaName \u003c- paste(format(fml), collapse = \u0022\u0022)\n  formulaName \u003c- str_replace_all(formulaName, \u0022[\\\\s]\u0022, \u0022\u0022)\n  return(formulaName)\n}\n\nevaluateModel \u003c- function(fml, ModelBuilder, predictionColumn, trainData, testData) {\n  formula \u003c- createFormulaName(fml)\n  modelBuilder \u003c- ModelBuilder()\n  model \u003c- modelBuilder$model(fml, trainData)\n  predictions \u003c- modelBuilder$predictions(model, testData)\n  confusion \u003c- confusionMatrix(data = predictions, reference = testData$Survived)\n  evaluation \u003c- data.frame(model = modelBuilder$name, \n                           formula = formula,\n                           accuracy = accuracy(confusion), \n                           fmeasure = fmeasure(confusion), \n                           stringsAsFactors=FALSE)\n  return(evaluation)\n}\n\nevaluateModels \u003c- function(formulas, ModelBuilders, predictionColumn, data, testData = NULL) {\n  set.seed(3456)\n  if(is.null(testData)) {\n    trainIdx \u003c- createDataPartition(data$Survived, p = 0.6, list = FALSE, times = 1)\n    trainData \u003c- data[trainIdx,]\n    testData \u003c- data[-trainIdx,]\n  } else {\n    trainData \u003c- data\n  }\n  \n  evaluations \u003c- data.frame(model = character(), \n                            formula = character(), \n                            accuracy = numeric(0), \n                            fmeasure = numeric(0), \n                            stringsAsFactors=FALSE)\n\n  for (ModelBuilder in ModelBuilders) {\n    for (fml in formulas) {\n      evaluation \u003c- evaluateModel(fml, ModelBuilder, predictionColumn, trainData, testData)\n      evaluations \u003c- bind_rows(evaluations, evaluation)\n    }\n  }\n  renderTable(evaluations)\n}\n```\n\nNote that I\u0027m using [accuracy](https://en.wikipedia.org/wiki/Accuracy_and_precision) and [F-Measure](https://en.wikipedia.org/wiki/F1_score). I\u0027ve seen F-Measure being used more often in machine learning (both in courses and at work), but I often compute both (accuracy seems more intuitive and easier for business to understand).\n\nThe [confusion matrix](https://en.wikipedia.org/wiki/Confusion_matrix) returned by `caret::confusionMatrix()` has many different metrics, for which you can find more about [here](https://topepo.github.io/caret/measuring-performance.html). The metrics don\u0027t include a F-Measure though, so it needs to be computed from existent ones. For more information on the available metrics refer to [this](https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values) and [this](https://en.wikipedia.org/wiki/Precision_and_recall).\n\n### Evaluation Aftermath (Random Forest \u0026 SVM) \u003ca name=\u0022aftermath\u0022\u003e\u003c/a\u003e\n\nLet\u0027s create some models using random forest and different groups of features:\n\n```{r, results=\u0022asis\u0022}\ntrainIdx \u003c- createDataPartition(train$Survived, p = 0.6, list = FALSE, times = 1)\ntrainData \u003c- train[trainIdx,]\ntestData \u003c- train[-trainIdx,]\ntrainData \u003c- addSurvivalRate(\u0022Surname\u0022, trainData, trainData)\ntestData \u003c- addSurvivalRate(\u0022Surname\u0022, testData, trainData)\n\n\ntrainData \u003c- addSurvivalRate(\u0022Ticket\u0022, trainData, trainData)\ntestData \u003c- addSurvivalRate(\u0022Ticket\u0022, testData, trainData)\n\ntrainData \u003c- addSurvivalRate(\u0022FamilyID\u0022, trainData, trainData)\ntestData \u003c- addSurvivalRate(\u0022FamilyID\u0022, testData, trainData)\n\ntrainData \u003c- addSurvivalRate(\u0022FamilyIDWO\u0022, trainData, trainData)\ntestData \u003c- addSurvivalRate(\u0022FamilyIDWO\u0022, testData, trainData)\n\nformulas \u003c- c(Survived ~ Sex,\n              Survived ~ Sex + Age,\n              Survived ~ Sex + Age + Fare,\n              Survived ~ Sex + Age + Fare + Pclass,\n              Survived ~ Sex + Age + Fare + Pclass + SibSp,\n              Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked + Title,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + Fare + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO + IsChild,\n              Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO + IsChild + IsMother)\n\nmodels \u003c- c(RandomForestBuilder, SVMBuilder)\n\nevaluateModels(formulas, models, \u0022Survived\u0022, trainData, testData)\n```\n\nThe following models are a bit slower to generate the classifier (due to cross validation), so I\u0027m running them separately:\n\n```{r, results=\u0022asis\u0022}\nformulas \u003c- c(Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked + Title,\n              Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + Fare + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO)\n\nmodels \u003c- c(DecisionTreeBuilder, ConditionalInferenceBuilder, RandomForestRandomCVBuilder)\n\n#evaluateModels(formulas, models, \u0022Survived\u0022, trainData, testData)\n```\n\nKaggle times out after 20 minutes, so commenting out this and posting the output:\n\n\u003c!-- html table generated in R 3.3.2 by xtable 1.8-2 package --\u003e\n\u003c!-- Wed Jan 18 01:59:44 2017 --\u003e\n\u003ctable border=1\u003e\n\u003ctr\u003e \u003cth\u003e  \u003c/th\u003e \u003cth\u003e model \u003c/th\u003e \u003cth\u003e formula \u003c/th\u003e \u003cth\u003e accuracy \u003c/th\u003e \u003cth\u003e fmeasure \u003c/th\u003e  \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 1 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 2 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+Title \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 3 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 4 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 5 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+FareWO+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.82 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 6 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.81 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.86 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 7 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+Title \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 8 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 9 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.88 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 10 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+FareWO+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 11 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 12 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+Title \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.85 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.88 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 13 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.84 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.88 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 14 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+Fare+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.87 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 15 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+AgeWO+FareWO+Pclass+FamilySize+Embarked+TitleWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.84 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.88 \u003c/td\u003e \u003c/tr\u003e\n   \u003c/table\u003e\n\n\n\n\u003cbr/\u003e\nI\u0027m also only running them for the most promising models.\n\n\nAs a final touch, I\u0027m going to plot the [ROC](https://en.wikipedia.org/wiki/Receiver_operating_characteristic) curves.\n\n```{r, fig.width = 16, fig.height = 8}\ncreatePrediction \u003c- function(fml, ModelBuilder, testData) {\n  modelBuilder \u003c- ModelBuilder()\n  model \u003c- modelBuilder$model(fml, trainData)\n  probabilities \u003c- modelBuilder$probabilities(model, testData)\n  return(prediction(as.numeric(probabilities), testData$Survived))\n}\n\ncreatePerformance \u003c- function(prediction) {\n  return(performance(prediction, measure = \u0022tpr\u0022, x.measure = \u0022fpr\u0022))\n}\n\ncreateAuc \u003c- function(prediction) {\n  auc \u003c- performance(prediction, measure = \u0022auc\u0022)\n  return(auc@y.values[[1]])\n}\n\nbuildModelName \u003c- function(fml, ModelBuilder, auc) {\n  formulaName \u003c- createFormulaName(fml)\n  aucName \u003c- paste(\u0022(AUC: \u0022, auc, \u0022)\u0022)\n  modelBuilder \u003c- ModelBuilder()\n  name \u003c- paste0(modelBuilder$name, \u0022\\n\u0022, formulaName, \u0022\\n\u0022, aucName, \u0022\\n\u0022)\n  return(name)\n}\n\ncreateRocPlot \u003c- function(roc) {\n  return(list(geom_ribbon(data = roc, aes(x=FPR, fill = Model, ymin=0, ymax=TPR), alpha = 0.2),\n              geom_line(data = roc, aes(x=FPR, y=TPR, color = Model))))\n}\n\ngenerateAllROCs \u003c- function(formulas, ModelBuilders, trainData, testData) {\n  rocPlots \u003c- c()\n  for (ModelBuilder in ModelBuilders) {\n    for (fml in formulas) {\n      modelBuilder \u003c- ModelBuilder()\n      prediction \u003c- createPrediction(fml, ModelBuilder, testData)\n      performance \u003c- createPerformance(prediction)\n      auc \u003c- createAuc(prediction)\n      roc \u003c- data.frame(FPR=unlist(performance@x.values),\n                        TPR=unlist(performance@y.values),\n                        Model=rep(buildModelName(fml, ModelBuilder, auc), each=length(performance@x.values)))\n      rocPlots \u003c- c(rocPlots, createRocPlot(roc))\n    }\n  }\n  \n  roc \u003c- data.frame(FPR=c(0.0, 1.0),\n                    TPR=c(0.0, 1.0),\n                    Model=rep(\u0022Line of No-discrimination\\n\u0022, each=2))\n  rocPlots \u003c- c(rocPlots, createRocPlot(roc))\n  ggplot() + rocPlots + coord_fixed()\n}\n\nformulas \u003c- c(Survived ~ Sex + Age + Fare + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + Fare + Pclass + FamilySize + Embarked + TitleWO)\n\nmodels \u003c- c(RandomForestBuilder, SVMBuilder, DecisionTreeBuilder)\n\ngenerateAllROCs(formulas, models, trainData, testData)\n```\n\nThese two take a while to complete, so I\u0027m running them separatedly:\n\n```{r, fig.width = 16, fig.height = 8}\nmodels \u003c- c(ConditionalInferenceBuilder, RandomForestRandomCVBuilder)\n\n#generateAllROCs(formulas, models, trainData, testData)\n```\n\n![Kaggle times out after 20 minutes, so commenting out this and posting the output as an image.](https://s5.postimg.org/wt2t42snb/roc_plot1.png)\n\n### Evaluation Aftermath II: This Time is Personal (Decision Tree, Conditional Inference Forest \u0026 Cross Validation Random Forest) \u003ca name=\u0022aftermath2\u0022\u003e\u003c/a\u003e\n\nWe can\u0027t use `Surname` or `Ticket` with randomForest package (too many categories for `Surname`), so I\u0027m going to run them separately:\n\n\n```{r, results=\u0022asis\u0022}\nformulas \u003c- c(Survived ~ Sex + Age + Fare + Pclass + SibSp + Parch + FamilySize + Embarked + TitleWO + FamilyIDWO)\n\nmodels \u003c- c(SVMBuilder, DecisionTreeBuilder, ConditionalInferenceBuilder, RandomForestRandomCVBuilder)\n#evaluateModels(formulas, models, \u0022Survived\u0022, train)\n```\n\nKaggle times out after 20 minutes, so commenting out this and posting the output:\n\n\u003c!-- html table generated in R 3.3.2 by xtable 1.8-2 package --\u003e\n\u003c!-- Wed Jan 18 12:38:16 2017 --\u003e\n\u003ctable border=1\u003e\n\u003ctr\u003e \u003cth\u003e  \u003c/th\u003e \u003cth\u003e model \u003c/th\u003e \u003cth\u003e formula \u003c/th\u003e \u003cth\u003e accuracy \u003c/th\u003e \u003cth\u003e fmeasure \u003c/th\u003e  \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 1 \u003c/td\u003e \u003ctd\u003e SVM (e1071) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+SibSp+Parch+FamilySize+Embarked+TitleWO+FamilyIDWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.80 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.84 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 2 \u003c/td\u003e \u003ctd\u003e Decision Tree (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+SibSp+Parch+FamilySize+Embarked+TitleWO+FamilyIDWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.79 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 3 \u003c/td\u003e \u003ctd\u003e Conditional Inference Forest (party) mtry:  3 \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+SibSp+Parch+FamilySize+Embarked+TitleWO+FamilyIDWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.82 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.86 \u003c/td\u003e \u003c/tr\u003e\n  \u003ctr\u003e \u003ctd align=\u0022right\u0022\u003e 4 \u003c/td\u003e \u003ctd\u003e Random Forest with Random Search Cross Validation (rpart) \u003c/td\u003e \u003ctd\u003e Survived~Sex+Age+Fare+Pclass+SibSp+Parch+FamilySize+Embarked+TitleWO+FamilyIDWO \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.79 \u003c/td\u003e \u003ctd align=\u0022right\u0022\u003e 0.83 \u003c/td\u003e \u003c/tr\u003e\n   \u003c/table\u003e\n\n\u003cbr/\u003e\nHere are the correspondent ROC curves:\n\n```{r, fig.width = 16, fig.height = 8}\nmodels \u003c- c(DecisionTreeBuilder, ConditionalInferenceBuilder, RandomForestRandomCVBuilder)\n\n#generateAllROCs(formulas, models, trainData, testData)\n```\n\n![Kaggle times out after 20 minutes, so commenting out this and posting the output as an image.](https://s5.postimg.org/upsdwesuf/roc_plot2.png)\n\n# Feature Importance\n\nI believe we\u0027ve exhausted all features we could extract, so we can now build a final model and evaluate their variables\u0027 importance:\n\n```{r, fig.width = 12, fig.height = 6}\ncustomtImpPlot \u003c- function(model, title) {\n  if(!is(model, \u0022RandomForest\u0022) \u0026 !is(model, \u0022randomForest\u0022)) {\n    model \u003c- model$finalModel\n  }\n  if (is(model, \u0022randomForest\u0022)) {\n    varImpPlot(model, type=2, main=title)\n  } else {\n    importance \u003c- varimp(model)\n    dotchart(importance[order(importance)], main = title)\n  }\n}\n\nvarImpPlotAll \u003c- function(formulas, ModelBuilders) {\n    par(mfrow=c(length(formulas), length(ModelBuilders))) \n    varImpPlots \u003c- c()\n    for (ModelBuilder in ModelBuilders) {\n      for (fml in formulas) {\n        builder \u003c- ModelBuilder()\n        model \u003c- builder$model(formula(fml), data=train)\n        title \u003c- paste(builder$name, \u0022\\n\u0022, createFormulaName(fml))\n        customtImpPlot(model, title)\n      }\n    }\n}\n\nformulas \u003c- c(Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO)\n\nmodels \u003c- c(RandomForestBuilder)\n\nvarImpPlotAll(formulas, models)\n```\n\n`randomForest` doesn\u0027t support more than 53 categories (factor levels), so we can build a model with `FamilyIDWO`.\n\n```{r, fig.width = 12, fig.height = 12}\nformulas \u003c- c(Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO,\n              Survived ~ Sex + AgeWO + FareWO + Pclass + FamilySize + Embarked + TitleWO + FamilyIDWO)\n\nmodels \u003c- c(ConditionalInferenceBuilder)\n\n#varImpPlotAll(formulas, models)\n```\n\n![Kaggle times out after 20 minutes, so commenting out this and posting the output as an image.](https://s5.postimg.org/gkmkuljt3/var_imp_plot.png)\n\n# Generating Predictions\n\nWe need also to apply all the transformations we came up with during feature engineering:\n\nNow we can create a classifier and generate the predictions:\n\n```{r}\nbuildOutputName \u003c- function(fml, modelName) {\n  formulaName \u003c- paste0(format(fml), collapse = \u0022\u0022)\n  output \u003c- paste0(modelName, formulaName)\n  output \u003c- str_replace_all(output, \u0022[^\\\\w]\u0022, \u0022\u0022)\n  output \u003c- paste0(output, \u0022.csv\u0022)\n  return(output)\n}\n\ngeneratePredictions \u003c- function(fml, ModelBuilder, predictionColumn, trainData, testData) {\n  modelBuilder \u003c- ModelBuilder()\n  model \u003c- modelBuilder$model(fml, trainData)\n  predictions \u003c- modelBuilder$predictions(model, testData)\n  solution \u003c- data.frame(PassengerID = testData$PassengerId, Survived = predictions)\n  output \u003c- buildOutputName(fml, modelBuilder$name)\n  write.csv(solution, file = output, row.names = FALSE)\n  testData$Survived \u003c- predictions\n  return(testData)\n}\n\ngenerateAllPredictions \u003c- function(formulas, ModelBuilders, predictionColumn, trainData, testData) {\n  for (ModelBuilder in ModelBuilders) {\n    for (fml in formulas) {\n      evaluation \u003c- generatePredictions(fml, ModelBuilder, predictionColumn, trainData, testData)\n    }\n  }\n}\n\nfml \u003c-Survived ~ Sex + AgeWO + FareWO + Pclass + SibSp + Parch + FamilySize + Embarked + TitleWO + FamilyIDWO\ntest \u003c- generatePredictions(fml, ConditionalInferenceBuilder, \u0022Survived\u0022, train, test)\n```\n\n# Sanity Check\n\nI\u0027ve saved the predictions to `test$Survived`, this way we can quick check it through plotting.\n\n```{r}\ncountBarchart(test, \u0022Survived\u0022, \u0022Overall\u0022)\n```\n\nI\u0027ve submitted a trivial model to Kaggle where everybody survived to measure the percentage of survivors. There are about 63% survivors in the testing data-set, which is about the same percentage of survivors in the training data-set. That\u0027s a nice sanity check: If your predictions are any good, the percentage of survivors in your predictions should be close to this value.\n\n```{r}\ncategoricalResultCountBarchart(test, \u0022Sex\u0022, \u0022Survived\u0022)\n```\n\nFemale do better than male.\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(test, \u0022AgeWO\u0022, \u0022Survived\u0022, 10)\n```\n\nChildren do better than adults.\n\n```{r, fig.width = 12, fig.height = 12}\ncategoricalResultHistogram(test, \u0022FareWO\u0022, \u0022Survived\u0022, 10)\n```\n\n```{r}\ncategoricalResultCountBarchart(test, \u0022Pclass\u0022, \u0022Survived\u0022)\n```\n\nWealthy do better than poor. The predictions seem consistent with the observations.\n\n# Kaggle Submission\n\nMy latest submission achieved 0.82775 accuracy, which seems like a very good result (consult the Kaggle discussion fora). I scrutinized this data as much as I could (haven\u0027t found a more comprehensive analysis anywhere). \n\n\u003e **NOTE:**\n\u003e If you\u0027re a beginner: Don\u0027t get discouraged by the top scores. Unfortunately, it\u0027s pretty easy to cheat on this challenge (given that you can find the list of survivors online), thus you will find 100% accuracy scores... I would say that these are definitely cheats, while anything much greater than 80% are probably cheats as well.","dateCreated":"2017-01-18T14:39:12.413Z"},"resources":null,"isolatorResults":"\u003cresults\u003e\u003cdisk_kb_free\u003e465208\u003c/disk_kb_free\u003e\u003cdocker_image_id\u003esha256:3b837817256e1c9bbaae524ee0ed2e3dddc0e894aa1ef06f66bc1a62e191055f\u003c/docker_image_id\u003e\u003cdocker_image_name\u003ekaggle/rstats\u003c/docker_image_name\u003e\u003cexit_code\u003e0\u003c/exit_code\u003e\u003cfailure_message /\u003e\u003cout_of_memory\u003eFalse\u003c/out_of_memory\u003e\u003crun_time_seconds\u003e899.116638471\u003c/run_time_seconds\u003e\u003csucceeded\u003eTrue\u003c/succeeded\u003e\u003ctimeout_exceeded\u003eFalse\u003c/timeout_exceeded\u003e\u003cused_all_space\u003eFalse\u003c/used_all_space\u003e\u003cwas_killed\u003eFalse\u003c/was_killed\u003e\u003c/results\u003e","runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageDigest":null,"dockerImageId":"sha256:3b837817256e1c9bbaae524ee0ed2e3dddc0e894aa1ef06f66bc1a62e191055f","dockerImageName":"kaggle/rstats","diskKbFree":465208,"failureMessage":"","exitCode":0,"queuedSeconds":0,"outputSizeBytes":0,"runTimeSeconds":899.116638471,"usedAllSpace":false,"timeoutExceeded":false,"isValidStatus":false,"wasGpuEnabled":false,"wasInternetEnabled":false,"outOfMemory":false,"invalidPathErrors":false,"succeeded":true,"wasKilled":false},"outputFilesTotalSizeBytes":7147888,"dockerImageVersionId":null,"usedCustomDockerImage":false},"author":{"id":23652,"displayName":"Marcio Gualtieri","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"gualtieri","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/23652-gr.jpg","profileUrl":"/gualtieri","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":0,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"baseUrl":"/gualtieri/titanic-survivorship-analysis","collaborators":{"owner":{"userId":23652,"groupId":null,"groupMemberCount":null,"profileUrl":"/gualtieri","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/23652-gr.jpg","name":"Marcio Gualtieri","slug":"gualtieri","userTier":0,"joinDate":null,"type":"owner","isUser":true,"isGroup":false},"collaborators":[]},"initialTab":null,"log":"[{\n  \u0022data\u0022: \u0022\\n\\nprocessing file: script.Rmd\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 37.085195053999996\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |                                                                 |   0%\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 37.158178744\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |                                                                 |   1%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.                                                                |   1%\\nlabel: unnamed-chunk-1\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 37.162615551\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.                                                                |   2%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 37.16999796500001\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-2\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 37.173632623\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..                                                               |   3%\\n  ordinary text without R code\\n\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.68114474000001\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-3\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.685760714\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...                                                              |   4%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.709860932\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-4\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.713746908000005\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...                                                              |   5%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.726798486999996\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....                                                             |   6%\\nlabel: unnamed-chunk-5\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.730528617000004\n},{\n  \u0022data\u0022: \u0022\\n   inline R code fragments\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.739960709\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....                                                             |   7%\\nlabel: unnamed-chunk-6\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.743616841999994\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....                                                            |   7%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.....                                                            |   8%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.750408214000004\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-7 (with options) \\nList of 1\\n $ results: chr \\\u0022asis\\\u0022\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.754401711\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.772312295999996\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......                                                           |   9%\\nlabel: unnamed-chunk-8\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.776098501999996\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.787698742\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......                                                           |  10%\\nlabel: unnamed-chunk-9 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 59.791472666000004\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......                                                          |  10%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 67.154760137\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......                                                          |  11%\\nlabel: unnamed-chunk-10 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 67.158834694\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |........                                                         |  12%\\n  ordinary text without R code\\n\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 67.66313737\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-11\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 67.667748317\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |........                                                         |  13%\\n   inline R code fragments\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 67.677223594\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........                                                        |  13%\\nlabel: unnamed-chunk-12\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 67.681235641\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........                                                        |  14%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 75.434528886\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-13\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 75.43841854899999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........                                                       |  15%\\n  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-14 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height:\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 75.442663803\n},{\n  \u0022data\u0022: \u0022 num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 75.446900104\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........                                                       |  16%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.19503891000001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........                                                      |  17%\\nlabel: unnamed-chunk-15\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.199415306\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\\r  |                                                                       \u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.212653261\n},{\n  \u0022data\u0022: \u0022\\r  |...........                                                      |  18%\\nlabel: missingEmbarked (with options) \\nList of 1\\n $ results: chr \\\u0022asis\\\u0022\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.217322985\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............                                                     |  18%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.23040975299999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............                                                     |  19%\\nlabel: unnamed-chunk-16\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.23507425000001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.............                                                    |  19%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.36189715600001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.............                                                    |  20%\\nlabel: fixedEmbarked (with options) \\nList of 1\\n $ results: chr \\\u0022asis\\\u0022\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.36625163800001\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.37739184799999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............                                                   |  21%\\nlabel: unnamed-chunk-17\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.38159135100001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............                                                   |  22%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.398508664\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-18\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.403080097\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............                                                  |  23%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.413438581\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-19\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.417902315\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............                                                  |  24%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.42367218700001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................                                                 |  24%\\nlabel: unnamed-chunk-20\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.42839602400001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................                                                 |  25%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.486484347\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................                                                |  25%\\nlabel: unnamed-chunk-21\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.490466154\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................                                                |  26%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.543514981\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................                                                |  27%\\nlabel: unnamed-chunk-22 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 77.54746926099999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..................                                               |  27%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 78.50109684300001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..................                                               |  28%\\nlabel: unnamed-chunk-23\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 78.505428141\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 78.98893921400001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...................                                              |  29%\\nlabel: unnamed-chunk-24 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 78.99334201399999\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.10909027000001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...................                                              |  30%\\nlabel: unnamed-chunk-25\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.11458504100001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....................                                             |  30%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.634761119\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....................                                             |  31%\\nlabel: unnamed-chunk-26 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 80.63931519699999\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 81.746478442\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....................                                            |  32%\\nlabel: unnamed-chunk-27 (with options) \\nList of 2\\n $ fig.width : num 6\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 81.750608418\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....................                                            |  33%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 82.810959633\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |......................                                           |  33%\\nlabel: unnamed-chunk-28\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 82.81506600600001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......................                                           |  34%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 82.843289547\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-29 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 82.84962458900002\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......................                                          |  35%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 84.06649831700001\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-30 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 84.06996084699999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......................                                          |  36%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 84.962364596\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........................                                         |  36%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 84.96600393000001\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-31\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 84.97072939600001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |........................                                         |  37%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 84.988548851\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........................                                         |  38%\\nlabel: unnamed-chunk-32 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 84.99204332000001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................                                        |  38%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 85.905534019\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................                                        |  39%\\nlabel: unnamed-chunk-33\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 85.908696858\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 86.41111312299999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........................                                       |  40%\\nlabel: unnamed-chunk-34\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 86.41508845\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 86.422653229\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........................                                      |  41%\\nlabel: unnamed-chunk-35 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 86.42584091799999\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 88.08684652500001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........................                                      |  42%\\nlabel: unnamed-chunk-36\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 88.09013406000001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................                                     |  43%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 88.12067067299999\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-37\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 88.125155959\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................                                     |  44%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 88.30813894399999\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............................                                    |  44%\\nlabel: unnamed-chunk-38 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 88.31153407699999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.............................                                    |  45%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 92.65327920200001\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: embarkedAnalysis (with options) \\nList of 1\\n $ results: chr \\\u0022asis\\\u0022\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 92.65660264\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............................                                   |  46%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 92.670487317\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-39 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 92.67357888400001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................                                  |  47%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 93.56951011900001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................                                  |  48%\\nlabel: unnamed-chunk-40 (with options) \\nList of 2\\n $ fig.width : num 6\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 93.57417385200002\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 94.57375591099999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................................                                 |  49%\\nlabel: unnamed-chunk-41\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 94.57709324400001\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 94.589867077\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................................                                 |  50%\\nlabel: unnamed-chunk-42 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 94.59340936299999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................................                                |  50%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 96.12893646100001\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.................................                                |  51%\\nlabel: unnamed-chunk-43 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 96.13244979\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..................................                               |  52%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 97.00860609000001\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-44\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 97.013301304\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..................................                               |  53%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 97.459456396\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-45 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 97.463130824\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...................................                              |  54%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 98.32814514600001\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-46 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 98.33204657700001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....................................                             |  55%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 99.17162419099999\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-47\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 99.175414385\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....................................                             |  56%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 99.74233649700001\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.....................................                            |  56%\\nlabel: unnamed-chunk-48\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 99.74607958099999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....................................                            |  57%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 100.226612898\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-49\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 100.23055550400001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......................................                           |  58%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 100.23857993700001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......................................                           |  59%\\nlabel: unnamed-chunk-50\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 100.242278426\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 100.29244037\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......................................                          |  60%\\nlabel: unnamed-chunk-51 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 100.295761057\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 103.13453153100001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |........................................                         |  61%\\nlabel: unnamed-chunk-52\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 103.138287844\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 103.14917512500001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |........................................                         |  62%\\nlabel: unnamed-chunk-53\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 103.153451535\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................................                        |  62%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 103.191468158\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................................                        |  63%\\nlabel: unnamed-chunk-54 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 103.19474757300001\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................................                        |  64%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.063215521\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..........................................                       |  64%\\nlabel: unnamed-chunk-55\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.06680271399999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........................................                       |  65%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.08375388500001\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-56\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.087083349\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........................................                      |  66%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.12493556599999\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-57\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.12819419399999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........................................                      |  67%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.13552425799999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................................                     |  67%\\nlabel: unnamed-chunk-58\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.13946152499999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................................                     |  68%\\n   inline R code fragments\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.152107045\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.............................................                    |  69%\\nlabel: unnamed-chunk-59\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.155256419\n},{\n  \u0022data\u0022: \u0022\\n   inline R code fragments\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.175015493\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.............................................                    |  70%\\nlabel: unnamed-chunk-60\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.17847642299999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............................................                   |  70%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.231829286\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............................................                   |  71%\\nlabel: unnamed-chunk-61 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 104.234988065\n},{\n  \u0022data\u0022: \u0022\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 105.06070408200002\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...............................................                  |  72%\\nlabel: unnamed-chunk-62 (with options) \\nList of 2\\n $ fig.width :\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 105.06413538100001\n},{\n  \u0022data\u0022: \u0022 num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 105.06736585700001\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 106.001998478\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................................                  |  73%\\nlabel: unnamed-chunk-63\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 106.00532004\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................................................                 |  73%\\n   inline R code fragments\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 106.091194633\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................................................                 |  74%\\nlabel: unnamed-chunk-64\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 106.09470489499999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................................................                 |  75%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 106.20160696399999\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................................................                |  75%\\nlabel: unnamed-chunk-65 (with options) \\nList of 1\\n $ results: chr \\\u0022asis\\\u0022\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 106.205209364\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................................................                |  76%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 106.226529748\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..................................................               |  76%\\nlabel: unnamed-chunk-66\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 106.229723666\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..................................................               |  77%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 106.26518458\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-67 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 106.26843543\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...................................................              |  78%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 107.10888371\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-68\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 107.112028658\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...................................................              |  79%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 158.79278740799998\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |....................................................             |  80%\\nlabel: unnamed-chunk-69\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 158.79677649799999\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |....................................................             |  81%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 158.80297022399998\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-70\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 158.80654535399998\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....................................................            |  81%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 159.847717175\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.....................................................            |  82%\\nlabel: unnamed-chunk-71\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 159.858162693\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......................................................           |  82%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 159.86931783699998\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |......................................................           |  83%\\nlabel: unnamed-chunk-72\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 159.87261506599998\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 160.557812641\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......................................................          |  84%\\nlabel: unnamed-chunk-73\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 160.561651524\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......................................................          |  85%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 160.580161374\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-74 (with options) \\nList of 1\\n $ results: chr \\\u0022asis\\\u0022\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 160.583838626\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |........................................................         |  86%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 164.33476348200003\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-75 (with options) \\nList of 1\\n $ results: chr \\\u0022asis\\\u0022\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 164.338050925\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |........................................................         |  87%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 164.347458427\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.........................................................        |  87%\\nlabel: unnamed-chunk-76 (with options) \\nList of 2\\n $ fig.width : num 16\\n $ fig.height: num 8\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 164.35062931099998\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................................................        |  88%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 166.35412734699997\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-77 (with options) \\nList of 2\\n $ fig.width : num 16\\n $ fig.height: num 8\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 166.35773776399998\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........................................................       |  89%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 166.366935384\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..........................................................       |  90%\\nlabel: unnamed-chunk-78 (with options) \\nList of 1\\n $ results: chr \\\u0022asis\\\u0022\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 166.3712463\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........................................................      |  90%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 166.37965511599998\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...........................................................      |  91%\\nlabel: unnamed-chunk-79 (with options) \\nList of 2\\n $ fig.width : num 16\\n $ fig.height: num 8\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 166.383185777\n},{\n  \u0022data\u0022: \u0022\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 166.39310914100002\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |............................................................     |  92%\\nlabel: unnamed-chunk-80 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 6\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 166.39718903800002\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |............................................................     |  93%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 167.047020885\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-81 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 167.05049627699998\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.............................................................    |  93%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 167.061141562\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............................................................    |  94%\\nlabel: unnamed-chunk-82\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 167.06454348199998\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 894.143460102\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............................................................   |  95%\\nlabel: unnamed-chunk-83\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 894.147408063\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............................................................   |  96%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 894.476340074\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-84\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 894.479955204\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................................................  |  97%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 894.887796614\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\nlabel: unnamed-chunk-85 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 894.891250729\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................................................................ |  98%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 895.695013933\n},{\n  \u0022data\u0022: \u0022\\nlabel: unnamed-chunk-86 (with options) \\nList of 2\\n $ fig.width : num 12\\n $ fig.height: num 12\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 895.69879758\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................................................................ |  99%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 896.543897397\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................................................................|  99%\\nlabel: unnamed-chunk-87\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 896.54848412\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................................................................| 100%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 896.9643592799999\n},{\n  \u0022data\u0022: \u0022output file: /kaggle/working/script.knit.md\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 896.966671694\n},{\n  \u0022data\u0022: \u0022\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 896.968014619\n},{\n  \u0022data\u0022: \u0022/usr/local/bin/pandoc +RTS -K512m -RTS /kaggle/working/script.utf8.md --to html --from markdown+autolink_bare_uris+ascii_identifiers+tex_math_single_backslash --output /kaggle/working/__results__.html --smart --email-obfuscation none --standalone --section-divs --table-of-contents --toc-depth 4 --template /usr/local/lib/R/site-library/rmarkdown/rmd/h/default.html --no-highlight --variable highlightjs=1 --variable \u0027theme:bootstrap\u0027 --include-in-header /tmp/RtmpwSFGe8/rmarkdown-str12d476bf2.html --mathjax --variable \u0027mathjax-url:https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\u0027 \\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 897.009478063\n},{\n  \u0022data\u0022: \u0022\\nOutput created: __results__.html\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 898.122703954\n}]","outputFiles":[{"ownerInfo":null,"kernelVersionOutputFileId":2011501,"kernelVersionId":725489,"kernelId":148389,"size":0,"fullPath":"ConditionalInferenceForestpartymtry3SurvivedSexAgeWOFareWOPclassSibSpParchFamilySizeEmbarkedTitleWOFamilyIDWO.csv","previewUrl":"/kernels/preview.json/725489/b3e04790-fff5-980b-31d1-cfbaa89326d3/ConditionalInferenceForestpartymtry3SurvivedSexAgeWOFareWOPclassSibSpParchFamilySizeEmbarkedTitleWOFamilyIDWO.csv","downloadUrl":"https://www.kaggleusercontent.com/kf/725489/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..jUeo75638mWo5RFVvGNOvQ.Q7FRF6AdRugPvbzywz1tWrwv_O2RMnU_aHYdkXd39i0N_JQjJRzrSNbB5kjw3SHHS4Ro3mF5YgiFj2BT2nsY7ss3Gl7GwQ6t2a3OZtVzO53jVJE5gLGn1W-0GVfKYc9kvgVSm4JZzkjDfGUzDmJ-2A.RC4rFiWcizzPB6pSh8BHnA/ConditionalInferenceForestpartymtry3SurvivedSexAgeWOFareWOPclassSibSpParchFamilySizeEmbarkedTitleWOFamilyIDWO.csv","fileType":".csv","contentLength":3679,"contentType":null,"contentMD5":null,"validationErrors":null,"type":"kernelOutputFile","collapsed":false,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"ConditionalInferenceForestpartymtry3SurvivedSexAgeWOFareWOPclassSibSpParchFamilySizeEmbarkedTitleWOFamilyIDWO.csv","description":null}],"outputFilesCropped":false,"ouputFilesOwnerInfo":{"databundleVersionId":0,"dataset":null,"competition":null,"kernel":{"kernelId":148389,"kernelVersionId":725489,"dataviewToken":"eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..bBTzPHjxoiVzowogNz0SGQ.20zpCIU_cZ3oqiQu4WIxTqlZ7NFUSCVl18XbA_hlax8rWem1pE7ATovpy6JbTRI1ga23Fx9bCJb6inQGpHAZUj9zJnMUsnfQ9LXW-_XbeDenZnW39C1-LzPr2D7jijbSgm8qxG3HJgZAGFtMpZ_2T9kufU3qM-9KXXbg-Un31D1XZ99Onmm4g5DCWtIG13ZrMGTRUzrR5gZdreQkR5ZGVgJW38kXgE8WzPO3EVgWsnVhV34Xc9jsF372-EtrUZeYEyzxS-861X1E8u7mbBKjLYqsirB4VY3eheodJ04fEizvV-yPybfbS4iQUkohLsu2wZM8_2QaAsLaZrPweGeUuD6OWgjBxVmm17RvIdIiZLzIGoM149kQsSpn_yFNzFZoouIIYAGmk_FEj0yTg4JAU0kXgGJhL5wfRc-oKiD1vhlnEtRWEtFSWnHF65UC167EQ0gSL3_d79kYXWzZCz3nK6zkSzXlh2KuvumP1ePeGhoYYp8E_w8lAlRow2xzYO-Ad5X3OdE8fXHOEZvMcfhdKHK4Vubrqn4dVPTkBTvHletTxv2pMK4uhkKPS8b1gfpEiuNshuNA4eUiPNPOrZymQ3moZmJg3Jx11cs-6FuTo3ufnTvoLdvoSccu37vfT0iS_83zle4EF8kaar6HNM6dhQHLKXDf3dBXUQUvW3mz30XBoyAiv58t7PIpWniwPzS0_Q1yqMo9wTeTTrUCC8PUXwKnq5LIlG5b_870T3hBCsubnxYlciRWWzTrjcK31VTUfiCbmNiiUCMqOMye-ti6hx24k-UOx9JGrQMRxOA-V7I.OwWUY1ZS2-G-cgbBGgclQw","scope":"gualtieri/titanic-survivorship-analysis"},"previewsDisabled":false},"pageMessages":[],"dataSources":[{"imageUrl":"https://storage.googleapis.com/kaggle-competitions/kaggle/3136/logos/thumb76_76.png","sourceUrl":"/c/titanic","slug":"titanic","lastUpdated":"2012-09-28T21:13:33.55Z","overview":"Start here! Predict survival on the Titanic and get familiar with ML basics","sourceType":"competition","sourceVersionType":null,"sourceId":3136,"sourceVersionNumber":null,"maxVersionNumber":null,"descriptionMimeType":"text/html","deleted":false,"private":false,"privateButVisible":false,"ownerInfo":{"databundleVersionId":26502,"dataset":null,"competition":{"competitionId":3136,"dataviewToken":null,"scope":"c/titanic"},"kernel":null,"previewsDisabled":true},"type":"dataSource","collapsed":false,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"id":63842,"blobFileId":37991,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/gender_submission.csv","creationDate":"2017-02-01T01:49:18Z","isDummy":false,"size":3258,"fullPath":"../input/gender_submission.csv","previewUrl":"kernels/competition-preview/3136?relativePath=gender_submission.csv","downloadUrl":"/c/titanic/download/gender_submission.csv","fileType":".csv","contentLength":3258,"contentType":"text/csv","contentMD5":"MNEHO5ZKXYFUMexgOg3jUw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"892\n893\n894\n895\n896\n897\n898\n899\n900\n901\n902\n903\n904\n905\n906\n907\n908\n909\n910\n911\n912\n913\n914\n915\n916\n917\n918\n919\n920\n921\n922\n923\n924\n925\n926\n927\n928\n929\n930\n931\n932\n933\n934\n935\n936\n937\n938\n939\n940\n941\n942\n943\n944\n945\n946\n947\n948\n949\n950\n951\n952\n953\n954\n955\n956\n957\n958\n959\n960\n961\n962\n963\n964\n965\n966\n967\n968\n969\n970\n971\n972\n973\n974\n975\n976\n977\n978\n979\n980\n981\n982\n983\n984\n985\n986\n987\n988\n989\n990\n991\n992\n993\n994\n995\n996\n997\n998\n999\n1000\n1001\n1002\n1003\n1004\n1005\n1006\n1007\n1008\n1009\n1010\n1011\n1012\n1013\n1014\n1015\n1016\n1017\n1018\n1019\n1020\n1021\n1022\n1023\n1024\n1025\n1026\n1027\n1028\n1029\n1030\n1031\n1032\n1033\n1034\n1035\n1036\n1037\n1038\n1039\n1040\n1041\n1042\n1043\n1044\n1045\n1046\n1047\n1048\n1049\n1050\n1051\n1052\n1053\n1054\n1055\n1056\n1057\n1058\n1059\n1060\n1061\n1062\n1063\n1064\n1065\n1066\n1067\n1068\n1069\n1070\n1071\n1072\n1073\n1074\n1075\n1076\n1077\n1078\n1079\n1080\n1081\n1082\n1083\n1084\n1085\n1086\n1087\n1088\n1089\n1090\n1091\n1092\n1093\n1094\n1095\n1096\n1097\n1098\n1099\n1100\n1101\n1102\n1103\n1104\n1105\n1106\n1107\n1108\n1109\n1110\n1111\n1112\n1113\n1114\n1115\n1116\n1117\n1118\n1119\n1120\n1121\n1122\n1123\n1124\n1125\n1126\n1127\n1128\n1129\n1130\n1131\n1132\n1133\n1134\n1135\n1136\n1137\n1138\n1139\n1140\n1141\n1142\n1143\n1144\n1145\n1146\n1147\n1148\n1149\n1150\n1151\n1152\n1153\n1154\n1155\n1156\n1157\n1158\n1159\n1160\n1161\n1162\n1163\n1164\n1165\n1166\n1167\n1168\n1169\n1170\n1171\n1172\n1173\n1174\n1175\n1176\n1177\n1178\n1179\n1180\n1181\n1182\n1183\n1184\n1185\n1186\n1187\n1188\n1189\n1190\n1191\n1192\n1193\n1194\n1195\n1196\n1197\n1198\n1199\n1200\n1201\n1202\n1203\n1204\n1205\n1206\n1207\n1208\n1209\n1210\n1211\n1212\n1213\n1214\n1215\n1216\n1217\n1218\n1219\n1220\n1221\n1222\n1223\n1224\n1225\n1226\n1227\n1228\n1229\n1230\n1231\n1232\n1233\n1234\n1235\n1236\n1237\n1238\n1239\n1240\n1241\n1242\n1243\n1244\n1245\n1246\n1247\n1248\n1249\n1250\n1251\n1252\n1253\n1254\n1255\n1256\n1257\n1258\n1259\n1260\n1261\n1262\n1263\n1264\n1265\n1266\n1267\n1268\n1269\n1270\n1271\n1272\n1273\n1274\n1275\n1276\n1277\n1278\n1279\n1280\n1281\n1282\n1283\n1284\n1285\n1286\n1287\n1288\n1289\n1290\n1291\n1292\n1293\n1294\n1295\n1296\n1297\n1298\n1299\n1300\n1301\n1302\n1303\n1304\n1305\n1306\n1307\n1308\n1309\n"},{"order":1,"originalType":"","type":"boolean","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Survived","description":"0\n0\n0\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n1\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n1\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n1\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"gender_submission.csv","description":"892,0\n893,0\n894,0\n895,0\n896,0\n897,0\n898,0\n899,0\n900,0\n901,0\n902,0\n903,0\n904,1\n905,0a\n906,1\n907,0\n908,0\n909,0\n910,0\n911,0\n912,1\n913,0\n914,0\n915,0\n916,1\n917,0\n918,0\n919,0\n920,0\n921,0\n922,0\n923,0\n924,0\n925,0\n926,1\n927,0\n928,0\n929,0\n930,0\n931,1\n932,0\n933,0\n934,0\n935,0\n936,1\n937,0\n938,0\n939,0\n940,1\n941,0\n942,1\n943,0\n944,0\n945,1\n946,0\n947,0\n948,0\n949,0\n950,0\n951,1\n952,0\n953,0\n954,0\n955,0\n956,1\n957,0\n958,0\n959,0\n960,0\n961,1\n962,\n963,0\n964,0\n965,0\n966,1\n967,1\n968,0\n969,0\n970,0\n971,0\n972,0\n973,1\n974,0\n975,0\n976,0\n977,0\n978,0\n979,0\n980,0\n981,0\n982,0\n983,0\n984,0\n985,0\n986,0\n987,0\n988,1\n989,0\n990,0\n991,0\n992,1\n993,0\n994,0\n995,0\n996,0\n997,0\n998,0\n999,0\n1000,0\n1001,0\n1002,0\n1003,0\n1004,0\n1005,0\n1006,1\n1007,0\n1008,0\n1009,0\n1010,1\n1011,0\n1012,0\n1013,0\n1014,1\n1015,0\n1016,0\n1017,0\n1018,0\n1019,0\n1020,0\n1021,0\n1022,0\n1023,0\n1024,0\n1025,0\n1026,0\n1027,0\n1028,0\n1029,0\n1030,0\n1031,0\n1032,0\n1033,1\n1034,1\n1035,0\n1036,0\n1037,0\n1038,1\n1039,0\n1040,0\n1041,0\n1042,1\n1043,0\n1044,0\n1045,0\n1046,0\n1047,0\n1048,1\n1049,0\n1050,0\n1051,0\n1052,0\n1053,0\n1054,0\n1055,0\n1056,0\n1057,0\n1058,1\n1059,0\n1060,0\n1061,0\n1062,0\n1063,0\n1064,0\n1065,0\n1066,0\n1067,0\n1068,0\n1069,1\n1070,0\n1071,1\n1072,0\n1073,1\n1074,1\n1075,0\n1076,1\n1077,0\n1078,0\n1079,0\n1080,1\n1081,0\n1082,0\n1083,0\n1084,0\n1085,0\n1086,0\n1087,0\n1088,1\n1089,0\n1090,0\n1091,0\n1092,0\n1093,0\n1094,1\n1095,0\n1096,0\n1097,0\n1098,0\n1099,0\n1100,0\n1101,0\n1102,0\n1103,0\n1104,1\n1105,0\n1106,0\n1107,0\n1108,0\n1109,1\n1110,1\n1111,0\n1112,0\n1113,0\n1114,0\n1115,0\n1116,0\n1117,0\n1118,0\n1119,0\n1120,0\n1121,0\n1122,1\n1123,0\n1124,0\n1125,0\n1126,1\n1127,0\n1128,1\n1129,0\n1130,0\n1131,1\n1132,0\n1133,0\n1134,1\n1135,0\n1136,0\n1137,1\n1138,0\n1139,0\n1140,0\n1141,0\n1142,0\n1143,0\n1144,1\n1145,0\n1146,0\n1147,0\n1148,0\n1149,0\n1150,0\n1151,0\n1152,0\n1153,0\n1154,0\n1155,0\n1156,0\n1157,0\n1158,0\n1159,0\n1160,0\n1161,0\n1162,1\n1163,0\n1164,1\n1165,0\n1166,0\n1167,0\n1168,0\n1169,0\n1170,0\n1171,0\n1172,0\n1173,0\n1174,0\n1175,0\n1176,0\n1177,0\n1178,0\n1179,1\n1180,0\n1181,0\n1182,0\n1183,0\n1184,0\n1185,1\n1186,0\n1187,0\n1188,0\n1189,0\n1190,1\n1191,0\n1192,0\n1193,0\n1194,0\n1195,0\n1196,0\n1197,0\n1198,1\n1199,0\n1200,1\n1201,0\n1202,0\n1203,0\n1204,0\n1205,0\n1206,1\n1207,0\n1208,1\n1209,0\n1210,0\n1211,0\n1212,0\n1213,0\n1214,0\n1215,0\n1216,1\n1217,0\n1218,0\n1219,1\n1220,0\n1221,0\n1222,0\n1223,0\n1224,0\n1225,0\n1226,0\n1227,0\n1228,0\n1229,0\n1230,0\n1231,0\n1232,0\n1233,0\n1234,1\n1235,1\n1236,0\n1237,0\n1238,0\n1239,0\n1240,0\n1241,0\n1242,1\n1243,0\n1244,1\n1245,1\n1246,0\n1247,0\n1248,1\n1249,0\n1250,0\n1251,0\n1252,1\n1253,0\n1254,0\n1255,0\n1256,1\n1257,1\n1258,0\n1259,0\n1260,0\n1261,0\n1262,0\n1263,1\n1264,0\n1265,0\n1266,1\n1267,1\n1268,0\n1269,0\n1270,1\n1271,0\n1272,0\n1273,0\n1274,0\n1275,0\n1276,0\n1277,1\n1278,0\n1279,0\n1280,0\n1281,0\n1282,1\n1283,0\n1284,0\n1285,0\n1286,0\n1287,1\n1288,0\n1289,1\n1290,0\n1291,0\n1292,1\n1293,0\n1294,0\n1295,1\n1296,0\n1297,0\n1298,0\n1299,1\n1300,0\n1301,0\n1302,0\n1303,1\n1304,0\n1305,0\n1306,1\n1307,0\n1308,0\n1309,0"},{"id":63841,"blobFileId":2613,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/test.csv","creationDate":"2013-06-28T13:40:24.227Z","isDummy":false,"size":28629,"fullPath":"../input/test.csv","previewUrl":"kernels/competition-preview/3136?relativePath=test.csv","downloadUrl":"/c/titanic/download/test.csv","fileType":".csv","contentLength":28629,"contentType":"text/csv","contentMD5":"dTO4Lq5LWCYQy9aKpjawFw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"1"},{"order":1,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Pclass","description":"1"},{"order":2,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Name","description":"the name of the passenger"},{"order":3,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Sex","description":null},{"order":4,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Age","description":null},{"order":5,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"SibSp","description":"of siblings / spouses aboard the Titanic"},{"order":6,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Parch","description":"of parents / children aboard the Titanic"},{"order":7,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Ticket","description":"Ticket number"},{"order":8,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Fare","description":"Passenger fare"},{"order":9,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Cabin","description":"Cabin number"},{"order":10,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Embarked","description":"Port of Embarkation"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"test.csv","description":"test data to check the accuracy of the model created\n"},{"id":63840,"blobFileId":2307,"databundleVersionId":26502,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/train.csv","creationDate":"2013-06-28T13:40:25.23Z","isDummy":false,"size":61194,"fullPath":"../input/train.csv","previewUrl":"kernels/competition-preview/3136?relativePath=train.csv","downloadUrl":"/c/titanic/download/train.csv","fileType":".csv","contentLength":61194,"contentType":"text/csv","contentMD5":"IwnMXwR4Ltm7YBbZ9OOBzw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":891},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":"type should be integers"},{"order":1,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Survived","description":"Survived or Not "},{"order":2,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Pclass","description":"Class of Travel"},{"order":3,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Name","description":"Name of Passenger"},{"order":4,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Sex","description":"Gender"},{"order":5,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Age","description":"Age of Passengers"},{"order":6,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"SibSp","description":"Number of Sibling/Spouse aboard"},{"order":7,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Parch","description":"Number of Parent/Child aboard"},{"order":8,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Ticket","description":null},{"order":9,"originalType":"","type":"numeric","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Fare","description":null},{"order":10,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Cabin","description":null},{"order":11,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Embarked","description":"The port in which a passenger has embarked. C - Cherbourg, S - Southampton, Q = Queenstown"}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"train.csv","description":"contains data \n"}],"name":"Titanic: Machine Learning from Disaster","description":"\u003ch3\u003eOverview\u003c/h3\u003e\n\u003cp\u003eThe data has been split into two groups:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003etraining set (train.csv)\u003c/li\u003e\n\u003cli\u003etest set (test.csv)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cb\u003e The training set \u003c/b\u003eshould be used to build your machine learning models. For the training set, we provide the outcome (also known as the “ground truth”) for each passenger. Your model will be based on “features” like passengers’ gender and class. You can also use \u003ca href=\u0022https://triangleinequality.wordpress.com/2013/09/08/basic-feature-engineering-with-the-titanic-data/\u0022 target=\u0022_blank\u0022\u003e feature engineering \u003c/a\u003eto create new features.\u003c/p\u003e\n\u003cp\u003e\u003cb\u003eThe test set \u003c/b\u003eshould be used to see how well your model performs on unseen data. For the test set, we do not provide the ground truth for each passenger. It is your job to predict these outcomes. For each passenger in the test set, use the model you trained to predict whether or not they survived the sinking of the Titanic.\u003c/p\u003e\n\u003cp\u003eWe also include \u003cb\u003egender_submission.csv\u003c/b\u003e, a set of predictions that assume all and only female passengers survive, as an example of what a submission file should look like.\u003c/p\u003e\n\u003ch3\u003eData Dictionary\u003c/h3\u003e\n\u003ctable style=\u0022width: 100%;\u0022\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\u003cth\u003e\u003cb\u003eVariable\u003c/b\u003e\u003c/th\u003e\u003cth\u003e\u003cb\u003eDefinition\u003c/b\u003e\u003c/th\u003e\u003cth\u003e\u003cb\u003eKey\u003c/b\u003e\u003c/th\u003e\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esurvival\u003c/td\u003e\n\u003ctd\u003eSurvival\u003c/td\u003e\n\u003ctd\u003e0 = No, 1 = Yes\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003epclass\u003c/td\u003e\n\u003ctd\u003eTicket class\u003c/td\u003e\n\u003ctd\u003e1 = 1st, 2 = 2nd, 3 = 3rd\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esex\u003c/td\u003e\n\u003ctd\u003eSex\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eAge\u003c/td\u003e\n\u003ctd\u003eAge in years\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003esibsp\u003c/td\u003e\n\u003ctd\u003e# of siblings / spouses aboard the Titanic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eparch\u003c/td\u003e\n\u003ctd\u003e# of parents / children aboard the Titanic\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eticket\u003c/td\u003e\n\u003ctd\u003eTicket number\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efare\u003c/td\u003e\n\u003ctd\u003ePassenger fare\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ecabin\u003c/td\u003e\n\u003ctd\u003eCabin number\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eembarked\u003c/td\u003e\n\u003ctd\u003ePort of Embarkation\u003c/td\u003e\n\u003ctd\u003eC = Cherbourg, Q = Queenstown, S = Southampton\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003eVariable Notes\u003c/h3\u003e\n\u003cp\u003e\u003cb\u003epclass\u003c/b\u003e: A proxy for socio-economic status (SES)\u003cbr /\u003e 1st = Upper\u003cbr /\u003e 2nd = Middle\u003cbr /\u003e 3rd = Lower\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003eage\u003c/b\u003e: Age is fractional if less than 1. If the age is estimated, is it in the form of xx.5\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003esibsp\u003c/b\u003e: The dataset defines family relations in this way...\u003cbr /\u003e Sibling = brother, sister, stepbrother, stepsister\u003cbr /\u003e Spouse = husband, wife (mistresses and fiancés were ignored)\u003cbr /\u003e\u003cbr /\u003e \u003cb\u003eparch\u003c/b\u003e: The dataset defines family relations in this way...\u003cbr /\u003e Parent = mother, father\u003cbr /\u003e Child = daughter, son, stepdaughter, stepson\u003cbr /\u003e Some children travelled only with a nanny, therefore parch=0 for them.\u003c/p\u003e"}],"versions":[{"id":725489,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-18T14:39:12.413Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":6,"linesInsertedFromPrevious":6,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b837817256e1c9bbaae524ee0ed2e3dddc0e894aa1ef06f66bc1a62e191055f","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":899.116638471,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=725489","versionNumber":55,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":725072,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-18T13:21:03.87Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b837817256e1c9bbaae524ee0ed2e3dddc0e894aa1ef06f66bc1a62e191055f","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":599.482147110975,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=725072","versionNumber":54,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":724988,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-18T12:54:40.863Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":38,"linesInsertedFromPrevious":100,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b837817256e1c9bbaae524ee0ed2e3dddc0e894aa1ef06f66bc1a62e191055f","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1158.66879964399,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=724988","versionNumber":53,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":722299,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-18T00:39:42.893Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b837817256e1c9bbaae524ee0ed2e3dddc0e894aa1ef06f66bc1a62e191055f","dockerImageName":"kaggle/rstats","exitCode":137,"failureMessage":"The kernel was killed for running longer than 1200 seconds.","isValidStatus":true,"runTimeSeconds":1200.757036047,"succeeded":false,"timeoutExceeded":true,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=722299","versionNumber":52,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":722230,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-18T00:19:19.233Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":4,"linesInsertedFromPrevious":4,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b837817256e1c9bbaae524ee0ed2e3dddc0e894aa1ef06f66bc1a62e191055f","dockerImageName":"kaggle/rstats","exitCode":137,"failureMessage":"The kernel was killed for running longer than 1200 seconds.","isValidStatus":true,"runTimeSeconds":1200.62949089002,"succeeded":false,"timeoutExceeded":true,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=722230","versionNumber":51,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":722132,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-18T00:02:28.957Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":390,"linesInsertedFromPrevious":747,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:3b837817256e1c9bbaae524ee0ed2e3dddc0e894aa1ef06f66bc1a62e191055f","dockerImageName":"kaggle/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":24.9617832510266,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=722132","versionNumber":50,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":669080,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-08T14:20:48.04Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":459.059139309975,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=669080","versionNumber":49,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":669029,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-08T14:10:45.393Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":33,"linesInsertedFromPrevious":42,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":447.11584049603,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=669029","versionNumber":48,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":668451,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-08T11:30:48.94Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":393.934913860983,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=668451","versionNumber":47,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":666574,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-08T01:18:13.86Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":388.621843252011,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=666574","versionNumber":46,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":666542,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-08T01:05:55.11Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":2,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":396.260674941994,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=666542","versionNumber":45,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":666360,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-07T23:59:06.657Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":404.826414349023,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=666360","versionNumber":44,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":666328,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-07T23:48:12.26Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":407.267709300999,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=666328","versionNumber":43,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":666291,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-07T23:32:41.8Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":8,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"Output path has invalid characters","isValidStatus":true,"runTimeSeconds":428.99711248104,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=666291","versionNumber":42,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":666288,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-07T23:32:13.507Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":68,"linesInsertedFromPrevious":137,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":6.88991110696225,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=666288","versionNumber":41,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":661355,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-06T21:46:20.89Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":63,"linesInsertedFromPrevious":86,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":78.641927071003,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=661355","versionNumber":40,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654572,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T16:58:00.487Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":74.0807208669867,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654572","versionNumber":39,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654549,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T16:52:16.687Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":70.7603452000039,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654549","versionNumber":38,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654523,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T16:46:47.933Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":24,"linesInsertedFromPrevious":24,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":69.4294953880017,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654523","versionNumber":37,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654502,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T16:39:57.303Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":31,"linesInsertedFromPrevious":30,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":66.6130158250016,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654502","versionNumber":36,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654465,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T16:32:28.11Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":73.2665813389976,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654465","versionNumber":35,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654440,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T16:27:35.127Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":25,"linesInsertedFromPrevious":27,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":79.8544417840021,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654440","versionNumber":34,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654418,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T16:21:32.913Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":24,"linesInsertedFromPrevious":24,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":74.9180481869989,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654418","versionNumber":33,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654409,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T16:19:36.32Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":79.5267727419996,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654409","versionNumber":32,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654045,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T14:44:53.907Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":70.332765969004,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654045","versionNumber":31,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654036,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T14:41:47.73Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":71.8925716130034,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654036","versionNumber":30,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654023,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T14:38:14.29Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":79.8931552320137,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654023","versionNumber":29,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":654003,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-05T14:32:08.563Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":325,"linesInsertedFromPrevious":314,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":80.4420156499982,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=654003","versionNumber":28,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":632202,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-01T23:42:11.693Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":207.388149949024,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=632202","versionNumber":27,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":632180,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-01T23:34:25.647Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":187.071371686994,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=632180","versionNumber":26,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":632179,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-01T23:34:23.333Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":227.67239840806,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=632179","versionNumber":25,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":632154,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-01T23:27:40.74Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":238.588106419076,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=632154","versionNumber":24,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":632032,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-01T22:29:52.597Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":201.361004556995,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=632032","versionNumber":23,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":632002,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-01T22:15:15.423Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":222.040762324003,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=632002","versionNumber":22,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":631995,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-01T22:11:15.673Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":195.766432213015,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=631995","versionNumber":21,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":631707,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2017-01-01T20:55:51.693Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":298,"linesInsertedFromPrevious":328,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":198.431606527069,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=631707","versionNumber":20,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":623171,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T21:03:21.163Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":4,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":108.841269055963,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=623171","versionNumber":19,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":623025,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T20:31:33.287Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":107.491593298968,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=623025","versionNumber":18,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":623014,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T20:28:49.363Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":11,"linesInsertedFromPrevious":5,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":101.49914483499,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=623014","versionNumber":17,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622993,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T20:22:59.083Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":4,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":110.994293747004,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622993","versionNumber":16,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622985,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T20:19:32.847Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":105.431768291979,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622985","versionNumber":15,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622982,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T20:16:57.61Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":106.034179155016,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622982","versionNumber":14,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622969,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T20:13:32.92Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":3,"linesInsertedFromPrevious":2,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":102.96977990499,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622969","versionNumber":13,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622955,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T20:09:17.777Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":8,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":107.727179939044,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622955","versionNumber":12,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622815,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T19:43:38.357Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"Output path has invalid characters","isValidStatus":true,"runTimeSeconds":105.020459727966,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622815","versionNumber":11,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622801,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T19:40:05.653Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":14,"linesInsertedFromPrevious":21,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"Output path has invalid characters","isValidStatus":true,"runTimeSeconds":108.707802418969,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622801","versionNumber":10,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622775,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T19:33:59.87Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":8,"linesInsertedFromPrevious":9,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"Output path has invalid characters","isValidStatus":true,"runTimeSeconds":102.840142801986,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622775","versionNumber":9,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622735,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T19:25:48.63Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"Output path has invalid characters","isValidStatus":true,"runTimeSeconds":107.630154547049,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622735","versionNumber":8,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622722,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T19:23:31.397Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":5,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"Output path has invalid characters","isValidStatus":true,"runTimeSeconds":105.162810445996,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622722","versionNumber":7,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622714,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T19:22:25.083Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":10,"linesInsertedFromPrevious":19,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":4.40612020803383,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622714","versionNumber":6,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622568,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T18:53:19.82Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":7,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"Output path has invalid characters","isValidStatus":true,"runTimeSeconds":108.85950457002,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622568","versionNumber":5,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622536,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T18:45:21.927Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"Output path has invalid characters","isValidStatus":true,"runTimeSeconds":104.942132484983,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622536","versionNumber":4,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622513,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T18:40:44.36Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":4,"linesInsertedFromPrevious":4,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":0,"failureMessage":"Output path has invalid characters","isValidStatus":true,"runTimeSeconds":101.259977784939,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622513","versionNumber":3,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622502,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T18:39:09.487Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":2,"linesInsertedFromPrevious":2,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":5.69878359092399,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622502","versionNumber":2,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":622455,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2016-12-30T18:30:35.37Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":1199,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:db81b1564fa01aee08d77dc7a1500e3f7252db31f118ef5e1e7aaace423aad5b","dockerImageName":"kaggle/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":7.4715550650144,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic Survivorship Analysis","url":"/gualtieri/titanic-survivorship-analysis?scriptVersionId=622455","versionNumber":1,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null}],"categories":{"categories":[],"type":"script"},"submitToCompetitionInfo":null,"downloadAllFilesUrl":"/kernels/svzip/725489","submission":null,"menuLinks":[{"href":"/gualtieri/titanic-survivorship-analysis/notebook","text":"Report","title":"Notebook","tab":"report","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/gualtieri/titanic-survivorship-analysis/code","text":"Code","title":"Code","tab":"code","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/gualtieri/titanic-survivorship-analysis/data","text":"Data","title":"Data","tab":"data","count":1,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/gualtieri/titanic-survivorship-analysis/output","text":"Output","title":"Output","tab":"output","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/gualtieri/titanic-survivorship-analysis/comments","text":"Comments","title":"Comments","tab":"comments","count":7,"showZeroCountExplicitly":true,"reportEventCategory":null,"reportEventType":null},{"href":"/gualtieri/titanic-survivorship-analysis/log","text":"Log","title":"Log","tab":"log","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/gualtieri/titanic-survivorship-analysis/versions","text":"Versions","title":"Versions","tab":"versions","count":55,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/gualtieri/titanic-survivorship-analysis/forks","text":"Forks","title":"Forks","tab":"forks","count":2,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null}],"rightMenuLinks":[],"callToAction":{"href":"/kernels/fork-version/725489","text":"Fork Script","title":"Fork Script","tab":null,"count":null,"showZeroCountExplicitly":false,"reportEventCategory":"kernels","reportEventType":"anonymousKernelForkCreation"},"voteButton":{"totalVotes":12,"hasAlreadyVotedUp":false,"hasAlreadyVotedDown":false,"canUpvote":true,"canDownvote":false,"voteUpUrl":"/kernels/vote?id=148389","voteDownUrl":null,"voters":[{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/263312-kg.png","displayName":"Jose Ángel Díaz García","profileUrl":"/joseadiazg02","tier":"Contributor","tierInt":1,"userId":263312,"userName":"joseadiazg02"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/495305-kg.jpg","displayName":"Megan Risdal","profileUrl":"/mrisdal","tier":"Master","tierInt":3,"userId":495305,"userName":"mrisdal"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/641256-gp.jpg","displayName":"YuYangLiu","profileUrl":"/c34klh123","tier":"Expert","tierInt":2,"userId":641256,"userName":"c34klh123"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/682667-kg.jpg","displayName":"Reinhard","profileUrl":"/reisel","tier":"Contributor","tierInt":1,"userId":682667,"userName":"reisel"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"James Thatcher","profileUrl":"/jamesethatcher","tier":"Novice","tierInt":0,"userId":843454,"userName":"jamesethatcher"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/851106-kg.JPG","displayName":"amyewa","profileUrl":"/amyewa","tier":"Contributor","tierInt":1,"userId":851106,"userName":"amyewa"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/859486-kg.jpg","displayName":"illusiontricky","profileUrl":"/illusiontricky","tier":"Contributor","tierInt":1,"userId":859486,"userName":"illusiontricky"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/859502-kg.jpg","displayName":"AlbertaHero","profileUrl":"/albertahero","tier":"Contributor","tierInt":1,"userId":859502,"userName":"albertahero"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/878270-kg.JPG","displayName":"Lu","profileUrl":"/luyujia","tier":"Contributor","tierInt":1,"userId":878270,"userName":"luyujia"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"quantum of cosmos","profileUrl":"/quantumofcosmos","tier":"Novice","tierInt":0,"userId":883088,"userName":"quantumofcosmos"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"vlugat","profileUrl":"/vlugat","tier":"Novice","tierInt":0,"userId":1044663,"userName":"vlugat"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"ramaswamikv","profileUrl":"/ramaswamikv","tier":"Novice","tierInt":0,"userId":1106026,"userName":"ramaswamikv"}],"currentUserInfo":null,"showVoters":true,"alwaysShowVoters":true},"parentDataSource":null,"parentName":"Titanic: Machine Learning from Disaster","parentUrl":"/c/titanic","thumbnailImageUrl":"https://storage.googleapis.com/kaggle-competitions/kaggle/3136/logos/thumb76_76.png","canWrite":false,"canAdminister":false,"datasetHidden":false,"forkParentIsRedacted":false,"forkDiffLinesChanged":0,"forkDiffLinesDeleted":0,"forkDiffLinesInserted":0,"forkDiffUrl":null,"forkParentAuthorDisplayName":null,"forkParentAuthorUrl":null,"forkParentTitle":null,"forkParentUrl":null,"canSeeDataExplorerV2":true,"canSeeRevampedViewer":true,"canSeeInnerTableOfContents":true,"canSeeCopyAndEditText":true,"simplifiedViewer":false,"kernelOutputDataset":null});performance && performance.mark && performance.mark("KernelViewer.componentCouldBootstrap");</script>

<form action="/gualtieri/titanic-survivorship-analysis" id="__AjaxAntiForgeryForm" method="post"><input name="X-XSRF-TOKEN" type="hidden" value="CfDJ8LdUzqlsSWBPr4Ce3rb9VL9x6byr-kyWxBdkotRB3L7UpzT3qZ7MlofY3MK3F1FsVv2FveGd0RlFkkQqX1BXXayxV6kIQigdrycqk1zP6r5yStgnzQAWYBniy-674TMqSkWyIjx0mJ5pwIXEq6CnOQ0" /></form>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        "HTML-CSS": {
            preferredFont: "TeX",
            availableFonts: ["STIX", "TeX"],
            linebreaks: {
                automatic: true
            },
            EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
        },
        tex2jax: {
            inlineMath: [["\\(", "\\)"], ["\\\\(", "\\\\)"]],
            displayMath: [["$$", "$$"], ["\\[", "\\]"]],
            processEscapes: true,
            ignoreClass: "tex2jax_ignore|dno"
        },
        TeX: {
            noUndefined: {
                attributes: {
                    mathcolor: "red",
                    mathbackground: "#FFEEEE",
                    mathsize: "90%"
                }
            }
        },
        Macros: {
            href: "{}"
        },
        skipStartupTypeset: true,
        messageStyle: "none"
    });
</script>
<script type="text/javascript" async crossorigin="anonymous" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



    </div>

        <div class="site-layout__footer">
            <footer class="site-footer">
    <div class="site-footer__content">
        <div class="site-footer__copyright">
            <span>&copy; 2019 Kaggle Inc</span>
        </div>
        <nav class="site-footer__nav">
            <a href="/team">Our Team</a>
            <a href="/terms">Terms</a>
            <a href="/privacy">Privacy</a>
            <a href="/contact">Contact/Support</a>
        </nav>
        <nav class="site-footer__social">
            <div data-component-name="SocialIcons" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push();performance && performance.mark && performance.mark("SocialIcons.componentCouldBootstrap");</script>
        </nav>
    </div>
</footer>

        </div>
</div>




    </main>
</body>
</html>
