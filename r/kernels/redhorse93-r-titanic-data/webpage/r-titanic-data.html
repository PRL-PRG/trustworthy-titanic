<!DOCTYPE html>
<html lang="en">
<head>
    <title>R&#xC744; &#xD65C;&#xC6A9;&#xD55C; Titanic data &#xBD84;&#xC11D; &#xAE30;&#xCD08; &#xACFC;&#xC815; | Kaggle</title>
    <meta charset="utf-8" />
    <meta name="robots" content="index, follow" />
    <meta name="turbolinks-cache-control" content="no-cache" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">    <meta name="theme-color" content="#008ABC" />
    <script type="text/javascript">
        window["initialPageLoadStartTime"] = new Date().getTime();
    </script>
    <link rel="dns-prefetch" href="https://www.google-analytics.com" /><link rel="dns-prefetch" href="https://stats.g.doubleclick.net" /><link rel="dns-prefetch" href="https://js.intercomcdn.com" /><link rel="dns-prefetch" href="https://storage.googleapis.com/" />
    <link href="/static/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link rel="manifest" href="/static/json/manifest.json">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic" rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type='text/css'/>
        <link rel="canonical" href="/redhorse93/r-titanic-data" />                    <link rel="stylesheet" type="text/css" href="/static/assets/vendor.css?v=632d145d8598" />
        <link rel="stylesheet" type="text/css" href="/static/assets/app.css?v=1d00932a7505" />
    
    
 
        <script>
        try{(function(a,s,y,n,c,h,i,d,e){d=s.createElement("style");
        d.appendChild(s.createTextNode(""));s.head.appendChild(d);d=d.sheet;
        y=y.map(x => d.insertRule(x + "{ opacity: 0 !important }"));
        h.start=1*new Date;h.end=i=function(){y.forEach(x => d.deleteRule(x))};
        (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
        })(window,document,['.site-header-react__nav'],'dataLayer',2000,{'GTM-52LNT9S':true});}catch{}
    </script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-12629138-1', {
            'optimize_id': 'GTM-52LNT9S',
            'displayFeaturesTask': null,
            'send_page_view': false
        });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12629138-1"></script>

    
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
            n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq("set", "autoConfig", "false", "136809193586742");
    fbq('init', '136809193586742'); 
    fbq('track', 'PageView');
</script>
<noscript>
    <img height="1" width="1" src="https://www.facebook.com/tr?id=136809193586742&ev=PageView&noscript=1"/>
</noscript>

<script>window.intercomSettings = {"app_id":"koj6gxx6"};</script>        <script>(function () { var w = window; var ic = w.Intercom; if (typeof ic === "function") { ic('reattach_activator'); ic('update', intercomSettings); } else { var d = document; var i = function () { i.c(arguments) }; i.q = []; i.c = function (args) { i.q.push(args) }; w.Intercom = i; function l() { var s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'https://widget.intercom.io/widget/koj6gxx6'; var x = d.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); } if (w.attachEvent) { w.attachEvent('onload', l); } else { w.addEventListener('load', l, false); } } })()</script>
    
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@kaggledatasets" />
    <meta name="og:url" content="https://kaggle.com/redhorse93/r-titanic-data" />
    <meta name="og:title" content="R&#xC744; &#xD65C;&#xC6A9;&#xD55C; Titanic data &#xBD84;&#xC11D; &#xAE30;&#xCD08; &#xACFC;&#xC815;" />
    <meta name="og:description" content="Using data from 2019 1st ML month with KaKR" />
    <meta name="og:image" content="https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png" />


    
    

    
    
    
<script type="text/javascript">
    var Kaggle = Kaggle || {};

    Kaggle.Current = {
        antiForgeryToken: 'CfDJ8LdUzqlsSWBPr4Ce3rb9VL-bG6yGmpnAFGW49zKEELVeu5XKuRRQMKlmtWo4joAFYXRswT9KGLMCsI4I4x1Rv0xcRQlcfWsBcQPp-7SA61UYXci2OEDGMcSZ8mILAlkEci_8pNDftZKpA74j8H3--jQ',
        isAnonymous: true,
        analyticsToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjAzMjYxMDksIlVzZXJJZCI6MH0.FF6dLCJn2ERZv6Czm8CjGsob5r0mH_w9UvqaQtNk1m0',
        analyticsTokenExpiry: 15,
        internetKernelsEnabled: false,
        
        
        
        
        
        
        
        
        
        
        
    }
        Kaggle.Current.log = function(){};
        Kaggle.Current.warn = function(){};

    var decodeUserDisplayName = function () {
        var escapedUserDisplayName = Kaggle.Current.userDisplayNameEscaped || "";
        try {
            var textVersion = new DOMParser().parseFromString(escapedUserDisplayName, "text/html").documentElement.textContent;
            if (textVersion) {
                return textVersion;
            }
        } catch(ex) {}
        return escapedUserDisplayName;
    }
    Kaggle.Current.userDisplayName = decodeUserDisplayName();
</script>

    

<script type="text/javascript">
    var Kaggle = Kaggle || {};
    Kaggle.PageMessages = [];
</script>

    
<script type="text/javascript">
/* <![CDATA[ */
goog_snippet_vars = function() {
    var w = window;
    w.google_conversion_id = 955616553;
    w.google_conversion_label = "QSjvCKDksHMQqZrWxwM";
    w.google_conversion_value = 0.00;
    w.google_conversion_currency = "USD";
    w.google_remarketing_only = false;
    w.google_conversion_language = "en";
    w.google_conversion_format = "3";
    w.google_conversion_color = "ffffff";
}
// DO NOT CHANGE THE CODE BELOW.
goog_report_conversion = function(url) {
    goog_snippet_vars();
    window.google_conversion_format = "3";
    var opt = new Object();
    opt.onload_callback = function() {
        if (typeof(url) != 'undefined') {
            window.location = url;
        }
    }
    var conv_handler = window['google_trackConversion'];
    if (typeof(conv_handler) == 'function') {
        conv_handler(opt);
    }
}
/* ]]> */
</script>
<script type="text/javascript"
src="//www.googleadservices.com/pagead/conversion_async.js">
</script>



        <script>window['useKaggleAnalytics'] = true;</script>

    <script src="/static/assets/vendor.js?v=4721d2c14786" data-turbolinks-track="reload"></script>
    <script src="/static/assets/app.js?v=1a3cd8c35fe7" data-turbolinks-track="reload"></script>
        <script>
            (function() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register("/static/assets/service-worker.js").then(function(reg) {
                        reg.onupdatefound = function() {
                            var installingWorker = reg.installing;
                            installingWorker.onstatechange = function() {
                                switch (installingWorker.state) {
                                case 'installed':
                                    if (navigator.serviceWorker.controller) {
                                        console.log('New or updated content is available.');
                                    } else {
                                        console.log('Content is now available offline!');
                                    }
                                    break;
                                case 'redundant':
                                    console.error('The installing service worker became redundant.');
                                    break;
                                }
                            };
                        };
                    }).catch(function(e) {
                      console.error('Error during service worker registration:', e);
                    });
                }
            })();
        </script>
    <script>
        function handleClientLoad() {
            try {
                gapi.load('client:auth2');
            } catch (e) {
                // In Opera, readystatechange is an unreliable detection of script load, causing
                // this function to be called before gapi exists on the window. The onload callback
                // is still called at the correct time, so the feature works as expected - it's
                // just generating noisy errors.
            }
        }
    </script>
    <script async defer src="https://apis.google.com/js/api.js"
            onload="this.googleApiOnLoad=function(){};handleClientLoad()"
            onreadystatechange="if (this.readyState === 'complete') this.googleApiOnLoad()">
    </script>
</head>
<body data-turbolinks="true">
    <main>
        






<div class="site-layout">
        <div class="site-layout__header">
            <div data-component-name="SiteHeaderContainer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({});performance && performance.mark && performance.mark("SiteHeaderContainer.componentCouldBootstrap");</script>
        </div>

    <div class="site-layout__main-content">
        

<div data-component-name="KernelViewer" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({"kernel":{"id":2842953,"title":"R을 활용한 Titanic data 분석 기초 과정","forkParent":null,"currentRunId":10292790,"mostRecentRunId":10392178,"url":"/redhorse93/r-titanic-data","tags":[{"name":"tutorial","slug":"tutorial","url":"/tags/tutorial"},{"name":"beginner","slug":"beginner","url":"/tags/beginner"},{"name":"data visualization","slug":"data-visualization","url":"/tags/data-visualization"},{"name":"feature engineering","slug":"feature-engineering","url":"/tags/feature-engineering"},{"name":"starter code","slug":"starter-code","url":"/tags/starter-code"}],"commentCount":0,"upvoteCount":9,"viewCount":855,"forkCount":9,"bestPublicScore":null,"author":{"id":2491657,"displayName":"Minsoon Lim","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"redhorse93","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","profileUrl":"/redhorse93","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":0,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"isPrivate":false,"updatedTime":"2019-02-05T23:01:33.9333333Z","selfLink":"/kernels/2842953","pinnedDockerImageVersionId":null,"isLanguageTemplate":false,"medal":null,"topicId":79687,"readGroupId":null,"writeGroupId":null,"slug":"r-titanic-data"},"kernelBlob":{"id":184775885,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"Competition","sourceId":12349,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\r\ntitle: \u0022Titanic classifier report\u0022\r\nauthor: \u0022MinSoon Lim\u0022\r\noutput: \r\n  html_document: \r\n    numbersection: yes\r\n    theme: yeti\r\n    toc: yes\r\n    toc_depth: 3\r\n---\r\n\r\n```{r setup, include=FALSE}\r\nknitr::opts_chunk$set(echo = TRUE)\r\n```\r\n\r\n***\r\n\r\n\u003cbr\u003e\r\n\r\n# 1. Introduction\r\n\r\n\u003cbr\u003e\r\n\r\n`Kaggle`의 대표적인 `Competition` 중 하나인 `Titanic`에 대한 분석과정을 담은 것 입니다.\r\n\r\n여러 `Kaggler`분들께서 `R Program`을 이용해서 작성하신 `kernel` 들을 참고했으며, 처음 `Kaggle`에 입문하시는 분들이 참고하실만한 자료가 되기를 바라면서 작성했습니다.\r\n\r\n해당 문서를 작성하면서 참고했던 `kernel`, 블로그 게시물, 책들은 `Chapter 7. Reference`에 있습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n# 2. 준비작업\r\n\r\n\u003cbr\u003e\r\n\r\n## 2.1 Packages \r\n\r\n\u003cbr\u003e\r\n\r\n`ggplot2`, `dplyr`와 같은 `R`의 대표적인 `Package`들 외에도 제가 분석하는데 사용한 `Package`들을 불러오는(장착하는) 과정입니다.\r\n\r\n각 목적별로 분류해놨으며, 개인적으로 자주 사용하는 함수들은 패키지옆에 추가로 주석을 달아놨습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r message=FALSE, warning=FALSE}\r\n# Data input, assesment : 데이터 불러들이기, 확인하는 과정 \r\nlibrary(readr)           # Data input with readr::read_csv()\r\nlibrary(descr)           # descr::CrossTable() - 범주별 빈도수, 비율 수치로 확인\r\n\r\n# Visualization\r\nlibrary(VIM)             # Missing values assesment used by VIM::aggr()\r\nlibrary(ggplot2)         # Used in almost visualization \r\nlibrary(RColorBrewer)    # plot의 color 설정 \r\nlibrary(scales)          # plot setting - x, y 축 설정\r\n\r\n# Feature engineering, Data Pre-processing\r\n# library(tidyverse)     # dplyr, ggplot2, purrr, etc... \r\nlibrary(dplyr)           # Feature Engineering \u0026 Data Pre-processing \r\nlibrary(purrr)           # Check missing values \r\nlibrary(tidyr)           # tidyr::gather() \r\n\r\n# Model generation  \r\nlibrary(randomForest)    # For Random Forest Modeling\r\n\r\n# Model validation : 원래는 하는게 맞지만 이번 과정에서는 생략\r\n# library(caret)           # caret::confusionMatrix() \r\n# library(ROCR)            # Plotting ROC Curve\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## multiplot() function generation \r\n\r\n\u003cbr\u003e\r\n\r\n한 화면에 여러개 `plot`들을 볼 때 유용한 함수가 `multiplot()` 입니다.\r\n\r\n하지만 제 개인 노트북의 문제인지 함수가 작동하지 않아서 `CRAN`을 참고하여 여기서 `multiplot()` 함수를 생성해서 사용했습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# Multiple plot function\r\n#\r\n# ggplot objects can be passed in ..., or to plotlist (as a list of ggplot objects)\r\n# - cols:   Number of columns in layout\r\n# - layout: A matrix specifying the layout. If present, \u0027cols\u0027 is ignored.\r\n#\r\n# If the layout is something like matrix(c(1,2,3,3), nrow=2, byrow=TRUE),\r\n# then plot 1 will go in the upper left, 2 will go in the upper right, and\r\n# 3 will go all the way across the bottom.\r\n#\r\n\r\nmultiplot \u003c- function(..., plotlist = NULL, file, cols = 1, layout = NULL) {\r\n  library(grid)\r\n  \r\n  # Make a list from the ... arguments and plotlist\r\n  plots \u003c- c(list(...), plotlist)\r\n  \r\n  numPlots = length(plots)\r\n  \r\n  # If layout is NULL, then use \u0027cols\u0027 to determine layout\r\n  if (is.null(layout)) {\r\n    # Make the panel\r\n    # ncol: Number of columns of plots\r\n    # nrow: Number of rows needed, calculated from # of cols\r\n    layout \u003c- matrix(seq(1, cols * ceiling(numPlots/cols)),\r\n                     ncol = cols, nrow = ceiling(numPlots/cols))\r\n  }\r\n  \r\n  if (numPlots==1) {\r\n    print(plots[[1]])\r\n    \r\n  } else {\r\n    # Set up the page\r\n    grid.newpage()\r\n    pushViewport(viewport(layout = grid.layout(nrow(layout), ncol(layout))))\r\n    \r\n    # Make each plot, in the correct location\r\n    for (i in 1:numPlots) {\r\n      # Get the i,j matrix positions of the regions that contain this subplot\r\n      matchidx \u003c- as.data.frame(which(layout == i, arr.ind = TRUE))\r\n      \r\n      print(plots[[i]], vp = viewport(layout.pos.row = matchidx$row,\r\n                                      layout.pos.col = matchidx$col))\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 2.2 Raw data import : 원본데이터 불러오기\r\n\r\n\u003cbr\u003e\r\n\r\n`titanic competition`에서는 `Model`을 생성하는데 사용하는 `train` data와 실제 예측(추정)에 사용하는 `test` data가 분리되어 있습니다.\r\n\r\n여기서는 저 2개 data들을 불러와서 하나로 묶을 것 입니다.\r\n따로 분리되어 있는 데이터들을 하나로 묶는 이유는 모델링에 사용되는 입력변수들을 Feature engineering, Pre-processing 할 때 동일하게 작업하기 위해서 입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r warning=FALSE, message=FALSE}\r\ntrain \u003c- readr::read_csv(\u0027../input/train.csv\u0027)\r\n\r\ntest  \u003c- readr::read_csv(\u0027../input/test.csv\u0027)\r\n\r\nfull \u003c- dplyr::bind_rows(train, test)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\nData들을 불러오는데 `read.csv()` 대신 `readr` 패키지의 `read_csv()`를 사용한 이유는 `read_csv()`가 조금 더 빠르게 메모리에 데이터를 올려주기 때문입니다.\r\n\r\n여기서 주의점은 문자열(`Character`)과 요인 변수(`Factor`)를 구별하지 못하고 모두 `Chr`속성으로 저장한다는 것입니다.\r\n\r\n추가로 두 데이터를 `full`로 합칠때도 `rbind()`를 사용하지 않은 이유는 `test` 에는 `Titanic competition`의 종속변수(타겟변수, Y)인 `Survived`가 존재하지 않기 때문입니다.\r\n\r\n따라서 두 데이터의 차원(`dimension`)이 맞지않아 `rbind()`로는 병합되지 않습니다.\r\n\r\n하지만 `dplyr::bind_rows()`를 사용하면 `test`의 `Survived`를 `NA`로 처리하면서 하나로 병합해줍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 2.3 변수 의미 설명\r\n\r\n\u003cbr\u003e\r\n\r\n각 변수들의 의미와 제가 지정한 속성들은 아래 표와 같습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n| 변수명        | 해석(의미)                       | Type      | \r\n|:-------------:|:---------------------------------|:----------|\r\n|**PassengerID**|승객을 구별하는 고유 ID number    |Int        |\r\n|**Survived**   |승객의 생존 여부를 나타내며 생존은 1, 사망은 0 입니다.|Factor|\r\n|**Pclass**     |선실의 등급으로서 1등급(1)부터 3등급(3)까지 3개 범주입니다.|Ord.Factor|\r\n|**Name**       |승객의 이름                       |Factor|\r\n|**Sex**        |승객의 성별                       |Factor|\r\n|**Age**        |승객의 나이                       |Numeric|\r\n|**SibSp**      |각 승객과 동반하는 형제 또는 배우자의 수를 설명하는 변수이며 0부터 8까지 존재합니다.                            |Integer|\r\n|**Parch**      |각 승객과 동반하는 부모님 또는 자녀의 수를 설명하는 변수이며 0부터 9까지 존재합니다.                            |Integer|\r\n|**Ticket**     |승객이 탑승한 티켓에 대한 문자열 변수|Factor|\r\n|**Fare**       |승객이 지금까지 여행하면서 지불한 금액에 대한 변수|Numeric|\r\n|**Cabin**      |각 승객의 선실을 구분하는 변수이며 범주와 결측치가 너무 많습니다.                                          |Factor|\r\n|**Embarked**   |승선항, 출항지를 나타내며 C, Q, S 3개 범주이다.|Factor|\r\n\r\n\u003cbr\u003e\r\n\r\n위 표에 써있는 내용보다 더 자세하고 명확하게 이해하고 싶으신 분들은 [여기](https://namu.wiki/w/RMS%20%ED%83%80%EC%9D%B4%ED%83%80%EB%8B%89)에 들어가보시기 바랍니다.\r\n\r\n불법링크는 아니며, 나무위키에서 타이타닉호에 대한 내용을 정리해놓은 것입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 2.4 Change the variables type : 변수 속성 변환\r\n\r\n\u003cbr\u003e\r\n\r\n본격적인 `EDA`와 `Feature engineering`에 앞서 몇 가지 변수 속성들을 변환하도록 하겠습니다.\r\n\r\n그 이유는 위에서도 설명했지만 `read.csv()`가 아니라 `readr::read_csv()`로 data들을 input하면서 `full`에는 `factor` 속성의 변수들이 없기도 하고 `Pclass`의 1, 2, 3은 1등급, 2등급, 3등급을 나타내는 `factor`이기 때문입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull \u003c- full %\u003e%\r\n  dplyr::mutate(Survived = factor(Survived),\r\n                Pclass   = factor(Pclass, ordered = T),\r\n                Name     = factor(Name),\r\n                Sex      = factor(Sex),\r\n                Ticket   = factor(Ticket),\r\n                Cabin    = factor(Cabin),\r\n                Embarked = factor(Embarked))\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n다음은 탐색적 데이터 분석입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n# 3. 탐색적 데이터 분석 (EDA : Exploratory data analysis)\r\n\r\n\u003cbr\u003e\r\n\r\n`Data`가 어떻게 구성이 되어 있고 그 안에 결측치(`Missing value`) 혹은 이상치(`Outlier`)가 존재하는지 등등 원시 데이터(`Raw data`)에 대해 탐색하고 이해하는 과정입니다.\r\n\r\n여기서는 다양한 `function`들과 시각화(`Visualization`)을 사용할 것입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 3.1 수치값을 활용한 data 확인\r\n\r\n가장 먼저 `head()`, `summary()` 등 다양한 함수들의 결과값(`Output`)들을 통해 data를 확인하도록 하겠습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n### 3.1.1 head()\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nhead(full, 10)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n`head()`의 결과를 보면 `Age`에 결측치(Missing value, **NA**)가 있음을 알 수 있습니다.\r\n\r\n그렇다면 전체 `data`에서 결측치는 `Age`만 있을까요?\r\n\r\n그에 대한 답은 3.2 Missing values 를 참고하시기 바랍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n### 3.1.2 str()\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nstr(full)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\nTrain, test data를 합쳐서 전체 관측치(레코드, 행, Row)는 총 1309개(train : 891, test : 418)이고 변수(열, Feature, variable, column)는 12개 임을 알 수 있습니다.\r\n\r\n그 외에도 각 변수들의 속성이 무엇인지와 `factor` 속성인 변수들에 범주가 몇 개인지까지 알 수 있습니다.\r\n\r\n또한 `head()`에서는 `Age`에만 존재하는 줄 알았던 결측치(**NA**)가 `Cabin`을 비롯한 다른 변수들에도 있음을 알 수 있습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n### 3.1.3 summary()\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nsummary(full)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n`summary()`는 data에 대한 많은 정보를 제공해줍니다.\r\n\r\n수량형(Integer, Numeric) 변수들의 대푯값들, 범주형(Factor) 변수들의 범주가 몇 개인지 그리고 각 범주에 속하는 관측치의 갯수들까지 모두 수치값들로 보여줍니다.\r\n\r\n여기서 확인하고 넘어갈 것들은 다음과 같습니다. \r\n\r\n1. `Survived` : 이번 `competition`의 타겟 변수이며 418개의 결측치는 Test data 때문입니다.\r\n\r\n2. `Pclass` : 1등급, 2등급, 3등급으로 범주가 세 개인데 3등급 승객이 가장 많습니다.\r\n\r\n3. `Name` : 이름이 비슷한 사람들이 있습니다. 따라서 혼자 탄 승객도 있지만 가족들과 같이 탑승한 승객도 있음을 알 수 있습니다.\r\n\r\n4. `Sex` : 남성이 여성보다 2배 가까이 더 많습니다.\r\n\r\n5. `Age` : 0.17부터 80세까지 있는데 17을 잘못 기입한 이상치 인건지 확인이 필요해보이며 263개의 결측치가 존재합니다.\r\n\r\n6. `SibSp` : 0부터 8까지 있는데 3분위수가 1이므로 부부 혹은 형제와 함께 Titanic호에 탑승했음을 알 수 있습니다.\r\n\r\n7. `Parch` : 0부터 9까지 있지만 3분위수가 0인 것을 통해서 부모, 자녀들과 함께 탄 승객들이 거의 없음을 알 수 있습니다. \r\n\r\n`SibSp`와 `Parch`는 모두 가족관계를 나타내는 변수들입니다. 이를 통해서 가족 중 누가 탔는지는 모르지만 동승한 인원이 총 몇 명인지 구하고, 그것을 바탕으로 가족의 규모를 나타내는 `FamilySized` 라는 범주형 파생변수를 만들 것 입니다. \r\n\r\n8. `Ticket` : `3.1.2 str()`의 결과와 같이보면 완전히 동일한 티켓을 가진 승객들도 있고, 티켓이 일정 부분만 겹치는 승객들도 있고 아예 다른 티켓을 가진 승객이 있음을 알 수 있습니다. 이것을 이용해서 `ticket.size`라는 파생변수를 만들 계획입니다.\r\n\r\n9. `Fare` : 0부터 512까지 있고 1개의 결측치가 있습니다. 3분위수가 31.275이며 최댓값이 512인게 신경쓰입니다.\r\n\r\n10. `Cabin` : 총 12개 Feature들 중에서 가장 많은(1014개) 결측치를 갖고 있습니다. 배의 구역을 나타내는 변수인데 활용할 방법이 없다면 버려야 될 것 같습니다.\r\n\r\n11. `Embarked` : 총 3개 범주로 구성이 되어있고 S가 가장 많으며 2개의 결측치가 있습니다.\r\n\r\n데이터에 대한 기본적인 탐색을 하실 때는 `summary()`와 `str()` 그 외에 다양한 함수들의 `output`들도 같이 비교해가면서 보시길 바랍니다. \r\n\r\n\u003cbr\u003e\r\n\r\n## 3.2 Missing values \r\n\r\n\u003cbr\u003e\r\n\r\n위에서 언급했던 결측치가 존재하는 변수는 무엇이고 또 얼마나 존재하는지 확인해보는 과정입니다.\r\n\r\n`dplyr`, `ggplot2`, `VIM` 패키지들을 이용해서 수치적으로 확인하면서 동시에 시각적으로도 확인해보려고 합니다.\r\n\r\n제가 실행한 모든 코드들을 사용하실 필요는 없으며, 독자분께서 읽으시면서 필요하시거나 좋다고 생각하는 부분들만 사용하셔도 됩니다.\r\n\r\n\u003cbr\u003e\r\n\r\n### 3.2.1 VIM packages\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nVIM::aggr(full, prop = FALSE, combined = TRUE, numbers = TRUE,\r\n          sortVars = TRUE, sortCombs = TRUE)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n### 3.2.2 tidyverse packages \r\n\r\n\u003cbr\u003e\r\n\r\n`VIM` 패키지를 이용해서 한 번에 결측치를 확인하는 것 외에 `tidyverse`에 존재하는 다양한 패키지들을 이용하여 결측치를 확인하는 방법들입니다. \r\n\r\n먼저 `dplyr`로 각 변수별 결측치 비율을 구하는 것 입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull %\u003e%\r\n  dplyr::summarize_all(funs(sum(is.na(.))/n()))\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n이렇게 변수들에 존재하는 결측치의 비율을 확인하는 방법도 있지만, 시각자료들을 이용해서도 확인할 수 있습니다.\r\n\r\n아래의 2개 `Bar plot`들을 봐주시기 바랍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 각 feature의 결측치 비율 계산 -\u003e Data Frame 속성 but 1행 12열 구조로 되어있음.\r\nmissing_values \u003c- full %\u003e%\r\n  dplyr::summarize_all(funs(sum(is.na(.))/n()))\r\n\r\n# 위에서 구한 missing_values를 12X2 data frame 으로 생성 \r\nmissing_values \u003c- tidyr::gather(missing_values,\r\n                                key = \u0022feature\u0022, value = \u0022missing_pct\u0022)\r\n\r\n# missing_values를 이용한 시각화 \r\nmissing_values %\u003e% \r\n  # Aesthetic setting : missing_pct 내림차순으로 정렬  \r\n  ggplot(aes(x = reorder(feature, missing_pct), y = missing_pct)) +\r\n  # Bar plot \r\n  geom_bar(stat = \u0022identity\u0022, fill = \u0022red\u0022) +\r\n  # Title generation \r\n  ggtitle(\u0022Rate of missing values in each features\u0022) +\r\n  # Title detail setting \r\n  theme(plot.title = element_text(face = \u0022bold\u0022,    # 글씨체 \r\n                                  hjust = 0.5,      # Horizon(가로비율) = 0.5\r\n                                  size = 15, color = \u0022darkblue\u0022)) +\r\n  # x, y axis label setting \r\n  labs(x = \u0022Feature names\u0022, y = \u0022Rate\u0022) + \r\n  # Plot의 x, y축 변환 \r\n  coord_flip()\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n위 막대 그래프를 보시면 모든 `feature`들에 대해 결측치 비율을 확인 할 수 있습니다. \r\n\r\n하지만 실질적으로 우리가 궁금한 것은 결측치가 존재하는 변수는 무엇인지와 그 안에 얼마나 되는 결측치가 존재하느냐입니다. \r\n\r\n때문에 `purrr` 패키지를 이용해서 결측치 비율을 계산한 후, 하나라도 존재하는 변수만 추출한 뒤에 시각화 해보았습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 변수별 결측치 비율 계산\r\nmiss_pct \u003c- purrr::map_dbl(full, function(x){round((sum(is.na(x))/length(x)) * 100, 1) })\r\n\r\n# 결측치 비율이 0%보다 큰 변수들만 선택\r\nmiss_pct \u003c- miss_pct[miss_pct \u003e 0]\r\n\r\n# Data Frame 생성 \r\ndata.frame(miss = miss_pct, var = names(miss_pct), row.names = NULL) %\u003e%\r\n  # Aesthetic setting : miss 내림차순으로 정렬 \r\n  ggplot(aes(x = reorder(var, miss), y = miss)) + \r\n  # Bar plot \r\n  geom_bar(stat = \u0027identity\u0027, fill = \u0027red\u0027) +\r\n  # Plot title setting \r\n  ggtitle(\u0022Rate of missing values\u0022) + \r\n  # Title detail setting \r\n  theme(plot.title = element_text(face = \u0022bold\u0022,    # 글씨체 \r\n                                  hjust = 0.5,      # Horizon(가로비율) = 0.5\r\n                                  size = 15, color = \u0022darkblue\u0022)) +\r\n  # x, y axis label setting \r\n  labs(x = \u0027Feature names\u0027, y = \u0027Rate of missing values\u0027) +\r\n  # Plot의 x, y축 변환 \r\n  coord_flip()\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n이를 통해 총 12개 변수들 중에서 4개 변수에만 결측치가 존재하며(`Survived`는 `test` data 때문이므로 제외) `Cabin`, `Age`, `Embarked`, `Fare` 순으로 결측치가 많음을 알 수 있습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n이제는 시각화를 통해서 `feature`를 분석, 탐색하는 과정입니다.\r\n\r\n## 3.3 Age\r\n\r\n\u003cbr\u003e\r\n\r\n```{r message=FALSE, warning=FALSE}\r\nage.p1 \u003c- full %\u003e% \r\n  ggplot(aes(Age)) + \r\n  # 히스토그램 그리기, 설정\r\n  geom_histogram(breaks = seq(0, 80, by = 1), # 간격 설정 \r\n                 col    = \u0022red\u0022,              # 막대 경계선 색깔 \r\n                 fill   = \u0022green\u0022,            # 막대 내부 색깔 \r\n                 alpha  = .5) +               # 막대 투명도 = 50% \r\n  # Plot title\r\n  ggtitle(\u0022All Titanic passengers age hitogram\u0022) +\r\n  theme(plot.title = element_text(face = \u0022bold\u0022,    # 글씨체 \r\n                                  hjust = 0.5,      # Horizon(가로비율) = 0.5\r\n                                  size = 15, color = \u0022darkblue\u0022))\r\n\r\nage.p2 \u003c- full %\u003e% \r\n  # test data set의 Survived == NA 인 값들 제외 \r\n  filter(!is.na(Survived)) %\u003e% \r\n  ggplot(aes(Age, fill = Survived)) + \r\n  geom_density(alpha = .5) +\r\n  ggtitle(\u0022Titanic passengers age density plot\u0022) + \r\n  theme(plot.title = element_text(face = \u0022bold\u0022, hjust = 0.5,\r\n                                  size = 15, color = \u0022darkblue\u0022))\r\n\r\n# multiplot layout 형식 지정\r\nmulti.layout = matrix(c(1, 1, 2, 2), 2, 2, byrow = T)\r\n\r\n# 위에서 생성한 2개의 그래프 한 화면에 출력 \r\nmultiplot(age.p1, age.p2, layout = multi.layout)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 3.4 Pclass\r\n\r\n\u003cbr\u003e\r\n\r\n각 `Pclass`에 해당하는 탑승객의 빈도수를 시각화 해보겠습니다.\r\n\r\n`dplyr`패키지를 활용해서 `Pclass`별로 집단화(그룹핑) 시킨 후 범주별 빈도수를 나타내는 `Data Frame`을 생성한 뒤에 `ggplot`으로 시각화 했습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r message=FALSE, warning=FALSE}\r\nfull %\u003e% \r\n  # dplyr::group_by(), summarize() 를 이용해서 Pclass 빈도수 구하기\r\n  group_by(Pclass) %\u003e% \r\n  summarize(N = n()) %\u003e% \r\n  # Aesthetic setting \r\n  ggplot(aes(Pclass, N)) +\r\n  geom_col() +\r\n  # Pclass 빈도수 plot에 출력 \r\n  geom_text(aes(label = N),        # Plot의 y에 해당하는 N(빈도수)를 매핑\r\n            size = 5,              # 글씨 크기 \r\n            vjust = 1.2,           # vertical(가로) 위치 설정 \r\n            color = \u0022#FFFFFF\u0022) +   # 글씨 색깔 : 흰색\r\n  # Plot title \r\n  ggtitle(\u0022Number of each Pclass\u0027s passengers\u0022) + \r\n  # Title setting \r\n  theme(plot.title = element_text(face = \u0022bold\u0022, hjust = 0.5, size = 15)) +\r\n  # x, y axis name change  \r\n  labs(x = \u0022Pclass\u0022, y = \u0022Count\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n3등급 객실에 탑승한 승객이 가장 많음을 알 수 있습니다.\r\n\r\n객실의 등급와 생존율이 연관있는지는 `Chapter5`에서 다루도록 하겠습니다. \r\n\r\n\u003cbr\u003e\r\n\r\n## 3.5 Fare\r\n\r\n\u003cbr\u003e\r\n\r\n탑승객이 지불한 금액을 나타내는 `Fare` 변수에 대한 시각화 입니다.\r\n\r\n히스토그램과 상자그림 두 개를 이용했습니다.\r\n\r\n```{r message=FALSE, warning=FALSE}\r\n# Histogram \r\nFare.p1 \u003c- full %\u003e%\r\n  ggplot(aes(Fare)) + \r\n  geom_histogram(col    = \u0022yellow\u0022,\r\n                 fill   = \u0022blue\u0022, \r\n                 alpha  = .5) +\r\n  ggtitle(\u0022Histogram of passengers Fare\u0022) +\r\n  theme(plot.title = element_text(face = \u0022bold\u0022, hjust = 0.5, size = 15))\r\n\r\n# Boxplot \r\nFare.p2 \u003c- full %\u003e%\r\n  filter(!is.na(Survived)) %\u003e% \r\n  ggplot(aes(Survived, Fare)) + \r\n  # 관측치를 회색점으로 찍되, 중복되는 부분은 퍼지게 그려줍니다.\r\n  geom_jitter(col = \u0022gray\u0022) + \r\n  # 상자그림 : 투명도 50% \r\n  geom_boxplot(alpha = .5) + \r\n  ggtitle(\u0022Boxplot of passengers Fare\u0022) +\r\n  theme(plot.title = element_text(face = \u0022bold\u0022, hjust = 0.5, size = 15))\r\n\r\n# multiplot layout 형식 지정\r\nmulti.layout = matrix(c(1, 1, 2, 2), 2, 2)\r\n\r\n# 위에서 생성한 2개의 그래프 한 화면에 출력 \r\nmultiplot(Fare.p1, Fare.p2, layout = multi.layout)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n생존자들이 사망한 승객들보다 `Fare`가 더 높지만 그렇게 큰 차이는 없음을 알 수 있습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 3.6 Sex \r\n\r\n남, 여 간에 생존율의 차이가 있을까요? 아래의 `plot`들을 보시기 바랍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nsex.p1 \u003c- full %\u003e% \r\n  dplyr::group_by(Sex) %\u003e% \r\n  summarize(N = n()) %\u003e% \r\n  ggplot(aes(Sex, N)) +\r\n  geom_col() +\r\n  geom_text(aes(label = N), size = 5, vjust = 1.2, color = \u0022#FFFFFF\u0022) + \r\n  ggtitle(\u0022Bar plot of Sex\u0022) +\r\n  labs(x = \u0022Sex\u0022, y = \u0022Count\u0022)\r\n  \r\nsex.p2 \u003c- full[1:891, ] %\u003e% \r\n  ggplot(aes(Sex, fill = Survived)) +\r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) +\r\n  scale_y_continuous(labels = percent) +\r\n  ggtitle(\u0022Survival Rate by Sex\u0022) + \r\n  labs(x = \u0022Sex\u0022, y = \u0022Rate\u0022)\r\n\r\nmulti.layout = matrix(rep(c(1, 2), times = 2), 2, 2, byrow = T)\r\n\r\nmultiplot(sex.p1, sex.p2, layout = multi.layout)\r\n\r\nmosaicplot(Survived ~ Sex,\r\n           data = full[1:891, ], col = TRUE,\r\n           main = \u0022Survival rate by passengers gender\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n그래프를 해석해보면, 남성이 여성보다 훨씬 많은 반면에 생존율은 여성 탑승객이 높음을 알 수 있습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n# 4. Feature engineering \u0026 Data Pre-processing \r\n\r\n\u003cbr\u003e\r\n\r\n`Chapter 3 EDA`의 내용들을 바탕으로 결측치(Missing value, `NA`)를 채우고 동시에 파생변수를 생성하는 과정입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.1 Age -\u003e Age.Group\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull \u003c- full %\u003e%\r\n  # 결측치(NA)를 먼저 채우는데 결측치를 제외한 값들의 평균으로 채움.\r\n  mutate(Age = ifelse(is.na(Age), mean(full$Age, na.rm = TRUE), Age),\r\n         # Age 값에 따라 범주형 파생 변수 Age.Group 를 생성\r\n         Age.Group = case_when(Age \u003c 13             ~ \u0022Age.0012\u0022,\r\n                               Age \u003e= 13 \u0026 Age \u003c 18 ~ \u0022Age.1317\u0022,\r\n                               Age \u003e= 18 \u0026 Age \u003c 60 ~ \u0022Age.1859\u0022,\r\n                               Age \u003e= 60            ~ \u0022Age.60inf\u0022),\r\n         # Chr 속성을 Factor로 변환 \r\n         Age.Group = factor(Age.Group))\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.3 SibSp \u0026 Parch -\u003e FamilySized\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull \u003c- full %\u003e% \r\n  # SibSp, Parch와 1(본인)을 더해서 FamilySize라는 파생변수를 먼저 생성  \r\n  mutate(FamilySize = .$SibSp + .$Parch + 1,\r\n         # FamilySize 의 값에 따라서 범주형 파생 변수 FamilySized 를 생성 \r\n         FamilySized = dplyr::case_when(FamilySize == 1 ~ \u0022Single\u0022,\r\n                                        FamilySize \u003e= 2 \u0026 FamilySize \u003c 5 ~ \u0022Small\u0022,\r\n                                        FamilySize \u003e= 5 ~ \u0022Big\u0022),\r\n         # Chr 속성인 FamilySized를 factor로 변환하고\r\n         # 집단 규모 크기에 따라 levels를 새로 지정\r\n         FamilySized = factor(FamilySized, levels = c(\u0022Single\u0022, \u0022Small\u0022, \u0022Big\u0022)))\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n`SibSp`, `Parch`를 이용해서 `FamilySized`를 만들었습니다.\r\n\r\n이렇게 두 개의 변수를 하나로 줄이면 모델이 더욱 단순해지는 장점이 있습니다.\r\n\r\n비슷한 사용 방법으로는 키와 체중을 합쳐서 BMI 지수로 만드는 것 입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.4 Name \u0026 Sex -\u003e title\r\n\r\n\u003cbr\u003e\r\n\r\n`Chapter 3.6 Sex`의 결과를 봤을 때 여성의 생존율이 남성보다 높은 것을 확인했었습니다. \r\n\r\n따라서 `Name`에서 \u0022성별과 관련된 이름만을 추출해서 범주화 시키면 쓸모있지 않을까?\u0022 라는 생각이듭니다.\r\n\r\n먼저 `full` data에서 `Name` 이라는 열벡터만 추출 한 뒤에 `title`로 저장합니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 우선 Name 열벡터만 추출해서 title 벡터에 저장 \r\ntitle \u003c- full$Name\r\n\r\n# 정규표현식과 gsub()을 이용해서 성별과 관련성이 높은 이름만 추출해서 title 벡터로 저장 \r\ntitle \u003c- gsub(\u0022^.*, (.*?)\\\\..*$\u0022, \u0022\\\\1\u0022, title)\r\n\r\n# 위에서 저장한 title 벡터를 다시 full 에 저장하되, title 파생변수로 저장 \r\nfull$title \u003c- title\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n그 다음 고유한(`Unique`한) `title`들에는 어떤 것들이 있는지 확인해봅니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nunique(full$title)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n총 18개의 범주가 있음을 알 수 있습니다.\r\n\r\n이 `title`이라는 파생변수를 그대로 사용할 경우 모델의(특히 Tree based model) 복잡도가 상당히 높아지기 때문에 범주를 줄여줘야합니다.\r\n\r\n그 전에 `descr`패키지를 이용해서 각 범주별 빈도수와 비율을 확인해보겠습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 범주별 빈도수, 비율 확인 \r\ndescr::CrossTable(full$title)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n18개나 되는 범주들의 빈도수와 비율이 너무 제각각입니다.\r\n\r\n따라서 이것들을 총 5개 범주로 줄이도록 하겠습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 5개 범주로 단순화 시키는 작업 \r\nfull \u003c- full %\u003e%\r\n  # \u0022%in%\u0022 대신 \u0022==\u0022을 사용하게되면 Recyling Rule 때문에 원하는대로 되지 않습니다.\r\n  mutate(title = ifelse(title %in% c(\u0022Mlle\u0022, \u0022Ms\u0022, \u0022Lady\u0022, \u0022Dona\u0022), \u0022Miss\u0022, title),\r\n         title = ifelse(title == \u0022Mme\u0022, \u0022Mrs\u0022, title),\r\n         title = ifelse(title %in% c(\u0022Capt\u0022, \u0022Col\u0022, \u0022Major\u0022, \u0022Dr\u0022, \u0022Rev\u0022, \u0022Don\u0022,\r\n                                     \u0022Sir\u0022, \u0022the Countess\u0022, \u0022Jonkheer\u0022), \u0022Officer\u0022, title),\r\n         title = factor(title))\r\n\r\n# 파생변수 생성 후 각 범주별 빈도수, 비율 확인 \r\ndescr::CrossTable(full$title)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.5 Ticket -\u003e ticket.size\r\n\r\n\u003cbr\u003e\r\n\r\n`Chapter 3.1.3 Summary()`에서도 봤지만 승객은 (`train`, `test` 합쳐서 모두) 1309명입니다. 그런데 모든 승객의 티켓이 다 다르지 않습니다.\r\n\r\n아래 `summary()`와 `unique()`의 결과를 보시기 바랍니다. \r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 고유한(unique한) 범주의 갯수만 파악하려고 length()를 사용했습니다.\r\nlength(unique(full$Ticket))\r\n\r\n# 모두 출력하면 너무 지저분해서 10개만 출력했습니다.\r\nhead(summary(full$Ticket), 10)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n결측치가 없는 `feature`인데 왜 고유한 티켓이 929개 일까요?\r\n\r\n심지어 티켓이 `CA. 2343`으로 완전히 같은 인원이 11명이나 됩니다.\r\n\r\n어떤 승객들인지 확인해보겠습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull %\u003e% \r\n  # 티켓이 일치하는 11명의 승객들만 필터링 \r\n  filter(Ticket == \u0022CA. 2343\u0022) %\u003e% \r\n  # 모든 변수에 대해 확인할 필요는 없으므로 아래 변수들만 보려고 합니다.\r\n  select(Pclass, Name, Age, FamilySized)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n위 11명의 승객들은 모두 같은 가족, 형제들인 것을 알 수 있습니다.\r\n\r\n이렇게 티켓이 완전히 동일한 승객들이 있는 반면에 일부분만 일치하는 승객들도 존재합니다.\r\n\r\n이런 티켓의 고유한 넘버(글자수) 갯수를 나타내는 `ticket.unique` 파생변수를 만들고\r\n\r\n`ticket.unique`를 바탕으로 3개 범주를 갖는 `ticket.size` 파생변수를 만들어 봅시다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 우선 ticket.unique가 모두 0이라고 저장함\r\nticket.unique \u003c- rep(0, nrow(full))\r\n\r\n# Ticket Feature에서 고유한 것들만 추출해서 tickets 벡터에 저장 \r\ntickets \u003c- unique(full$Ticket)\r\n\r\n# 반복문을 중첩 활용해서 티켓이 같은 승객들만 추출 후, 각 티켓들의 길이(문자 갯수)를 추출해서 저장한다.\r\nfor (i in 1:length(tickets)) {\r\n  current.ticket \u003c- tickets[i]\r\n  party.indexes \u003c- which(full$Ticket == current.ticket)\r\n    # For loop 중첩 \r\n    for (k in 1:length(party.indexes)) {\r\n    ticket.unique[party.indexes[k]] \u003c- length(party.indexes)\r\n    }\r\n  }\r\n\r\n# 위에서 계산한 ticket.unique 을 파생변수로 저장 \r\nfull$ticket.unique \u003c- ticket.unique\r\n\r\n# ticket.unique에 따라 세가지 범주로 나눠서 ticket.size 변수 생성 \r\nfull \u003c- full %\u003e% \r\n  mutate(ticket.size = case_when(ticket.unique == 1 ~ \u0027Single\u0027,\r\n                                 ticket.unique \u003c 5 \u0026 ticket.unique \u003e= 2 ~ \u0022Small\u0022,\r\n                                 ticket.unique \u003e= 5 ~ \u0022Big\u0022),\r\n         ticket.size = factor(ticket.size,\r\n                              levels = c(\u0022Single\u0022, \u0022Small\u0022, \u0022Big\u0022)))\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.6 Embarked\r\n\r\n\u003cbr\u003e\r\n\r\n결측치(Missing value, `NA`)가 2개 있던 `feature` 입니다.\r\n`Embarked`의 경우 3개 범주 중에서 가장 최빈값인 `S`로 치환하도록 합니다. \r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull$Embarked \u003c- replace(full$Embarked,               # 치환할 Data$feature 지정\r\n                         which(is.na(full$Embarked)), # 결측치들만 찾기\r\n                         \u0027S\u0027)                         # 치환할 값 지정 \r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.7 Fare\r\n\r\n\u003cbr\u003e\r\n\r\n`Fare`의 경우 결측치가 유일하게 1개 있었습니다.\r\n\r\n위에서 본 히스토그램(`Chapter 3.5 Fare`)을 바탕으로 결측치를 0으로 치환해줍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull$Fare \u003c- replace(full$Fare, which(is.na(full$Fare)), 0)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n여기까지 하시면 데이터 전처리가 모두 끝난 것입니다.\r\n\r\n다음은 지금까지 만든 파생변수들을 탐색하면서 모델 생성에 사용할 변수들을 선택하는 과정입니다.\r\n\r\n즉, `Feature selection` 이라고 보시면 됩니다.\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n# 5. Relationship to target feature `Survived` \u0026 Feature selection \r\n\r\n\u003cbr\u003e\r\n\r\n본격적인 시각화에 앞서, 여기서는 각 변수들이 생존율과 얼마나 연관성이 높은지를 보는것이 목적이기 때문에 `full` data 전체를 사용하지 않고, 생존과 사망여부를 알 수 있는 `train` data set만 사용하였습니다.\r\n\r\n그리고 위에서 사용한 `plot`들이 그대로 중복된 경우도 있으니 참고하시기 바랍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.0 Data set split \r\n\r\n먼저 아래 코드를 이용해서 전처리가 끝난 `full` data를 `train`, `test`로 분할합니다.\r\n\r\n```{r}\r\n# feature selection 전이므로 우선은 모든 변수들을 선택합니다.\r\ntrain \u003c- full[1:891, ]\r\n\r\ntest \u003c- full[892:1309, ]\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.1 Pclass\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(Pclass, fill = Survived)) + \r\n  geom_bar(position = \u0022fill\u0022) +\r\n  # plot 테마 설정 : 조금 더 선명한 색깔로 변환해준다.\r\n  scale_fill_brewer(palette = \u0022Set1\u0022) +\r\n  # Y axis setting \r\n  scale_y_continuous(labels = percent) +\r\n  # x, y 축 이름과 plot의 main title, sub title 설정 \r\n  labs(x = \u0022Pclass\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022How many people survived in each Pclass?\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.2 Sex\r\n\r\n\u003cbr\u003e\r\n\r\n**`Chapter 3.6 Sex`와 동일합니다.**\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nmosaicplot(Survived ~ Sex,\r\n           data = train, col = TRUE,\r\n           main = \u0022Survival rate by passengers gender\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.3 Embarked\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(Embarked, fill = Survived)) +\r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) +\r\n  scale_y_continuous(labels = percent) +\r\n  labs(x = \u0022Embarked\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022How many people survived in each Embarked?\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.4 FamilySized\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(FamilySized, fill = Survived)) + \r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) + \r\n  scale_y_continuous(labels = percent) +\r\n  labs(x = \u0022FamilySized\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022Survival rate by FamilySized\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n동승한 인원수에 따라 생존율에 차이가 있고 `FamilySized`와 `Survived`는 비선형 관계임을 알 수 있습니다.\r\n\r\n## 5.5 Age.Group\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(Age.Group, fill = Survived)) + \r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) + \r\n  scale_y_continuous(labels = percent) +\r\n  labs(x = \u0022Age group\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022Survival rate by Age group\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.6 title\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(title, fill = Survived)) + \r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) + \r\n  scale_y_continuous(labels = percent) +\r\n  labs(x = \u0022title\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022Survival rate by passengers title\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.7 ticket.size\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(ticket.size, fill = Survived)) + \r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) + \r\n  scale_y_continuous(labels = percent) +\r\n  labs(x = \u0022ticket.size\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022Survival rate by ticket.size\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.8 Description of actual used features\r\n\r\n\u003cbr\u003e\r\n\r\n지금까지 생성한 파생변수들이 모두 유용함을 알았으니 실제로 사용할 변수들만 선택해서 저장하도록 합니다. \r\n\r\n아래 표는 실제 선택한 변수들에 대한 간단한 설명들입니다.\r\n\r\n| 변수명        | Type   | 설명                     | \r\n|:-------------:|:-------|:----------------------------------------------------------|\r\n|**Survived**   | factor | Target feature, 생존 == 1, 사망 == 0 |\r\n|**Sex**        | factor | 성별, `male` or `female` |\r\n|**Pclass**     | factor | 선실 등급, 1등급(1), 2등급(2), 3등급(3) |\r\n|**Embarked**   | factor | 승선항, 사우샘프턴(S), 셸부르(C), 퀸즈타운(Q) |\r\n|**FamilySized**| factor | 가족의 규모, `SibSp`와 `Parch`를 이용해서 만든 파생변수, 범주는 3개     |\r\n|**Age.Group**  | factor | 연령대, `Age`를 이용해서 만든 파생변수, 범주는 4개 |\r\n|**title**      | factor | 이름의 일부분, `Name`을 이용해서 만든 파생변수, 범주는 5개 |\r\n|**ticket.size**| factor | 티켓의 고유한 부분의 길이, `ticket`을 이용해서 만든 파생변수, 범주는 3개 |\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# Id number 제외하고 실제로 사용할 7개 입력변수와 1개의 타겟변수를 선택, 저장 \r\ntrain \u003c- train %\u003e% \r\n  select(\u0022Pclass\u0022, \u0022Sex\u0022, \u0022Embarked\u0022, \u0022FamilySized\u0022,\r\n         \u0022Age.Group\u0022, \u0022title\u0022, \u0022ticket.size\u0022, \u0022Survived\u0022)\r\n\r\n# Submit을 위해서 Id 열벡터 추출해서 ID에 저장 \r\nID \u003c- test$PassengerId\r\n\r\n# Id와 Survived를 제외한 나머지 6개 변수들을 선택, 저장 \r\ntest \u003c- test %\u003e% \r\n  select(\u0022Pclass\u0022, \u0022Sex\u0022, \u0022Embarked\u0022, \u0022FamilySized\u0022,\r\n         \u0022Age.Group\u0022, \u0022title\u0022, \u0022ticket.size\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n# 6. Machine learning model generation\r\n\r\n\u003cbr\u003e \r\n\r\n본격적으로 `train` data set을 이용해서 기계학습 모델을 생성할 차례입니다.\r\n\r\n원래는 `train`, `validation`, `test` data set들을 먼저 만들고 다양한 모델들을 생성 한 후에 교차검증(`CV`, Cross Validation)를 거쳐서 최종 모델을 선택하는게 맞지만 여기서는 그런 과정들을 생략하고 `RandomForest` 만을 생성한 뒤에 `test` data를 예측(추정) 해보고 `competition`에 `Submit`할 data를 만드는 것 까지 해보겠습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 6.1 Random Forest model generation \r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 재현성을 위해서 seed number를 설정해줍니다.\r\nset.seed(1901)\r\n\r\ntitanic.rf \u003c- randomForest(Survived ~ ., data = train, importance = T, ntree = 2000)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 6.2 Feature importance check\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nimportance(titanic.rf)\r\n\r\nvarImpPlot(titanic.rf)\r\n```\r\n\r\n## 6.3 Predict test data and create submit data\r\n\r\n\u003cbr\u003e\r\n\r\n```{r eval=FALSE}\r\n# Prediction \r\npred.rf \u003c- predict(object = titanic.rf, newdata = test, type = \u0022class\u0022)\r\n\r\n# Data frame generation \r\nsubmit \u003c- data.frame(PassengerID = ID, Survived = pred.rf)\r\n\r\n# Write the submit data frame to file : setwd()로 지정해놓은 폴더에 csv로 생성됩니다.\r\nwrite.csv(submit, file = \u0027./titanic_submit.csv\u0027, row.names = F)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n여기까지가 `R`을 이용한 `Titanic` 데이터 분석입니다.\r\n\r\n긴 글 읽어주셔서 감사하고 많은 피드백과 조언들 부탁드립니다.\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n\r\n# 7. Reference : 참고문헌 \r\n\r\n1. [\u0027Megan Risdal\u0027 titanic kernel](https://www.kaggle.com/mrisdal)\r\n\r\n2. [\u0027Heads or Tails\u0027 titanic kernel](https://www.kaggle.com/headsortails)\r\n\r\n3. [Hitesh palamada - Head Start for Data Scientist](https://www.kaggle.com/hiteshp/head-start-for-data-scientist)\r\n\r\n4. [나무위키 - RMS 타이타닉](https://namu.wiki/w/RMS%20%ED%83%80%EC%9D%B4%ED%83%80%EB%8B%89)\r\n\r\n5. R을 활용한 데이터 과학(인사이트), Garrett Grolemund, Hadley Wickham 지음, 김설기, 최혜민 옮김, 978-89-6626-235-9 : tidyverse를 이해하기 가장 좋은 책 \r\n\r\n6. [tidyr::gather() - Software Carpentry](https://statkclee.github.io/r-novice-gapminder/14-tidyr-kr.html)\r\n\r\n7. 머신러닝 탐구생활(비제이퍼블릭), 정권우 지음, 979-11-86697-69-6 : Data 분석 노트(표) 작성하는데 많은 도움을 받았습니다.\r\n\r\n\u003cbr\u003e\r\n","dateCreated":"2019-02-05T23:01:33.4708813Z"},"kernelRun":{"id":10292790,"kernelId":2842953,"status":"complete","type":"batch","sourceType":"script","language":"rmarkdown","title":"R을 활용한 Titanic data 분석 기초 과정","dateCreated":"2019-02-05T23:01:33.617Z","dateEvaluated":"2019-02-05T23:01:33.933Z","workerContainerPort":null,"workerUptimeSeconds":152041,"workerIPAddress":"172.20.0.153   ","scriptLanguageId":5,"scriptLanguageName":"RMarkdown","renderedOutputUrl":"https://www.kaggleusercontent.com/kf/10292790/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..d3K6JK9UYYRjhhaEw-w9-Q.6bBBN3cA_afsxgBnO6Tz3NOW1MHGNyu1SmULmHNfn_rRwJPG_qj7Lwzs7vRdvxP6W8yPvR7gsu2OLy7j_lnqRRLbJuB1Hu4rS2EP4OOS4QhF84V2N4kWMSnmVs3a2P5fbLvytf-zCrkbKNLQC3ZZQg.STrs1QUr56lyQC8OxVOipA/__results__.html","commit":{"id":184775885,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"Competition","sourceId":12349,"databundleVersionId":null}],"sourceType":"script","language":"rmarkdown","isGpuEnabled":false,"isInternetEnabled":false},"source":"---\r\ntitle: \u0022Titanic classifier report\u0022\r\nauthor: \u0022MinSoon Lim\u0022\r\noutput: \r\n  html_document: \r\n    numbersection: yes\r\n    theme: yeti\r\n    toc: yes\r\n    toc_depth: 3\r\n---\r\n\r\n```{r setup, include=FALSE}\r\nknitr::opts_chunk$set(echo = TRUE)\r\n```\r\n\r\n***\r\n\r\n\u003cbr\u003e\r\n\r\n# 1. Introduction\r\n\r\n\u003cbr\u003e\r\n\r\n`Kaggle`의 대표적인 `Competition` 중 하나인 `Titanic`에 대한 분석과정을 담은 것 입니다.\r\n\r\n여러 `Kaggler`분들께서 `R Program`을 이용해서 작성하신 `kernel` 들을 참고했으며, 처음 `Kaggle`에 입문하시는 분들이 참고하실만한 자료가 되기를 바라면서 작성했습니다.\r\n\r\n해당 문서를 작성하면서 참고했던 `kernel`, 블로그 게시물, 책들은 `Chapter 7. Reference`에 있습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n# 2. 준비작업\r\n\r\n\u003cbr\u003e\r\n\r\n## 2.1 Packages \r\n\r\n\u003cbr\u003e\r\n\r\n`ggplot2`, `dplyr`와 같은 `R`의 대표적인 `Package`들 외에도 제가 분석하는데 사용한 `Package`들을 불러오는(장착하는) 과정입니다.\r\n\r\n각 목적별로 분류해놨으며, 개인적으로 자주 사용하는 함수들은 패키지옆에 추가로 주석을 달아놨습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r message=FALSE, warning=FALSE}\r\n# Data input, assesment : 데이터 불러들이기, 확인하는 과정 \r\nlibrary(readr)           # Data input with readr::read_csv()\r\nlibrary(descr)           # descr::CrossTable() - 범주별 빈도수, 비율 수치로 확인\r\n\r\n# Visualization\r\nlibrary(VIM)             # Missing values assesment used by VIM::aggr()\r\nlibrary(ggplot2)         # Used in almost visualization \r\nlibrary(RColorBrewer)    # plot의 color 설정 \r\nlibrary(scales)          # plot setting - x, y 축 설정\r\n\r\n# Feature engineering, Data Pre-processing\r\n# library(tidyverse)     # dplyr, ggplot2, purrr, etc... \r\nlibrary(dplyr)           # Feature Engineering \u0026 Data Pre-processing \r\nlibrary(purrr)           # Check missing values \r\nlibrary(tidyr)           # tidyr::gather() \r\n\r\n# Model generation  \r\nlibrary(randomForest)    # For Random Forest Modeling\r\n\r\n# Model validation : 원래는 하는게 맞지만 이번 과정에서는 생략\r\n# library(caret)           # caret::confusionMatrix() \r\n# library(ROCR)            # Plotting ROC Curve\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## multiplot() function generation \r\n\r\n\u003cbr\u003e\r\n\r\n한 화면에 여러개 `plot`들을 볼 때 유용한 함수가 `multiplot()` 입니다.\r\n\r\n하지만 제 개인 노트북의 문제인지 함수가 작동하지 않아서 `CRAN`을 참고하여 여기서 `multiplot()` 함수를 생성해서 사용했습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# Multiple plot function\r\n#\r\n# ggplot objects can be passed in ..., or to plotlist (as a list of ggplot objects)\r\n# - cols:   Number of columns in layout\r\n# - layout: A matrix specifying the layout. If present, \u0027cols\u0027 is ignored.\r\n#\r\n# If the layout is something like matrix(c(1,2,3,3), nrow=2, byrow=TRUE),\r\n# then plot 1 will go in the upper left, 2 will go in the upper right, and\r\n# 3 will go all the way across the bottom.\r\n#\r\n\r\nmultiplot \u003c- function(..., plotlist = NULL, file, cols = 1, layout = NULL) {\r\n  library(grid)\r\n  \r\n  # Make a list from the ... arguments and plotlist\r\n  plots \u003c- c(list(...), plotlist)\r\n  \r\n  numPlots = length(plots)\r\n  \r\n  # If layout is NULL, then use \u0027cols\u0027 to determine layout\r\n  if (is.null(layout)) {\r\n    # Make the panel\r\n    # ncol: Number of columns of plots\r\n    # nrow: Number of rows needed, calculated from # of cols\r\n    layout \u003c- matrix(seq(1, cols * ceiling(numPlots/cols)),\r\n                     ncol = cols, nrow = ceiling(numPlots/cols))\r\n  }\r\n  \r\n  if (numPlots==1) {\r\n    print(plots[[1]])\r\n    \r\n  } else {\r\n    # Set up the page\r\n    grid.newpage()\r\n    pushViewport(viewport(layout = grid.layout(nrow(layout), ncol(layout))))\r\n    \r\n    # Make each plot, in the correct location\r\n    for (i in 1:numPlots) {\r\n      # Get the i,j matrix positions of the regions that contain this subplot\r\n      matchidx \u003c- as.data.frame(which(layout == i, arr.ind = TRUE))\r\n      \r\n      print(plots[[i]], vp = viewport(layout.pos.row = matchidx$row,\r\n                                      layout.pos.col = matchidx$col))\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 2.2 Raw data import : 원본데이터 불러오기\r\n\r\n\u003cbr\u003e\r\n\r\n`titanic competition`에서는 `Model`을 생성하는데 사용하는 `train` data와 실제 예측(추정)에 사용하는 `test` data가 분리되어 있습니다.\r\n\r\n여기서는 저 2개 data들을 불러와서 하나로 묶을 것 입니다.\r\n따로 분리되어 있는 데이터들을 하나로 묶는 이유는 모델링에 사용되는 입력변수들을 Feature engineering, Pre-processing 할 때 동일하게 작업하기 위해서 입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r warning=FALSE, message=FALSE}\r\ntrain \u003c- readr::read_csv(\u0027../input/train.csv\u0027)\r\n\r\ntest  \u003c- readr::read_csv(\u0027../input/test.csv\u0027)\r\n\r\nfull \u003c- dplyr::bind_rows(train, test)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\nData들을 불러오는데 `read.csv()` 대신 `readr` 패키지의 `read_csv()`를 사용한 이유는 `read_csv()`가 조금 더 빠르게 메모리에 데이터를 올려주기 때문입니다.\r\n\r\n여기서 주의점은 문자열(`Character`)과 요인 변수(`Factor`)를 구별하지 못하고 모두 `Chr`속성으로 저장한다는 것입니다.\r\n\r\n추가로 두 데이터를 `full`로 합칠때도 `rbind()`를 사용하지 않은 이유는 `test` 에는 `Titanic competition`의 종속변수(타겟변수, Y)인 `Survived`가 존재하지 않기 때문입니다.\r\n\r\n따라서 두 데이터의 차원(`dimension`)이 맞지않아 `rbind()`로는 병합되지 않습니다.\r\n\r\n하지만 `dplyr::bind_rows()`를 사용하면 `test`의 `Survived`를 `NA`로 처리하면서 하나로 병합해줍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 2.3 변수 의미 설명\r\n\r\n\u003cbr\u003e\r\n\r\n각 변수들의 의미와 제가 지정한 속성들은 아래 표와 같습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n| 변수명        | 해석(의미)                       | Type      | \r\n|:-------------:|:---------------------------------|:----------|\r\n|**PassengerID**|승객을 구별하는 고유 ID number    |Int        |\r\n|**Survived**   |승객의 생존 여부를 나타내며 생존은 1, 사망은 0 입니다.|Factor|\r\n|**Pclass**     |선실의 등급으로서 1등급(1)부터 3등급(3)까지 3개 범주입니다.|Ord.Factor|\r\n|**Name**       |승객의 이름                       |Factor|\r\n|**Sex**        |승객의 성별                       |Factor|\r\n|**Age**        |승객의 나이                       |Numeric|\r\n|**SibSp**      |각 승객과 동반하는 형제 또는 배우자의 수를 설명하는 변수이며 0부터 8까지 존재합니다.                            |Integer|\r\n|**Parch**      |각 승객과 동반하는 부모님 또는 자녀의 수를 설명하는 변수이며 0부터 9까지 존재합니다.                            |Integer|\r\n|**Ticket**     |승객이 탑승한 티켓에 대한 문자열 변수|Factor|\r\n|**Fare**       |승객이 지금까지 여행하면서 지불한 금액에 대한 변수|Numeric|\r\n|**Cabin**      |각 승객의 선실을 구분하는 변수이며 범주와 결측치가 너무 많습니다.                                          |Factor|\r\n|**Embarked**   |승선항, 출항지를 나타내며 C, Q, S 3개 범주이다.|Factor|\r\n\r\n\u003cbr\u003e\r\n\r\n위 표에 써있는 내용보다 더 자세하고 명확하게 이해하고 싶으신 분들은 [여기](https://namu.wiki/w/RMS%20%ED%83%80%EC%9D%B4%ED%83%80%EB%8B%89)에 들어가보시기 바랍니다.\r\n\r\n불법링크는 아니며, 나무위키에서 타이타닉호에 대한 내용을 정리해놓은 것입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 2.4 Change the variables type : 변수 속성 변환\r\n\r\n\u003cbr\u003e\r\n\r\n본격적인 `EDA`와 `Feature engineering`에 앞서 몇 가지 변수 속성들을 변환하도록 하겠습니다.\r\n\r\n그 이유는 위에서도 설명했지만 `read.csv()`가 아니라 `readr::read_csv()`로 data들을 input하면서 `full`에는 `factor` 속성의 변수들이 없기도 하고 `Pclass`의 1, 2, 3은 1등급, 2등급, 3등급을 나타내는 `factor`이기 때문입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull \u003c- full %\u003e%\r\n  dplyr::mutate(Survived = factor(Survived),\r\n                Pclass   = factor(Pclass, ordered = T),\r\n                Name     = factor(Name),\r\n                Sex      = factor(Sex),\r\n                Ticket   = factor(Ticket),\r\n                Cabin    = factor(Cabin),\r\n                Embarked = factor(Embarked))\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n다음은 탐색적 데이터 분석입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n# 3. 탐색적 데이터 분석 (EDA : Exploratory data analysis)\r\n\r\n\u003cbr\u003e\r\n\r\n`Data`가 어떻게 구성이 되어 있고 그 안에 결측치(`Missing value`) 혹은 이상치(`Outlier`)가 존재하는지 등등 원시 데이터(`Raw data`)에 대해 탐색하고 이해하는 과정입니다.\r\n\r\n여기서는 다양한 `function`들과 시각화(`Visualization`)을 사용할 것입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 3.1 수치값을 활용한 data 확인\r\n\r\n가장 먼저 `head()`, `summary()` 등 다양한 함수들의 결과값(`Output`)들을 통해 data를 확인하도록 하겠습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n### 3.1.1 head()\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nhead(full, 10)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n`head()`의 결과를 보면 `Age`에 결측치(Missing value, **NA**)가 있음을 알 수 있습니다.\r\n\r\n그렇다면 전체 `data`에서 결측치는 `Age`만 있을까요?\r\n\r\n그에 대한 답은 3.2 Missing values 를 참고하시기 바랍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n### 3.1.2 str()\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nstr(full)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\nTrain, test data를 합쳐서 전체 관측치(레코드, 행, Row)는 총 1309개(train : 891, test : 418)이고 변수(열, Feature, variable, column)는 12개 임을 알 수 있습니다.\r\n\r\n그 외에도 각 변수들의 속성이 무엇인지와 `factor` 속성인 변수들에 범주가 몇 개인지까지 알 수 있습니다.\r\n\r\n또한 `head()`에서는 `Age`에만 존재하는 줄 알았던 결측치(**NA**)가 `Cabin`을 비롯한 다른 변수들에도 있음을 알 수 있습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n### 3.1.3 summary()\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nsummary(full)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n`summary()`는 data에 대한 많은 정보를 제공해줍니다.\r\n\r\n수량형(Integer, Numeric) 변수들의 대푯값들, 범주형(Factor) 변수들의 범주가 몇 개인지 그리고 각 범주에 속하는 관측치의 갯수들까지 모두 수치값들로 보여줍니다.\r\n\r\n여기서 확인하고 넘어갈 것들은 다음과 같습니다. \r\n\r\n1. `Survived` : 이번 `competition`의 타겟 변수이며 418개의 결측치는 Test data 때문입니다.\r\n\r\n2. `Pclass` : 1등급, 2등급, 3등급으로 범주가 세 개인데 3등급 승객이 가장 많습니다.\r\n\r\n3. `Name` : 이름이 비슷한 사람들이 있습니다. 따라서 혼자 탄 승객도 있지만 가족들과 같이 탑승한 승객도 있음을 알 수 있습니다.\r\n\r\n4. `Sex` : 남성이 여성보다 2배 가까이 더 많습니다.\r\n\r\n5. `Age` : 0.17부터 80세까지 있는데 17을 잘못 기입한 이상치 인건지 확인이 필요해보이며 263개의 결측치가 존재합니다.\r\n\r\n6. `SibSp` : 0부터 8까지 있는데 3분위수가 1이므로 부부 혹은 형제와 함께 Titanic호에 탑승했음을 알 수 있습니다.\r\n\r\n7. `Parch` : 0부터 9까지 있지만 3분위수가 0인 것을 통해서 부모, 자녀들과 함께 탄 승객들이 거의 없음을 알 수 있습니다. \r\n\r\n`SibSp`와 `Parch`는 모두 가족관계를 나타내는 변수들입니다. 이를 통해서 가족 중 누가 탔는지는 모르지만 동승한 인원이 총 몇 명인지 구하고, 그것을 바탕으로 가족의 규모를 나타내는 `FamilySized` 라는 범주형 파생변수를 만들 것 입니다. \r\n\r\n8. `Ticket` : `3.1.2 str()`의 결과와 같이보면 완전히 동일한 티켓을 가진 승객들도 있고, 티켓이 일정 부분만 겹치는 승객들도 있고 아예 다른 티켓을 가진 승객이 있음을 알 수 있습니다. 이것을 이용해서 `ticket.size`라는 파생변수를 만들 계획입니다.\r\n\r\n9. `Fare` : 0부터 512까지 있고 1개의 결측치가 있습니다. 3분위수가 31.275이며 최댓값이 512인게 신경쓰입니다.\r\n\r\n10. `Cabin` : 총 12개 Feature들 중에서 가장 많은(1014개) 결측치를 갖고 있습니다. 배의 구역을 나타내는 변수인데 활용할 방법이 없다면 버려야 될 것 같습니다.\r\n\r\n11. `Embarked` : 총 3개 범주로 구성이 되어있고 S가 가장 많으며 2개의 결측치가 있습니다.\r\n\r\n데이터에 대한 기본적인 탐색을 하실 때는 `summary()`와 `str()` 그 외에 다양한 함수들의 `output`들도 같이 비교해가면서 보시길 바랍니다. \r\n\r\n\u003cbr\u003e\r\n\r\n## 3.2 Missing values \r\n\r\n\u003cbr\u003e\r\n\r\n위에서 언급했던 결측치가 존재하는 변수는 무엇이고 또 얼마나 존재하는지 확인해보는 과정입니다.\r\n\r\n`dplyr`, `ggplot2`, `VIM` 패키지들을 이용해서 수치적으로 확인하면서 동시에 시각적으로도 확인해보려고 합니다.\r\n\r\n제가 실행한 모든 코드들을 사용하실 필요는 없으며, 독자분께서 읽으시면서 필요하시거나 좋다고 생각하는 부분들만 사용하셔도 됩니다.\r\n\r\n\u003cbr\u003e\r\n\r\n### 3.2.1 VIM packages\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nVIM::aggr(full, prop = FALSE, combined = TRUE, numbers = TRUE,\r\n          sortVars = TRUE, sortCombs = TRUE)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n### 3.2.2 tidyverse packages \r\n\r\n\u003cbr\u003e\r\n\r\n`VIM` 패키지를 이용해서 한 번에 결측치를 확인하는 것 외에 `tidyverse`에 존재하는 다양한 패키지들을 이용하여 결측치를 확인하는 방법들입니다. \r\n\r\n먼저 `dplyr`로 각 변수별 결측치 비율을 구하는 것 입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull %\u003e%\r\n  dplyr::summarize_all(funs(sum(is.na(.))/n()))\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n이렇게 변수들에 존재하는 결측치의 비율을 확인하는 방법도 있지만, 시각자료들을 이용해서도 확인할 수 있습니다.\r\n\r\n아래의 2개 `Bar plot`들을 봐주시기 바랍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 각 feature의 결측치 비율 계산 -\u003e Data Frame 속성 but 1행 12열 구조로 되어있음.\r\nmissing_values \u003c- full %\u003e%\r\n  dplyr::summarize_all(funs(sum(is.na(.))/n()))\r\n\r\n# 위에서 구한 missing_values를 12X2 data frame 으로 생성 \r\nmissing_values \u003c- tidyr::gather(missing_values,\r\n                                key = \u0022feature\u0022, value = \u0022missing_pct\u0022)\r\n\r\n# missing_values를 이용한 시각화 \r\nmissing_values %\u003e% \r\n  # Aesthetic setting : missing_pct 내림차순으로 정렬  \r\n  ggplot(aes(x = reorder(feature, missing_pct), y = missing_pct)) +\r\n  # Bar plot \r\n  geom_bar(stat = \u0022identity\u0022, fill = \u0022red\u0022) +\r\n  # Title generation \r\n  ggtitle(\u0022Rate of missing values in each features\u0022) +\r\n  # Title detail setting \r\n  theme(plot.title = element_text(face = \u0022bold\u0022,    # 글씨체 \r\n                                  hjust = 0.5,      # Horizon(가로비율) = 0.5\r\n                                  size = 15, color = \u0022darkblue\u0022)) +\r\n  # x, y axis label setting \r\n  labs(x = \u0022Feature names\u0022, y = \u0022Rate\u0022) + \r\n  # Plot의 x, y축 변환 \r\n  coord_flip()\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n위 막대 그래프를 보시면 모든 `feature`들에 대해 결측치 비율을 확인 할 수 있습니다. \r\n\r\n하지만 실질적으로 우리가 궁금한 것은 결측치가 존재하는 변수는 무엇인지와 그 안에 얼마나 되는 결측치가 존재하느냐입니다. \r\n\r\n때문에 `purrr` 패키지를 이용해서 결측치 비율을 계산한 후, 하나라도 존재하는 변수만 추출한 뒤에 시각화 해보았습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 변수별 결측치 비율 계산\r\nmiss_pct \u003c- purrr::map_dbl(full, function(x){round((sum(is.na(x))/length(x)) * 100, 1) })\r\n\r\n# 결측치 비율이 0%보다 큰 변수들만 선택\r\nmiss_pct \u003c- miss_pct[miss_pct \u003e 0]\r\n\r\n# Data Frame 생성 \r\ndata.frame(miss = miss_pct, var = names(miss_pct), row.names = NULL) %\u003e%\r\n  # Aesthetic setting : miss 내림차순으로 정렬 \r\n  ggplot(aes(x = reorder(var, miss), y = miss)) + \r\n  # Bar plot \r\n  geom_bar(stat = \u0027identity\u0027, fill = \u0027red\u0027) +\r\n  # Plot title setting \r\n  ggtitle(\u0022Rate of missing values\u0022) + \r\n  # Title detail setting \r\n  theme(plot.title = element_text(face = \u0022bold\u0022,    # 글씨체 \r\n                                  hjust = 0.5,      # Horizon(가로비율) = 0.5\r\n                                  size = 15, color = \u0022darkblue\u0022)) +\r\n  # x, y axis label setting \r\n  labs(x = \u0027Feature names\u0027, y = \u0027Rate of missing values\u0027) +\r\n  # Plot의 x, y축 변환 \r\n  coord_flip()\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n이를 통해 총 12개 변수들 중에서 4개 변수에만 결측치가 존재하며(`Survived`는 `test` data 때문이므로 제외) `Cabin`, `Age`, `Embarked`, `Fare` 순으로 결측치가 많음을 알 수 있습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n이제는 시각화를 통해서 `feature`를 분석, 탐색하는 과정입니다.\r\n\r\n## 3.3 Age\r\n\r\n\u003cbr\u003e\r\n\r\n```{r message=FALSE, warning=FALSE}\r\nage.p1 \u003c- full %\u003e% \r\n  ggplot(aes(Age)) + \r\n  # 히스토그램 그리기, 설정\r\n  geom_histogram(breaks = seq(0, 80, by = 1), # 간격 설정 \r\n                 col    = \u0022red\u0022,              # 막대 경계선 색깔 \r\n                 fill   = \u0022green\u0022,            # 막대 내부 색깔 \r\n                 alpha  = .5) +               # 막대 투명도 = 50% \r\n  # Plot title\r\n  ggtitle(\u0022All Titanic passengers age hitogram\u0022) +\r\n  theme(plot.title = element_text(face = \u0022bold\u0022,    # 글씨체 \r\n                                  hjust = 0.5,      # Horizon(가로비율) = 0.5\r\n                                  size = 15, color = \u0022darkblue\u0022))\r\n\r\nage.p2 \u003c- full %\u003e% \r\n  # test data set의 Survived == NA 인 값들 제외 \r\n  filter(!is.na(Survived)) %\u003e% \r\n  ggplot(aes(Age, fill = Survived)) + \r\n  geom_density(alpha = .5) +\r\n  ggtitle(\u0022Titanic passengers age density plot\u0022) + \r\n  theme(plot.title = element_text(face = \u0022bold\u0022, hjust = 0.5,\r\n                                  size = 15, color = \u0022darkblue\u0022))\r\n\r\n# multiplot layout 형식 지정\r\nmulti.layout = matrix(c(1, 1, 2, 2), 2, 2, byrow = T)\r\n\r\n# 위에서 생성한 2개의 그래프 한 화면에 출력 \r\nmultiplot(age.p1, age.p2, layout = multi.layout)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 3.4 Pclass\r\n\r\n\u003cbr\u003e\r\n\r\n각 `Pclass`에 해당하는 탑승객의 빈도수를 시각화 해보겠습니다.\r\n\r\n`dplyr`패키지를 활용해서 `Pclass`별로 집단화(그룹핑) 시킨 후 범주별 빈도수를 나타내는 `Data Frame`을 생성한 뒤에 `ggplot`으로 시각화 했습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r message=FALSE, warning=FALSE}\r\nfull %\u003e% \r\n  # dplyr::group_by(), summarize() 를 이용해서 Pclass 빈도수 구하기\r\n  group_by(Pclass) %\u003e% \r\n  summarize(N = n()) %\u003e% \r\n  # Aesthetic setting \r\n  ggplot(aes(Pclass, N)) +\r\n  geom_col() +\r\n  # Pclass 빈도수 plot에 출력 \r\n  geom_text(aes(label = N),        # Plot의 y에 해당하는 N(빈도수)를 매핑\r\n            size = 5,              # 글씨 크기 \r\n            vjust = 1.2,           # vertical(가로) 위치 설정 \r\n            color = \u0022#FFFFFF\u0022) +   # 글씨 색깔 : 흰색\r\n  # Plot title \r\n  ggtitle(\u0022Number of each Pclass\u0027s passengers\u0022) + \r\n  # Title setting \r\n  theme(plot.title = element_text(face = \u0022bold\u0022, hjust = 0.5, size = 15)) +\r\n  # x, y axis name change  \r\n  labs(x = \u0022Pclass\u0022, y = \u0022Count\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n3등급 객실에 탑승한 승객이 가장 많음을 알 수 있습니다.\r\n\r\n객실의 등급와 생존율이 연관있는지는 `Chapter5`에서 다루도록 하겠습니다. \r\n\r\n\u003cbr\u003e\r\n\r\n## 3.5 Fare\r\n\r\n\u003cbr\u003e\r\n\r\n탑승객이 지불한 금액을 나타내는 `Fare` 변수에 대한 시각화 입니다.\r\n\r\n히스토그램과 상자그림 두 개를 이용했습니다.\r\n\r\n```{r message=FALSE, warning=FALSE}\r\n# Histogram \r\nFare.p1 \u003c- full %\u003e%\r\n  ggplot(aes(Fare)) + \r\n  geom_histogram(col    = \u0022yellow\u0022,\r\n                 fill   = \u0022blue\u0022, \r\n                 alpha  = .5) +\r\n  ggtitle(\u0022Histogram of passengers Fare\u0022) +\r\n  theme(plot.title = element_text(face = \u0022bold\u0022, hjust = 0.5, size = 15))\r\n\r\n# Boxplot \r\nFare.p2 \u003c- full %\u003e%\r\n  filter(!is.na(Survived)) %\u003e% \r\n  ggplot(aes(Survived, Fare)) + \r\n  # 관측치를 회색점으로 찍되, 중복되는 부분은 퍼지게 그려줍니다.\r\n  geom_jitter(col = \u0022gray\u0022) + \r\n  # 상자그림 : 투명도 50% \r\n  geom_boxplot(alpha = .5) + \r\n  ggtitle(\u0022Boxplot of passengers Fare\u0022) +\r\n  theme(plot.title = element_text(face = \u0022bold\u0022, hjust = 0.5, size = 15))\r\n\r\n# multiplot layout 형식 지정\r\nmulti.layout = matrix(c(1, 1, 2, 2), 2, 2)\r\n\r\n# 위에서 생성한 2개의 그래프 한 화면에 출력 \r\nmultiplot(Fare.p1, Fare.p2, layout = multi.layout)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n생존자들이 사망한 승객들보다 `Fare`가 더 높지만 그렇게 큰 차이는 없음을 알 수 있습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 3.6 Sex \r\n\r\n남, 여 간에 생존율의 차이가 있을까요? 아래의 `plot`들을 보시기 바랍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nsex.p1 \u003c- full %\u003e% \r\n  dplyr::group_by(Sex) %\u003e% \r\n  summarize(N = n()) %\u003e% \r\n  ggplot(aes(Sex, N)) +\r\n  geom_col() +\r\n  geom_text(aes(label = N), size = 5, vjust = 1.2, color = \u0022#FFFFFF\u0022) + \r\n  ggtitle(\u0022Bar plot of Sex\u0022) +\r\n  labs(x = \u0022Sex\u0022, y = \u0022Count\u0022)\r\n  \r\nsex.p2 \u003c- full[1:891, ] %\u003e% \r\n  ggplot(aes(Sex, fill = Survived)) +\r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) +\r\n  scale_y_continuous(labels = percent) +\r\n  ggtitle(\u0022Survival Rate by Sex\u0022) + \r\n  labs(x = \u0022Sex\u0022, y = \u0022Rate\u0022)\r\n\r\nmulti.layout = matrix(rep(c(1, 2), times = 2), 2, 2, byrow = T)\r\n\r\nmultiplot(sex.p1, sex.p2, layout = multi.layout)\r\n\r\nmosaicplot(Survived ~ Sex,\r\n           data = full[1:891, ], col = TRUE,\r\n           main = \u0022Survival rate by passengers gender\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n그래프를 해석해보면, 남성이 여성보다 훨씬 많은 반면에 생존율은 여성 탑승객이 높음을 알 수 있습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n# 4. Feature engineering \u0026 Data Pre-processing \r\n\r\n\u003cbr\u003e\r\n\r\n`Chapter 3 EDA`의 내용들을 바탕으로 결측치(Missing value, `NA`)를 채우고 동시에 파생변수를 생성하는 과정입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.1 Age -\u003e Age.Group\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull \u003c- full %\u003e%\r\n  # 결측치(NA)를 먼저 채우는데 결측치를 제외한 값들의 평균으로 채움.\r\n  mutate(Age = ifelse(is.na(Age), mean(full$Age, na.rm = TRUE), Age),\r\n         # Age 값에 따라 범주형 파생 변수 Age.Group 를 생성\r\n         Age.Group = case_when(Age \u003c 13             ~ \u0022Age.0012\u0022,\r\n                               Age \u003e= 13 \u0026 Age \u003c 18 ~ \u0022Age.1317\u0022,\r\n                               Age \u003e= 18 \u0026 Age \u003c 60 ~ \u0022Age.1859\u0022,\r\n                               Age \u003e= 60            ~ \u0022Age.60inf\u0022),\r\n         # Chr 속성을 Factor로 변환 \r\n         Age.Group = factor(Age.Group))\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.3 SibSp \u0026 Parch -\u003e FamilySized\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull \u003c- full %\u003e% \r\n  # SibSp, Parch와 1(본인)을 더해서 FamilySize라는 파생변수를 먼저 생성  \r\n  mutate(FamilySize = .$SibSp + .$Parch + 1,\r\n         # FamilySize 의 값에 따라서 범주형 파생 변수 FamilySized 를 생성 \r\n         FamilySized = dplyr::case_when(FamilySize == 1 ~ \u0022Single\u0022,\r\n                                        FamilySize \u003e= 2 \u0026 FamilySize \u003c 5 ~ \u0022Small\u0022,\r\n                                        FamilySize \u003e= 5 ~ \u0022Big\u0022),\r\n         # Chr 속성인 FamilySized를 factor로 변환하고\r\n         # 집단 규모 크기에 따라 levels를 새로 지정\r\n         FamilySized = factor(FamilySized, levels = c(\u0022Single\u0022, \u0022Small\u0022, \u0022Big\u0022)))\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n`SibSp`, `Parch`를 이용해서 `FamilySized`를 만들었습니다.\r\n\r\n이렇게 두 개의 변수를 하나로 줄이면 모델이 더욱 단순해지는 장점이 있습니다.\r\n\r\n비슷한 사용 방법으로는 키와 체중을 합쳐서 BMI 지수로 만드는 것 입니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.4 Name \u0026 Sex -\u003e title\r\n\r\n\u003cbr\u003e\r\n\r\n`Chapter 3.6 Sex`의 결과를 봤을 때 여성의 생존율이 남성보다 높은 것을 확인했었습니다. \r\n\r\n따라서 `Name`에서 \u0022성별과 관련된 이름만을 추출해서 범주화 시키면 쓸모있지 않을까?\u0022 라는 생각이듭니다.\r\n\r\n먼저 `full` data에서 `Name` 이라는 열벡터만 추출 한 뒤에 `title`로 저장합니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 우선 Name 열벡터만 추출해서 title 벡터에 저장 \r\ntitle \u003c- full$Name\r\n\r\n# 정규표현식과 gsub()을 이용해서 성별과 관련성이 높은 이름만 추출해서 title 벡터로 저장 \r\ntitle \u003c- gsub(\u0022^.*, (.*?)\\\\..*$\u0022, \u0022\\\\1\u0022, title)\r\n\r\n# 위에서 저장한 title 벡터를 다시 full 에 저장하되, title 파생변수로 저장 \r\nfull$title \u003c- title\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n그 다음 고유한(`Unique`한) `title`들에는 어떤 것들이 있는지 확인해봅니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nunique(full$title)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n총 18개의 범주가 있음을 알 수 있습니다.\r\n\r\n이 `title`이라는 파생변수를 그대로 사용할 경우 모델의(특히 Tree based model) 복잡도가 상당히 높아지기 때문에 범주를 줄여줘야합니다.\r\n\r\n그 전에 `descr`패키지를 이용해서 각 범주별 빈도수와 비율을 확인해보겠습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 범주별 빈도수, 비율 확인 \r\ndescr::CrossTable(full$title)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n18개나 되는 범주들의 빈도수와 비율이 너무 제각각입니다.\r\n\r\n따라서 이것들을 총 5개 범주로 줄이도록 하겠습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 5개 범주로 단순화 시키는 작업 \r\nfull \u003c- full %\u003e%\r\n  # \u0022%in%\u0022 대신 \u0022==\u0022을 사용하게되면 Recyling Rule 때문에 원하는대로 되지 않습니다.\r\n  mutate(title = ifelse(title %in% c(\u0022Mlle\u0022, \u0022Ms\u0022, \u0022Lady\u0022, \u0022Dona\u0022), \u0022Miss\u0022, title),\r\n         title = ifelse(title == \u0022Mme\u0022, \u0022Mrs\u0022, title),\r\n         title = ifelse(title %in% c(\u0022Capt\u0022, \u0022Col\u0022, \u0022Major\u0022, \u0022Dr\u0022, \u0022Rev\u0022, \u0022Don\u0022,\r\n                                     \u0022Sir\u0022, \u0022the Countess\u0022, \u0022Jonkheer\u0022), \u0022Officer\u0022, title),\r\n         title = factor(title))\r\n\r\n# 파생변수 생성 후 각 범주별 빈도수, 비율 확인 \r\ndescr::CrossTable(full$title)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.5 Ticket -\u003e ticket.size\r\n\r\n\u003cbr\u003e\r\n\r\n`Chapter 3.1.3 Summary()`에서도 봤지만 승객은 (`train`, `test` 합쳐서 모두) 1309명입니다. 그런데 모든 승객의 티켓이 다 다르지 않습니다.\r\n\r\n아래 `summary()`와 `unique()`의 결과를 보시기 바랍니다. \r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 고유한(unique한) 범주의 갯수만 파악하려고 length()를 사용했습니다.\r\nlength(unique(full$Ticket))\r\n\r\n# 모두 출력하면 너무 지저분해서 10개만 출력했습니다.\r\nhead(summary(full$Ticket), 10)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n결측치가 없는 `feature`인데 왜 고유한 티켓이 929개 일까요?\r\n\r\n심지어 티켓이 `CA. 2343`으로 완전히 같은 인원이 11명이나 됩니다.\r\n\r\n어떤 승객들인지 확인해보겠습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull %\u003e% \r\n  # 티켓이 일치하는 11명의 승객들만 필터링 \r\n  filter(Ticket == \u0022CA. 2343\u0022) %\u003e% \r\n  # 모든 변수에 대해 확인할 필요는 없으므로 아래 변수들만 보려고 합니다.\r\n  select(Pclass, Name, Age, FamilySized)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n위 11명의 승객들은 모두 같은 가족, 형제들인 것을 알 수 있습니다.\r\n\r\n이렇게 티켓이 완전히 동일한 승객들이 있는 반면에 일부분만 일치하는 승객들도 존재합니다.\r\n\r\n이런 티켓의 고유한 넘버(글자수) 갯수를 나타내는 `ticket.unique` 파생변수를 만들고\r\n\r\n`ticket.unique`를 바탕으로 3개 범주를 갖는 `ticket.size` 파생변수를 만들어 봅시다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 우선 ticket.unique가 모두 0이라고 저장함\r\nticket.unique \u003c- rep(0, nrow(full))\r\n\r\n# Ticket Feature에서 고유한 것들만 추출해서 tickets 벡터에 저장 \r\ntickets \u003c- unique(full$Ticket)\r\n\r\n# 반복문을 중첩 활용해서 티켓이 같은 승객들만 추출 후, 각 티켓들의 길이(문자 갯수)를 추출해서 저장한다.\r\nfor (i in 1:length(tickets)) {\r\n  current.ticket \u003c- tickets[i]\r\n  party.indexes \u003c- which(full$Ticket == current.ticket)\r\n    # For loop 중첩 \r\n    for (k in 1:length(party.indexes)) {\r\n    ticket.unique[party.indexes[k]] \u003c- length(party.indexes)\r\n    }\r\n  }\r\n\r\n# 위에서 계산한 ticket.unique 을 파생변수로 저장 \r\nfull$ticket.unique \u003c- ticket.unique\r\n\r\n# ticket.unique에 따라 세가지 범주로 나눠서 ticket.size 변수 생성 \r\nfull \u003c- full %\u003e% \r\n  mutate(ticket.size = case_when(ticket.unique == 1 ~ \u0027Single\u0027,\r\n                                 ticket.unique \u003c 5 \u0026 ticket.unique \u003e= 2 ~ \u0022Small\u0022,\r\n                                 ticket.unique \u003e= 5 ~ \u0022Big\u0022),\r\n         ticket.size = factor(ticket.size,\r\n                              levels = c(\u0022Single\u0022, \u0022Small\u0022, \u0022Big\u0022)))\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.6 Embarked\r\n\r\n\u003cbr\u003e\r\n\r\n결측치(Missing value, `NA`)가 2개 있던 `feature` 입니다.\r\n`Embarked`의 경우 3개 범주 중에서 가장 최빈값인 `S`로 치환하도록 합니다. \r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull$Embarked \u003c- replace(full$Embarked,               # 치환할 Data$feature 지정\r\n                         which(is.na(full$Embarked)), # 결측치들만 찾기\r\n                         \u0027S\u0027)                         # 치환할 값 지정 \r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 4.7 Fare\r\n\r\n\u003cbr\u003e\r\n\r\n`Fare`의 경우 결측치가 유일하게 1개 있었습니다.\r\n\r\n위에서 본 히스토그램(`Chapter 3.5 Fare`)을 바탕으로 결측치를 0으로 치환해줍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nfull$Fare \u003c- replace(full$Fare, which(is.na(full$Fare)), 0)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n여기까지 하시면 데이터 전처리가 모두 끝난 것입니다.\r\n\r\n다음은 지금까지 만든 파생변수들을 탐색하면서 모델 생성에 사용할 변수들을 선택하는 과정입니다.\r\n\r\n즉, `Feature selection` 이라고 보시면 됩니다.\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n# 5. Relationship to target feature `Survived` \u0026 Feature selection \r\n\r\n\u003cbr\u003e\r\n\r\n본격적인 시각화에 앞서, 여기서는 각 변수들이 생존율과 얼마나 연관성이 높은지를 보는것이 목적이기 때문에 `full` data 전체를 사용하지 않고, 생존과 사망여부를 알 수 있는 `train` data set만 사용하였습니다.\r\n\r\n그리고 위에서 사용한 `plot`들이 그대로 중복된 경우도 있으니 참고하시기 바랍니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.0 Data set split \r\n\r\n먼저 아래 코드를 이용해서 전처리가 끝난 `full` data를 `train`, `test`로 분할합니다.\r\n\r\n```{r}\r\n# feature selection 전이므로 우선은 모든 변수들을 선택합니다.\r\ntrain \u003c- full[1:891, ]\r\n\r\ntest \u003c- full[892:1309, ]\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.1 Pclass\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(Pclass, fill = Survived)) + \r\n  geom_bar(position = \u0022fill\u0022) +\r\n  # plot 테마 설정 : 조금 더 선명한 색깔로 변환해준다.\r\n  scale_fill_brewer(palette = \u0022Set1\u0022) +\r\n  # Y axis setting \r\n  scale_y_continuous(labels = percent) +\r\n  # x, y 축 이름과 plot의 main title, sub title 설정 \r\n  labs(x = \u0022Pclass\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022How many people survived in each Pclass?\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.2 Sex\r\n\r\n\u003cbr\u003e\r\n\r\n**`Chapter 3.6 Sex`와 동일합니다.**\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nmosaicplot(Survived ~ Sex,\r\n           data = train, col = TRUE,\r\n           main = \u0022Survival rate by passengers gender\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.3 Embarked\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(Embarked, fill = Survived)) +\r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) +\r\n  scale_y_continuous(labels = percent) +\r\n  labs(x = \u0022Embarked\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022How many people survived in each Embarked?\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.4 FamilySized\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(FamilySized, fill = Survived)) + \r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) + \r\n  scale_y_continuous(labels = percent) +\r\n  labs(x = \u0022FamilySized\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022Survival rate by FamilySized\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n동승한 인원수에 따라 생존율에 차이가 있고 `FamilySized`와 `Survived`는 비선형 관계임을 알 수 있습니다.\r\n\r\n## 5.5 Age.Group\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(Age.Group, fill = Survived)) + \r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) + \r\n  scale_y_continuous(labels = percent) +\r\n  labs(x = \u0022Age group\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022Survival rate by Age group\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.6 title\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(title, fill = Survived)) + \r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) + \r\n  scale_y_continuous(labels = percent) +\r\n  labs(x = \u0022title\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022Survival rate by passengers title\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.7 ticket.size\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\ntrain %\u003e% \r\n  ggplot(aes(ticket.size, fill = Survived)) + \r\n  geom_bar(position = \u0022fill\u0022) + \r\n  scale_fill_brewer(palette = \u0022Set1\u0022) + \r\n  scale_y_continuous(labels = percent) +\r\n  labs(x = \u0022ticket.size\u0022, y = \u0022Rate\u0022,\r\n       title = \u0022Bar plot\u0022, subtitle = \u0022Survival rate by ticket.size\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 5.8 Description of actual used features\r\n\r\n\u003cbr\u003e\r\n\r\n지금까지 생성한 파생변수들이 모두 유용함을 알았으니 실제로 사용할 변수들만 선택해서 저장하도록 합니다. \r\n\r\n아래 표는 실제 선택한 변수들에 대한 간단한 설명들입니다.\r\n\r\n| 변수명        | Type   | 설명                     | \r\n|:-------------:|:-------|:----------------------------------------------------------|\r\n|**Survived**   | factor | Target feature, 생존 == 1, 사망 == 0 |\r\n|**Sex**        | factor | 성별, `male` or `female` |\r\n|**Pclass**     | factor | 선실 등급, 1등급(1), 2등급(2), 3등급(3) |\r\n|**Embarked**   | factor | 승선항, 사우샘프턴(S), 셸부르(C), 퀸즈타운(Q) |\r\n|**FamilySized**| factor | 가족의 규모, `SibSp`와 `Parch`를 이용해서 만든 파생변수, 범주는 3개     |\r\n|**Age.Group**  | factor | 연령대, `Age`를 이용해서 만든 파생변수, 범주는 4개 |\r\n|**title**      | factor | 이름의 일부분, `Name`을 이용해서 만든 파생변수, 범주는 5개 |\r\n|**ticket.size**| factor | 티켓의 고유한 부분의 길이, `ticket`을 이용해서 만든 파생변수, 범주는 3개 |\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# Id number 제외하고 실제로 사용할 7개 입력변수와 1개의 타겟변수를 선택, 저장 \r\ntrain \u003c- train %\u003e% \r\n  select(\u0022Pclass\u0022, \u0022Sex\u0022, \u0022Embarked\u0022, \u0022FamilySized\u0022,\r\n         \u0022Age.Group\u0022, \u0022title\u0022, \u0022ticket.size\u0022, \u0022Survived\u0022)\r\n\r\n# Submit을 위해서 Id 열벡터 추출해서 ID에 저장 \r\nID \u003c- test$PassengerId\r\n\r\n# Id와 Survived를 제외한 나머지 6개 변수들을 선택, 저장 \r\ntest \u003c- test %\u003e% \r\n  select(\u0022Pclass\u0022, \u0022Sex\u0022, \u0022Embarked\u0022, \u0022FamilySized\u0022,\r\n         \u0022Age.Group\u0022, \u0022title\u0022, \u0022ticket.size\u0022)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n# 6. Machine learning model generation\r\n\r\n\u003cbr\u003e \r\n\r\n본격적으로 `train` data set을 이용해서 기계학습 모델을 생성할 차례입니다.\r\n\r\n원래는 `train`, `validation`, `test` data set들을 먼저 만들고 다양한 모델들을 생성 한 후에 교차검증(`CV`, Cross Validation)를 거쳐서 최종 모델을 선택하는게 맞지만 여기서는 그런 과정들을 생략하고 `RandomForest` 만을 생성한 뒤에 `test` data를 예측(추정) 해보고 `competition`에 `Submit`할 data를 만드는 것 까지 해보겠습니다.\r\n\r\n\u003cbr\u003e\r\n\r\n## 6.1 Random Forest model generation \r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\n# 재현성을 위해서 seed number를 설정해줍니다.\r\nset.seed(1901)\r\n\r\ntitanic.rf \u003c- randomForest(Survived ~ ., data = train, importance = T, ntree = 2000)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n## 6.2 Feature importance check\r\n\r\n\u003cbr\u003e\r\n\r\n```{r}\r\nimportance(titanic.rf)\r\n\r\nvarImpPlot(titanic.rf)\r\n```\r\n\r\n## 6.3 Predict test data and create submit data\r\n\r\n\u003cbr\u003e\r\n\r\n```{r eval=FALSE}\r\n# Prediction \r\npred.rf \u003c- predict(object = titanic.rf, newdata = test, type = \u0022class\u0022)\r\n\r\n# Data frame generation \r\nsubmit \u003c- data.frame(PassengerID = ID, Survived = pred.rf)\r\n\r\n# Write the submit data frame to file : setwd()로 지정해놓은 폴더에 csv로 생성됩니다.\r\nwrite.csv(submit, file = \u0027./titanic_submit.csv\u0027, row.names = F)\r\n```\r\n\r\n\u003cbr\u003e\r\n\r\n여기까지가 `R`을 이용한 `Titanic` 데이터 분석입니다.\r\n\r\n긴 글 읽어주셔서 감사하고 많은 피드백과 조언들 부탁드립니다.\r\n\r\n\u003cbr\u003e\r\n\r\n*** \r\n\r\n\u003cbr\u003e\r\n\r\n\r\n# 7. Reference : 참고문헌 \r\n\r\n1. [\u0027Megan Risdal\u0027 titanic kernel](https://www.kaggle.com/mrisdal)\r\n\r\n2. [\u0027Heads or Tails\u0027 titanic kernel](https://www.kaggle.com/headsortails)\r\n\r\n3. [Hitesh palamada - Head Start for Data Scientist](https://www.kaggle.com/hiteshp/head-start-for-data-scientist)\r\n\r\n4. [나무위키 - RMS 타이타닉](https://namu.wiki/w/RMS%20%ED%83%80%EC%9D%B4%ED%83%80%EB%8B%89)\r\n\r\n5. R을 활용한 데이터 과학(인사이트), Garrett Grolemund, Hadley Wickham 지음, 김설기, 최혜민 옮김, 978-89-6626-235-9 : tidyverse를 이해하기 가장 좋은 책 \r\n\r\n6. [tidyr::gather() - Software Carpentry](https://statkclee.github.io/r-novice-gapminder/14-tidyr-kr.html)\r\n\r\n7. 머신러닝 탐구생활(비제이퍼블릭), 정권우 지음, 979-11-86697-69-6 : Data 분석 노트(표) 작성하는데 많은 도움을 받았습니다.\r\n\r\n\u003cbr\u003e\r\n","dateCreated":"2019-02-05T23:01:33.4708813Z"},"resources":null,"isolatorResults":"\u003cresults\u003e\u003cdisk_kb_free\u003e4817848\u003c/disk_kb_free\u003e\u003cdocker_image_digest\u003e7f63df4b335de7de7c4d7fbccbdb42ba03ca55ffce0e71990d11c38cd928e2da\u003c/docker_image_digest\u003e\u003cdocker_image_id\u003esha256:04d80efacc9fe06ec24a96f495a47ff7f579e927b8341e9c94a9b987ebc020c2\u003c/docker_image_id\u003e\u003cdocker_image_name\u003egcr.io/kaggle-images/rstats\u003c/docker_image_name\u003e\u003cexit_code\u003e0\u003c/exit_code\u003e\u003cfailure_message /\u003e\u003cinvalid_path_errors\u003eFalse\u003c/invalid_path_errors\u003e\u003cout_of_memory\u003eFalse\u003c/out_of_memory\u003e\u003crun_time_seconds\u003e22.8958057819982\u003c/run_time_seconds\u003e\u003csucceeded\u003eTrue\u003c/succeeded\u003e\u003ctimeout_exceeded\u003eFalse\u003c/timeout_exceeded\u003e\u003cused_all_space\u003eFalse\u003c/used_all_space\u003e\u003cwas_killed\u003eFalse\u003c/was_killed\u003e\u003c/results\u003e","runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageDigest":"7f63df4b335de7de7c4d7fbccbdb42ba03ca55ffce0e71990d11c38cd928e2da","dockerImageId":"sha256:04d80efacc9fe06ec24a96f495a47ff7f579e927b8341e9c94a9b987ebc020c2","dockerImageName":"kaggle/rstats","diskKbFree":4817848,"failureMessage":"","exitCode":0,"queuedSeconds":0,"outputSizeBytes":0,"runTimeSeconds":22.8958057819982,"usedAllSpace":false,"timeoutExceeded":false,"isValidStatus":false,"wasGpuEnabled":false,"wasInternetEnabled":false,"outOfMemory":false,"invalidPathErrors":false,"succeeded":true,"wasKilled":false},"outputFilesTotalSizeBytes":4453814,"dockerImageVersionId":11754,"usedCustomDockerImage":false},"author":{"id":2491657,"displayName":"Minsoon Lim","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"redhorse93","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","profileUrl":"/redhorse93","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":0,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"activationCode":"00000000-0000-0000-0000-000000000000","isPhoneVerified":false},"baseUrl":"/redhorse93/r-titanic-data","collaborators":{"owner":{"userId":2491657,"groupId":null,"groupMemberCount":null,"profileUrl":"/redhorse93","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","name":"Minsoon Lim","slug":"redhorse93","userTier":0,"joinDate":null,"type":"owner","isUser":true,"isGroup":false},"collaborators":[]},"initialTab":null,"log":"[{\n  \u0022data\u0022: \u0022\\n\\nprocessing file: script.Rmd\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 4.171419158985373\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |                                                                 |   0%\\r  |                                                                       \\r  |.                                                                |   1%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.332794524991186\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..                                                               |   3%\\nlabel: setup (with options) \\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.334907226002542\n},{\n  \u0022data\u0022: \u0022List of 1\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.340661460999399\n},{\n  \u0022data\u0022: \u0022 $ include:\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.342399232002208\n},{\n  \u0022data\u0022: \u0022 logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.344155198981753\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..                                                               |   4%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.415993347007316\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...                                                              |   5%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.431791101989802\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-1 (with options) \\nList of 2\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.536713042994961\n},{\n  \u0022data\u0022: \u0022 $ message: logi FALSE\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 4.5392561169865075\n},{\n  \u0022data\u0022: \u0022Loading required package: colorspace\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 5.015180668007815\n},{\n  \u0022data\u0022: \u0022Loading required package: methods\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 5.020093500002986\n},{\n  \u0022data\u0022: \u0022Loading required package: grid\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 5.067210740002338\n},{\n  \u0022data\u0022: \u0022Loading required package: data.table\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 5.105456530000083\n},{\n  \u0022data\u0022: \u0022VIM is ready to use. \\n Since version 4.0.0 the GUI is in its own package VIMGUI.\\n\\n          Please use the package to use the new (and old) GUI.\\n\\nSuggestions and bug-reports can be submitted at: https://github.com/alexkowa/VIM/issues\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.107652859995142\n},{\n  \u0022data\u0022: \u0022\\nAttaching package: \u0027VIM\u0027\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.12493299000198\n},{\n  \u0022data\u0022: \u0022The following object is masked from \u0027package:datasets\u0027:\\n\\n    sleep\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.127657759003341\n},{\n  \u0022data\u0022: \u0022\\nAttaching package: \u0027scales\u0027\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.516255836992059\n},{\n  \u0022data\u0022: \u0022The following object is masked from \u0027package:readr\u0027:\\n\\n    col_factor\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.5186458509997465\n},{\n  \u0022data\u0022: \u0022\\nAttaching package: \u0027dplyr\u0027\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.530329378991155\n},{\n  \u0022data\u0022: \u0022The following objects are masked from \u0027package:data.table\u0027:\\n\\n    between, first, last\\n\\nThe following objects are masked from \u0027package:stats\u0027:\\n\\n    filter, lag\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.532365385995945\n},{\n  \u0022data\u0022: \u0022The following objects are masked from \u0027package:base\u0027:\\n\\n    intersect, setdiff, setequal, union\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.534991077001905\n},{\n  \u0022data\u0022: \u0022\\nAttaching package: \u0027purrr\u0027\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.5485928659909405\n},{\n  \u0022data\u0022: \u0022The following object is masked from \u0027package:scales\u0027:\\n\\n    discard\\n\\nThe following object is masked from \u0027package:data.table\u0027:\\n\\n    transpose\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.55050479300553\n},{\n  \u0022data\u0022: \u0022randomForest 4.6-14\\nType rfNews() to see new features/changes/bug fixes.\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.623020642990014\n},{\n  \u0022data\u0022: \u0022\\nAttaching package: \u0027randomForest\u0027\\n\\nThe following object is masked from \u0027package:dplyr\u0027:\\n\\n    combine\\n\\nThe following object is masked from \u0027package:ggplot2\u0027:\\n\\n    margin\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.625777620007284\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....                                                             |   6%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.....                                                            |   8%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 6.646301783010131\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-2\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 6.64856125600636\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......                                                           |   9%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 6.658549996995134\n},{\n  \u0022data\u0022: \u0022\\r  |.......                                                          |  10%\\nlabel: unnamed-chunk-3 (with options) \\nList of 2\\n $ warning:\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 6.66009439600748\n},{\n  \u0022data\u0022: \u0022 logi FALSE\\n $ message: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 6.661339320009574\n},{\n  \u0022data\u0022: \u0022Parsed with column specification:\\ncols(\\n  PassengerId = col_double(),\\n  Survived = col_double(),\\n  Pclass = col_double(),\\n  Name = col_character(),\\n  Sex = col_character(),\\n  Age = col_double(),\\n  SibSp = col_double(),\\n  Parch = col_double(),\\n  Ticket = col_character(),\\n  Fare = col_double(),\\n  Cabin = col_character(),\\n  Embarked = col_character()\\n)\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 6.896924125991063\n},{\n  \u0022data\u0022: \u0022Parsed with column specification:\\ncols(\\n  PassengerId = col_double(),\\n  Pclass = col_double(),\\n  Name = col_character(),\\n  Sex = col_character(),\\n  Age = col_double(),\\n  SibSp = col_double(),\\n  Parch = col_double(),\\n  Ticket = col_character(),\\n  Fare = col_double(),\\n  Cabin = col_character(),\\n  Embarked = col_character()\\n)\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 7.035846446000505\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......                                                          |  11%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........                                                         |  13%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.086471563990926\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-4\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.089071080990834\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........                                                        |  14%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.131005537987221\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........                                                       |  15%\\nlabel: unnamed-chunk-5\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.134037660987815\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........                                                      |  16%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |............                                                     |  18%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.75920550498995\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-6\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.761413355998229\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............                                                     |  19%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.774732896999922\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............                                                    |  20%\\nlabel: unnamed-chunk-7\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.776789192983415\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............                                                   |  22%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...............                                                  |  23%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.806325087003643\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-8\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 7.810100884002168\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................                                                 |  24%\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 8.093467058002716\n},{\n  \u0022data\u0022: \u0022\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |................                                                 |  25%\\nlabel: unnamed-chunk-9\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 8.095895122009097\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................                                                |  27%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..................                                               |  28%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 8.288605815992923\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-10\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 8.29060547798872\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...................                                              |  29%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 9.436458935990231\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....................                                             |  30%\\nlabel: unnamed-chunk-11\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 9.439690659986809\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....................                                            |  32%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 10.511168625991559\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....................                                            |  33%\\nlabel: unnamed-chunk-12 (with options) \\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 10.513124800985679\n},{\n  \u0022data\u0022: \u0022List of 2\\n $ message: logi FALSE\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 10.5151000089827\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......................                                           |  34%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.......................                                          |  35%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.624834360991372\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-13 (with options) \\nList of 2\\n $ message: logi FALSE\\n $ warning:\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.627715020993492\n},{\n  \u0022data\u0022: \u0022 logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.630213853000896\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |........................                                         |  37%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.97434784899815\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................                                        |  38%\\nlabel: unnamed-chunk-14 (with options) \\nList of 2\\n $ message: logi FALSE\\n $ warning: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 11.977479082997888\n},{\n  \u0022data\u0022: \u0022`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 12.052481677994365\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........................                                       |  39%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..........................                                       |  41%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 12.879956685006618\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-15\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 12.883743262005737\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...........................                                      |  42%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |............................                                     |  43%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.655946766986744\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-16\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.658464109001216\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.............................                                    |  44%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..............................                                   |  46%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.691926683008205\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-17\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.695259002997773\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............................                                   |  47%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...............................                                  |  48%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.739126589993248\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-18\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.741444276995026\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |................................                                 |  49%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.................................                                |  51%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.754012763994979\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-19\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.756343857006868\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..................................                               |  52%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.760980969003867\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...................................                              |  53%\\nlabel: unnamed-chunk-20\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.763025380991166\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...................................                              |  54%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.807820758986054\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |....................................                             |  56%\\nlabel: unnamed-chunk-21\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 14.809812747000251\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....................................                            |  57%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.22874291500193\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......................................                           |  58%\\nlabel: unnamed-chunk-22\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.23165951098781\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......................................                          |  59%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.242468948999885\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.......................................                          |  61%\\nlabel: unnamed-chunk-23\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.246458159002941\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |........................................                         |  62%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.........................................                        |  63%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.287848097999813\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-24\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.290479455987224\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........................................                       |  65%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...........................................                      |  66%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.805827640986536\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-25\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.808941717987182\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................................                     |  67%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.81400518398732\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................................                     |  68%\\nlabel: unnamed-chunk-26\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.816145049990155\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.82165072800126\n},{\n  \u0022data\u0022: \u0022\\r  |.............................................                    |  70%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |..............................................                   |  71%\\nlabel: unnamed-chunk-27\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.823438605992123\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................................                  |  72%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |................................................                 |  73%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.832412705989555\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-28\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 15.83470116299577\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................................................                |  75%\\n  ordinary text without R code\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 16.374130949989194\n},{\n  \u0022data\u0022: \u0022\\n\\r  |                                                                       \\r  |.................................................                |  76%\\nlabel: unnamed-chunk-29\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 16.37662510399241\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..................................................               |  77%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 16.48736993598868\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...................................................              |  78%\\nlabel: unnamed-chunk-30\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 16.489383182983147\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |....................................................             |  80%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 17.014188887987984\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....................................................            |  81%\\nlabel: unnamed-chunk-31\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 17.01659765400109\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.....................................................            |  82%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 17.542241752002155\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |......................................................           |  84%\\nlabel: unnamed-chunk-32\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 17.545164273993578\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.......................................................          |  85%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |........................................................         |  86%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 18.103987523005344\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-33\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 18.105766114982544\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.........................................................        |  87%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 18.64628376098699\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........................................................       |  89%\\nlabel: unnamed-chunk-34\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 18.648430128989276\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..........................................................       |  90%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |...........................................................      |  91%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 19.36388530599652\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-35\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 19.365896856004838\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |............................................................     |  92%\\n  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |.............................................................    |  94%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 19.379579469008604\n},{\n  \u0022data\u0022: \u0022label: unnamed-chunk-36\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 19.38132724398747\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |..............................................................   |  95%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 21.954599992983276\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................................................  |  96%\\nlabel: unnamed-chunk-37\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 21.958766491996357\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |...............................................................  |  97%\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 22.115158250991954\n},{\n  \u0022data\u0022: \u0022  ordinary text without R code\\n\\n\\r  |                                                                       \\r  |................................................................ |  99%\\nlabel: unnamed-chunk-38 (with options) \\nList of 1\\n $ eval: logi FALSE\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 22.117860639002174\n},{\n  \u0022data\u0022: \u0022\\r  |                                                                       \\r  |.................................................................| 100%\\n  ordinary text without R code\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 22.120511761982925\n},{\n  \u0022data\u0022: \u0022\\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 22.128371858008904\n},{\n  \u0022data\u0022: \u0022output file: /kaggle/working/script.knit.md\\n\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 22.14711678700405\n},{\n  \u0022data\u0022: \u0022/usr/local/bin/pandoc +RTS -K512m -RTS /kaggle/working/script.utf8.md --to html4 --from markdown+autolink_bare_uris+ascii_identifiers+tex_math_single_backslash --output /kaggle/working/__results__.html --smart --email-obfuscation none --standalone --section-divs --table-of-contents --toc-depth 3 --template /usr/local/lib/R/site-library/rmarkdown/rmd/h/default.html --no-highlight --variable highlightjs=1 --variable \u0027theme:yeti\u0027 --include-in-header /tmp/RtmpvbO6Wi/rmarkdown-str15e5ef15f.html --mathjax --variable \u0027mathjax-url:https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\u0027 \\n\u0022,\n  \u0022stream_name\u0022: \u0022stdout\u0022,\n  \u0022time\u0022: 22.279257652990054\n},{\n  \u0022data\u0022: \u0022\\nOutput created: __results__.html\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 22.543428912002128\n},{\n  \u0022data\u0022: \u0022Warning messages:\\n1: Removed 263 rows containing non-finite values (stat_bin). \\n2: Removed 177 rows containing non-finite values (stat_density). \\n3: Removed 1 rows containing non-finite values (stat_bin). \\n4: In file.rename(from, to) :\\n  cannot rename file \u0027/kaggle/working/__results___files/figure-html\u0027 to \u0027/kaggle/working//kaggle/working/__results___files/figure-html\u0027, reason \u0027No such file or directory\u0027\\n5: In file.rename(from, to) :\\n  cannot rename file \u0027/kaggle/working//kaggle/working/__results___files/figure-html\u0027 to \u0027/kaggle/working/__results___files/figure-html\u0027, reason \u0027No such file or directory\u0027\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 22.54636695800582\n}]","outputFiles":[],"outputFilesCropped":false,"ouputFilesOwnerInfo":{"databundleVersionId":0,"dataset":null,"competition":null,"kernel":{"kernelId":2842953,"kernelVersionId":10292790,"dataviewToken":"eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..kTgicRpvVwf7uWS1i3H2Eg.YGKPGhHyAYI_Kl8yKUipGUoy7thDHNmyvUA20unx0tFBMf_KEUr_cTPlMVk8_In4hGj2Phkbe14ZCxn-jDfqQbKShy0uzOwHVRIiMS95vovv2_GXPlLIB7RM1SFVgEZ9f9YaXDjZJqAUuSLH715wVzRAQFhaov6IxSEVTeBeqUw3grLoOfTlsDr-_lTuUOp6jS--N_I4aBidTqfyT2cQSTKxS-PI3NzFzkdXG03qn0262-d24zt9CG7LtCDpX0pNXrG7odPQErp7RCDcmCOV3oE2d1A8Z9_wrBUMJONyYzv5t3hkOEvS1mWbEUXUscdls3vYa7gZnMPuDF_5tKIAOHdvBK-HAQeVawYmjOycBNYAZ4KfWKxQkneYOWf6emBVoMIjSqixHDqE1T0iP4L5FNIU7xAJZexaZnclujWKcJ3z1-70aVXl9j59VkDY3-gOtvoQzDNJ6lJmdyp3746XdA.K6npCD5DqcrV9EwCHE9dpQ","scope":"redhorse93/r-titanic-data"},"previewsDisabled":false},"pageMessages":[],"dataSources":[{"imageUrl":null,"sourceUrl":"/c/2019-1st-ml-month-with-kakr","slug":"2019-1st-ml-month-with-kakr","lastUpdated":"2018-12-14T13:19:19.777Z","overview":"캐글 코리아와 함께하는 1st ML 대회 - 타이타닉 생존자를 예측하라!","sourceType":"competition","sourceVersionType":null,"sourceId":12349,"sourceVersionNumber":null,"maxVersionNumber":null,"descriptionMimeType":"text/markdown","deleted":false,"private":false,"privateButVisible":false,"ownerInfo":{"databundleVersionId":224358,"dataset":null,"competition":{"competitionId":12349,"dataviewToken":null,"scope":"c/2019-1st-ml-month-with-kakr"},"kernel":null,"previewsDisabled":true},"type":"dataSource","collapsed":false,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"id":1042993,"blobFileId":1582526,"databundleVersionId":224358,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/sample_submission.csv","creationDate":"2018-12-14T12:23:31.469Z","isDummy":false,"size":3258,"fullPath":"../input/sample_submission.csv","previewUrl":"kernels/competition-preview/12349?relativePath=sample_submission.csv","downloadUrl":"/c/2019-1st-ml-month-with-kakr/download/sample_submission.csv","fileType":".csv","contentLength":3258,"contentType":"application/vnd.ms-excel","contentMD5":"Z1Msez6zgApcxHtAjZZglw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":"id","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":null},{"order":1,"originalType":"","type":"numeric","extendedType":"integer","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Survived","description":null}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"sample_submission.csv","description":""},{"id":1042994,"blobFileId":1582527,"databundleVersionId":224358,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/test.csv","creationDate":"2018-12-14T12:23:23.693Z","isDummy":false,"size":28629,"fullPath":"../input/test.csv","previewUrl":"kernels/competition-preview/12349?relativePath=test.csv","downloadUrl":"/c/2019-1st-ml-month-with-kakr/download/test.csv","fileType":".csv","contentLength":28629,"contentType":"application/vnd.ms-excel","contentMD5":"dTO4Lq5LWCYQy9aKpjawFw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":418},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":"id","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":null},{"order":1,"originalType":"","type":"numeric","extendedType":"integer","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Pclass","description":null},{"order":2,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Name","description":null},{"order":3,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Sex","description":null},{"order":4,"originalType":"","type":"numeric","extendedType":"decimal","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Age","description":null},{"order":5,"originalType":"","type":"numeric","extendedType":"integer","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"SibSp","description":null},{"order":6,"originalType":"","type":"numeric","extendedType":"integer","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Parch","description":null},{"order":7,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Ticket","description":null},{"order":8,"originalType":"","type":"numeric","extendedType":"decimal","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Fare","description":null},{"order":9,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Cabin","description":null},{"order":10,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Embarked","description":null}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"test.csv","description":""},{"id":1042995,"blobFileId":1582528,"databundleVersionId":224358,"databundleVersionObjectType":"file","url":null,"relativePath":"../input/train.csv","creationDate":"2018-12-14T12:23:38.4559602Z","isDummy":false,"size":61194,"fullPath":"../input/train.csv","previewUrl":"kernels/competition-preview/12349?relativePath=train.csv","downloadUrl":"/c/2019-1st-ml-month-with-kakr/download/train.csv","fileType":".csv","contentLength":61194,"contentType":"application/vnd.ms-excel","contentMD5":"IwnMXwR4Ltm7YBbZ9OOBzw==","validationErrors":null,"type":"databundleVersionObject","collapsed":false,"info":{"metrics":{"tableMetrics":{"exception":null,"rowCount":891},"columnMetrics":[]},"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":{"delimiter":",","includesHeader":true},"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[{"columns":[{"order":0,"originalType":"","type":"numeric","extendedType":"id","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"PassengerId","description":null},{"order":1,"originalType":"","type":"numeric","extendedType":"integer","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Survived","description":null},{"order":2,"originalType":"","type":"numeric","extendedType":"integer","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Pclass","description":null},{"order":3,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Name","description":null},{"order":4,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Sex","description":null},{"order":5,"originalType":"","type":"numeric","extendedType":"decimal","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Age","description":null},{"order":6,"originalType":"","type":"numeric","extendedType":"integer","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"SibSp","description":null},{"order":7,"originalType":"","type":"numeric","extendedType":"integer","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Parch","description":null},{"order":8,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Ticket","description":null},{"order":9,"originalType":"","type":"numeric","extendedType":"decimal","isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Fare","description":null},{"order":10,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Cabin","description":null},{"order":11,"originalType":"","type":"string","extendedType":null,"isNullable":false,"isPrimaryKey":false,"isLabel":false,"info":null,"name":"Embarked","description":null}],"totalRows":null,"type":"genericTable","collapsed":true,"info":{"metrics":null,"archiveInfo":null,"archiveInfoV2":null,"blobFileInfo":null,"convertCsvInfo":null,"kernelReference":null},"settings":{"csvSettings":null,"bigQuerySettings":null,"bigQueryMirrorSettings":null,"storageSettings":null,"remoteUrlSettings":null,"remoteGithubSettings":null},"render":null,"children":[],"name":"","description":null}],"name":"train.csv","description":""}],"name":"2019 1st ML month with KaKR","description":"\u003ch2\u003eFile descriptions\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003etrain.csv\u003c/strong\u003e - 예측 모델을 만들기 위해 사용하는 학습셋입니다. 각 탑승객의 신상정보와 ground truth(생존유무)가 주어지며, 신상정보 및 파생변수를 토대로 생존유무를 예측하는 모델을 만듭니다.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003etest.csv\u003c/strong\u003e - 학습셋으로 만든 모델을 가지고 예측할 탑승객 정보가 담긴 테스트셋입니다. \u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003esampleSubmission.csv\u003c/strong\u003e - 제출시 사용할 수 있는 csv 파일입니다. \u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eData fields\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003esurvival\u003c/strong\u003e - 생존유무, target 값. (0 = 사망, 1 = 생존)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003epclass\u003c/strong\u003e - 티켓 클래스. (1 = 1st, 2 = 2nd, 3 = 3rd)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003esex\u003c/strong\u003e - 성별\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAge\u003c/strong\u003e - 나이(세)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003esibsp\u003c/strong\u003e - 함께 탑승한 형제자매, 배우자 수 총합\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eparch\u003c/strong\u003e - 함께 탑승한 부모, 자녀 수 총합\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eticket\u003c/strong\u003e - 티켓 넘버\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003efare\u003c/strong\u003e - 탑승 요금\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ecabin\u003c/strong\u003e - 객실 넘버\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eembarked\u003c/strong\u003e - 탑승 항구\u003c/li\u003e\n\u003c/ul\u003e"}],"versions":[{"id":10292790,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2019-02-05T23:01:33.617Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":3,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:04d80efacc9fe06ec24a96f495a47ff7f579e927b8341e9c94a9b987ebc020c2","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":22.8958057819982,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"R을 활용한 Titanic data 분석 기초 과정","url":"/redhorse93/r-titanic-data?scriptVersionId=10292790","versionNumber":6,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":10292565,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2019-02-05T22:50:05.357Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":20,"linesInsertedFromPrevious":9,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:04d80efacc9fe06ec24a96f495a47ff7f579e927b8341e9c94a9b987ebc020c2","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":23.5871267979965,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"R을 활용한 Titanic data 분석 입문","url":"/redhorse93/r-titanic-data?scriptVersionId=10292565","versionNumber":5,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":10292514,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2019-02-05T22:46:41.193Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:04d80efacc9fe06ec24a96f495a47ff7f579e927b8341e9c94a9b987ebc020c2","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":5.50503039199975,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"R을 활용한 Titanic data 분석 입문","url":"/redhorse93/r-titanic-data?scriptVersionId=10292514","versionNumber":4,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":10292510,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2019-02-05T22:46:20.29Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:04d80efacc9fe06ec24a96f495a47ff7f579e927b8341e9c94a9b987ebc020c2","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":3.49219526100205,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"R을 활용한 Titanic data 분석 입문","url":"/redhorse93/r-titanic-data?scriptVersionId=10292510","versionNumber":3,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":10292499,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2019-02-05T22:45:56.217Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:04d80efacc9fe06ec24a96f495a47ff7f579e927b8341e9c94a9b987ebc020c2","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":6.00713424701826,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"R을 활용한 Titanic data 분석 입문","url":"/redhorse93/r-titanic-data?scriptVersionId=10292499","versionNumber":2,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":10292492,"kernelVersionId":null,"isForkParent":false,"isNotebook":false,"languageName":"RMarkdown","lastRunTime":"2019-02-05T22:45:16.913Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":1125,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/rstats/","dockerImageId":"sha256:04d80efacc9fe06ec24a96f495a47ff7f579e927b8341e9c94a9b987ebc020c2","dockerImageName":"gcr.io/kaggle-images/rstats","exitCode":1,"failureMessage":"The kernel returned an unsuccessful exit code (1).","isValidStatus":true,"runTimeSeconds":5.00594493001699,"succeeded":false,"timeoutExceeded":false,"usedAllSpace":false},"status":"error","title":"Titanic classification with tidyverse : R을 활용한 Titanic data 분석 입문","url":"/redhorse93/r-titanic-data?scriptVersionId=10292492","versionNumber":1,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null}],"categories":{"categories":[{"id":16003,"name":"starter code","displayName":"starter code","fullPath":"kaggle \u003e starter code","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27starter code%27","tagUrl":"/tags/starter-code","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":8,"competitionCount":0,"scriptCount":19593,"totalCount":19601},{"id":13102,"name":"beginner","displayName":"beginner","fullPath":"audience \u003e beginner","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27beginner%27","tagUrl":"/tags/beginner","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":87,"competitionCount":0,"scriptCount":8309,"totalCount":8396},{"id":13208,"name":"data visualization","displayName":"data visualization","fullPath":"analysis \u003e data visualization","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27data visualization%27","tagUrl":"/tags/data-visualization","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":131,"competitionCount":0,"scriptCount":6391,"totalCount":6522},{"id":13101,"name":"tutorial","displayName":"tutorial","fullPath":"audience \u003e tutorial","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27tutorial%27","tagUrl":"/tags/tutorial","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":27,"competitionCount":1,"scriptCount":3265,"totalCount":3293},{"id":13306,"name":"feature engineering","displayName":"feature engineering","fullPath":"machine learning \u003e feature engineering","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27feature engineering%27","tagUrl":"/tags/feature-engineering","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":44,"competitionCount":0,"scriptCount":1973,"totalCount":2017}],"type":"script"},"submitToCompetitionInfo":null,"downloadAllFilesUrl":"/kernels/svzip/10292790","submission":null,"menuLinks":[{"href":"/redhorse93/r-titanic-data/notebook","text":"Report","title":"Notebook","tab":"report","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/redhorse93/r-titanic-data/code","text":"Code","title":"Code","tab":"code","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/redhorse93/r-titanic-data/data","text":"Data","title":"Data","tab":"data","count":1,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/redhorse93/r-titanic-data/comments","text":"Comments","title":"Comments","tab":"comments","count":2,"showZeroCountExplicitly":true,"reportEventCategory":null,"reportEventType":null},{"href":"/redhorse93/r-titanic-data/log","text":"Log","title":"Log","tab":"log","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/redhorse93/r-titanic-data/versions","text":"Versions","title":"Versions","tab":"versions","count":6,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/redhorse93/r-titanic-data/forks","text":"Forks","title":"Forks","tab":"forks","count":9,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null}],"rightMenuLinks":[],"callToAction":{"href":"/kernels/fork-version/10292790","text":"Fork Script","title":"Fork Script","tab":null,"count":null,"showZeroCountExplicitly":false,"reportEventCategory":"kernels","reportEventType":"anonymousKernelForkCreation"},"voteButton":{"totalVotes":9,"hasAlreadyVotedUp":false,"hasAlreadyVotedDown":false,"canUpvote":true,"canDownvote":false,"voteUpUrl":"/kernels/vote?id=2842953","voteDownUrl":null,"voters":[{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/432279-gr.jpg","displayName":"정도현(CharlieDohyunJung)","profileUrl":"/serithemage","tier":"Novice","tierInt":0,"userId":432279,"userName":"serithemage"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/676114-kg.jpg","displayName":"stat17_hb","profileUrl":"/psystat","tier":"Contributor","tierInt":1,"userId":676114,"userName":"psystat"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1155353-kg.jpg","displayName":"YouHan Lee","profileUrl":"/youhanlee","tier":"Expert","tierInt":2,"userId":1155353,"userName":"youhanlee"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1391201-kg.jpeg","displayName":"CheonSeong Kang","profileUrl":"/kcs93023","tier":"Expert","tierInt":2,"userId":1391201,"userName":"kcs93023"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Minsoon Lim","profileUrl":"/redhorse93","tier":"Novice","tierInt":0,"userId":2491657,"userName":"redhorse93"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2792680-kg.jpg","displayName":"nevret","profileUrl":"/nevret93","tier":"Novice","tierInt":0,"userId":2792680,"userName":"nevret93"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Jeeyoung Claire Yoon","profileUrl":"/jclairey","tier":"Novice","tierInt":0,"userId":2799981,"userName":"jclairey"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2806288-kg.jpg","displayName":"MaestroYi","profileUrl":"/maestroyi","tier":"Contributor","tierInt":1,"userId":2806288,"userName":"maestroyi"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Ki Chung","profileUrl":"/ckh0719","tier":"Novice","tierInt":0,"userId":2917822,"userName":"ckh0719"}],"currentUserInfo":null,"showVoters":true,"alwaysShowVoters":true},"parentDataSource":null,"parentName":"2019 1st ML month with KaKR","parentUrl":"/c/2019-1st-ml-month-with-kakr","thumbnailImageUrl":null,"canWrite":false,"canAdminister":false,"datasetHidden":false,"forkParentIsRedacted":false,"forkDiffLinesChanged":0,"forkDiffLinesDeleted":0,"forkDiffLinesInserted":0,"forkDiffUrl":null,"forkParentAuthorDisplayName":null,"forkParentAuthorUrl":null,"forkParentTitle":null,"forkParentUrl":null,"canSeeDataExplorerV2":true,"canSeeRevampedViewer":true,"canSeeInnerTableOfContents":true,"canSeeCopyAndEditText":true,"simplifiedViewer":false,"kernelOutputDataset":null});performance && performance.mark && performance.mark("KernelViewer.componentCouldBootstrap");</script>

<form action="/redhorse93/r-titanic-data" id="__AjaxAntiForgeryForm" method="post"><input name="X-XSRF-TOKEN" type="hidden" value="CfDJ8LdUzqlsSWBPr4Ce3rb9VL-bG6yGmpnAFGW49zKEELVeu5XKuRRQMKlmtWo4joAFYXRswT9KGLMCsI4I4x1Rv0xcRQlcfWsBcQPp-7SA61UYXci2OEDGMcSZ8mILAlkEci_8pNDftZKpA74j8H3--jQ" /></form>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        "HTML-CSS": {
            preferredFont: "TeX",
            availableFonts: ["STIX", "TeX"],
            linebreaks: {
                automatic: true
            },
            EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
        },
        tex2jax: {
            inlineMath: [["\\(", "\\)"], ["\\\\(", "\\\\)"]],
            displayMath: [["$$", "$$"], ["\\[", "\\]"]],
            processEscapes: true,
            ignoreClass: "tex2jax_ignore|dno"
        },
        TeX: {
            noUndefined: {
                attributes: {
                    mathcolor: "red",
                    mathbackground: "#FFEEEE",
                    mathsize: "90%"
                }
            }
        },
        Macros: {
            href: "{}"
        },
        skipStartupTypeset: true,
        messageStyle: "none"
    });
</script>
<script type="text/javascript" async crossorigin="anonymous" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



    </div>

        <div class="site-layout__footer">
            <footer class="site-footer">
    <div class="site-footer__content">
        <div class="site-footer__copyright">
            <span>&copy; 2019 Kaggle Inc</span>
        </div>
        <nav class="site-footer__nav">
            <a href="/team">Our Team</a>
            <a href="/terms">Terms</a>
            <a href="/privacy">Privacy</a>
            <a href="/contact">Contact/Support</a>
        </nav>
        <nav class="site-footer__social">
            <div data-component-name="SocialIcons" style="display: flex; flex-direction: column; flex: 1 0 auto;"></div><script>var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push();performance && performance.mark && performance.mark("SocialIcons.componentCouldBootstrap");</script>
        </nav>
    </div>
</footer>

        </div>
</div>




    </main>
</body>
</html>
